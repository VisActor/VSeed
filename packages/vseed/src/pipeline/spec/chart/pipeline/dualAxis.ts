import type { SpecPipeline } from 'src/types'
import {
  xBand,
  backgroundColor,
  discreteLegend,
  color,
  initPivot,
  datasetPivot,
  pivotDiscreteLegend,
  pivotIndicators,
  pivotAdapter,
  pivotIndicatorsAsRow,
  pivotGridStyle,
  pivotColumnDimensions,
  pivotRowDimensions,
  annotationPoint,
  annotationVerticalLine,
  annotationHorizontalLine,
  annotationArea,
  pointStyle,
  lineStyle,
  pointStateDimensionHover,
  progressive,
  series,
  datasetPrimary,
  datasetSecondary,
  areaStyle,
  barStyle,
  verticalCrosshairRect,
  yLinearSecondary,
  initDualAxisPrimary,
  initDualAxisSecondary,
  labelPrimary,
  labelSecondary,
  tooltipPrimary,
  tooltipSecondary,
  yLinearPrimary,
  dualChartTypePrimary,
  dualChartTypeSecondary,
} from '../pipes'

const dualAxis: SpecPipeline = [
  series(
    [
      initDualAxisPrimary,
      dualChartTypePrimary,
      datasetPrimary,
      labelPrimary,
      tooltipPrimary,
      progressive,

      barStyle,
      pointStyle,
      pointStateDimensionHover,
      lineStyle,
      areaStyle,
    ],
    [
      initDualAxisSecondary,
      dualChartTypeSecondary,
      datasetSecondary,
      labelSecondary,
      tooltipSecondary,
      progressive,

      barStyle,
      pointStyle,
      pointStateDimensionHover,
      lineStyle,
      areaStyle,
    ],
  ),
  xBand,
  yLinearPrimary,
  yLinearSecondary,

  color,
  backgroundColor,
  discreteLegend,

  verticalCrosshairRect,
  annotationPoint,
  annotationVerticalLine,
  annotationHorizontalLine,
  annotationArea,
]

const pivotDualAxis: SpecPipeline = [
  initPivot,
  pivotGridStyle,
  pivotIndicatorsAsRow,
  datasetPivot,
  pivotIndicators([
    series(
      [
        initDualAxisPrimary,
        dualChartTypePrimary,
        datasetPrimary,
        labelPrimary,
        tooltipPrimary,
        progressive,

        barStyle,
        pointStyle,
        pointStateDimensionHover,
        lineStyle,
        areaStyle,
      ],
      [
        initDualAxisSecondary,
        dualChartTypeSecondary,
        datasetSecondary,
        labelSecondary,
        tooltipSecondary,
        progressive,

        barStyle,
        pointStyle,
        pointStateDimensionHover,
        lineStyle,
        areaStyle,
      ],
    ),
    xBand,
    yLinearPrimary,
    yLinearSecondary,
    color,
    backgroundColor,
    verticalCrosshairRect,
    annotationPoint,
    annotationVerticalLine,
    annotationHorizontalLine,
    annotationArea,
  ]),
  pivotRowDimensions,
  pivotColumnDimensions,
  pivotDiscreteLegend,
]

export const dualAxisSpecPipeline: SpecPipeline = [pivotAdapter(dualAxis, pivotDualAxis)]
