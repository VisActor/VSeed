import type { SpecPipeline, Spec } from 'src/types'
import {
  datasetXY,
  backgroundColor,
  label,
  tooltip,
  discreteLegend,
  color,
  initPivot,
  datasetPivot,
  pivotDiscreteLegend,
  pivotIndicators,
  pivotAdapter,
  pivotIndicatorsAsRow,
  pivotGridStyle,
  pivotColumnDimensions,
  pivotRowDimensions,
  pointStyle,
  lineStyle,
  verticalCrosshairLine,
  pointStateDimensionHover,
  initRadar,
  areaStyle,
  radarAngleAxis,
  radarRadiusAxis,
  progressive,
  linearColor,
  colorAdapter,
  colorLegend,
  colorPointStyleFill,
  colorLineStyleFill,
  colorAreaStyleFill,
  pivotColorLegend,
  pivotHideIndicatorName,
  pivotTitle,
  addRegionPadding,
} from '../pipes'
import type { PivotChartConstructorOptions } from '@visactor/vtable'

const radar: SpecPipeline<Spec> = [
  initRadar,
  colorAdapter(color, linearColor),
  backgroundColor,
  datasetXY,
  progressive,
  radarAngleAxis,
  radarRadiusAxis,
  label,
  tooltip,
  colorAdapter(discreteLegend, colorLegend),
  verticalCrosshairLine,
  colorPointStyleFill(pointStyle),
  pointStateDimensionHover,
  colorLineStyleFill(lineStyle),
  colorAreaStyleFill(areaStyle),
  // annotationPoint,
  // annotationVerticalLine,
  // annotationHorizontalLine,
  // annotationArea,
]

const pivotRadar: SpecPipeline<PivotChartConstructorOptions> = [
  initPivot,
  pivotGridStyle,
  pivotIndicatorsAsRow,
  pivotHideIndicatorName,
  datasetPivot,
  pivotIndicators([
    initRadar,
    addRegionPadding,
    colorAdapter(color, linearColor),
    backgroundColor,
    datasetXY,
    progressive,
    radarAngleAxis,
    radarRadiusAxis,
    label,
    tooltip,
    verticalCrosshairLine,
    colorPointStyleFill(pointStyle),
    pointStateDimensionHover,
    colorLineStyleFill(lineStyle),
    colorAreaStyleFill(areaStyle),
    // annotationPoint,
    // annotationVerticalLine,
    // annotationHorizontalLine,
    // annotationArea,
  ]),
  pivotRowDimensions,
  pivotColumnDimensions,
  pivotTitle,
  colorAdapter(pivotDiscreteLegend, pivotColorLegend),
]

export const radarSpecPipeline: SpecPipeline<Spec | PivotChartConstructorOptions> = [pivotAdapter(radar, pivotRadar)]
