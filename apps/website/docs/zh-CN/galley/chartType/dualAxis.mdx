---
pageType: doc
---

import {
  DualAxisChart,
  CombinationDualAxisChart,
  PivotDualAxisChart,
  DualChartType,
  DualChartTypeArray,
  DualYAxisArray,
} from '@components'

# dualAxis

## measures

:::info
配置双轴图指标

若measures有`1`层, 第一个指标应用于主轴, 第二个指标及其之后的指标, 一起应用于次轴. 绘制一个普通双轴图.

若measures有`2`层, 第一组指标应用于主轴, 第二组指标用于次轴, 第三组及其之后的指标组会被忽略. 绘制一个普通双轴图.

若measures有`3`层, 每一组指标用于绘制一个双轴图, 自上而下, 纵向排列. 绘制一个组合双轴图.

:::

### 双轴图(measures 1 层)

<DualAxisChart />

```tsx pure {4-7}
export const DualAxisChart = memo(() => {
  const vseed: VSeed = {
    chartType: 'dualAxis',
    measures: [
      { id: 'sales', alias: '销售额' },
      { id: 'profit', alias: '利润' },
    ],
    dataset: [
      { date: '2019', profit: 10, sales: 200 },
      { date: '2020', profit: 30, sales: 600 },
      { date: '2021', profit: 30, sales: 600 },
      { date: '2022', profit: 50, sales: 1000 },
      { date: '2023', profit: 40, sales: 800 },
    ],
  }
  return <VChartRender vseed={vseed} />
})
```

### 双轴图(measures 2 层)

<DualAxisChart />

```tsx pure {4-13}
export const DualAxisChart = memo(() => {
  const vseed: VSeed = {
    chartType: 'dualAxis',
    measures: [
      {
        id: 'primary',
        children: [{ id: 'sales', alias: '销售额' }],
      },
      {
        id: 'secondary',
        children: [{ id: 'profit', alias: '利润' }],
      },
    ],
    dataset: [
      { date: '2019', profit: 10, sales: 200 },
      { date: '2020', profit: 30, sales: 600 },
      { date: '2021', profit: 30, sales: 600 },
      { date: '2022', profit: 50, sales: 1000 },
      { date: '2023', profit: 40, sales: 800 },
    ],
  }
  return <VChartRender vseed={vseed} />
})
```

### 组合双轴图(measures 3 层)

<CombinationDualAxisChart />

```tsx pure {4-33}
export const CombinationDualAxisChart = memo(() => {
  const vseed: VSeed = {
    chartType: 'dualAxis',
    measures: [
      {
        id: 'first',
        alias: '第一个双轴图',
        children: [
          {
            id: 'secondary-profit',
            children: [{ id: 'profit', alias: '利润' }],
          },
          {
            id: 'primary-sales',
            children: [{ id: 'sales', alias: '销售额' }],
          },
        ],
      },
      {
        id: 'second',
        alias: '第一个双轴图',
        children: [
          {
            id: 'primary-ratio',
            children: [{ id: 'ratio', alias: '比率' }],
          },
          {
            id: 'returnRatio',
            children: [{ id: 'returnRatio', alias: '回报率' }],
          },
        ],
      },
    ],
    dataset: [
      { date: '2019', profit: 10, sales: 100, ratio: 301, returnRatio: 301 },
      { date: '2020', profit: 30, sales: 3200, ratio: 32, returnRatio: 30 },
      { date: '2021', profit: 30, sales: 300, ratio: 103, returnRatio: 503 },
      { date: '2022', profit: 50, sales: 2400, ratio: 30, returnRatio: 24 },
      { date: '2023', profit: 40, sales: 500, ratio: 305, returnRatio: 305 },
    ],
    dimensions: [
      {
        id: 'date',
        alias: '日期',
        location: 'dimension',
      },
    ],
  }
  return <PivotChart vseed={vseed} />
})
```

## dualMeasures

:::info
dualMeasures 是 measures 的一个便捷扩展, 用于配置双轴图的指标.

若dualMeasures仅有`1`项, 则绘制一个普通双轴图.

若dualMeasures至少有`2`项, 则绘制一个组合双轴图.

:::

### 双轴图(dualMeasures 1 项)

<DualAxisChart />

```tsx pure {4-11}
export const DualAxisChart = memo(() => {
  const vseed: VSeed = {
    chartType: 'dualAxis',
    dualMeasures: [
      {
        primaryMeasures: [{ id: 'profit' }],
        secondaryMeasures: [{ id: 'sales' }],
      },
    ],
    dataset: [
      { date: '2019', profit: 10, sales: 200 },
      { date: '2020', profit: 30, sales: 600 },
      { date: '2021', profit: 30, sales: 600 },
      { date: '2022', profit: 50, sales: 1000 },
      { date: '2023', profit: 40, sales: 800 },
    ],
  }
  return <VChartRender vseed={vseed} />
})
```

### 组合透视图(dualMeasures 2 项)

<CombinationDualAxisChart />

```tsx pure {4-17}
export const CombinationDualAxisChart = memo(() => {
  const vseed: VSeed = {
    chartType: 'dualAxis',
    dualMeasures: [
      {
        primaryMeasures: [{ id: 'profit' }],
        secondaryMeasures: [{ id: 'sales' }],
      },
      {
        primaryMeasures: [{ id: 'ratio' }],
        secondaryMeasures: [{ id: 'returnRatio' }],
      },
    ],
    dataset: [
      { date: '2019', profit: 10, sales: 100, ratio: 301, returnRatio: 301 },
      { date: '2020', profit: 30, sales: 3200, ratio: 32, returnRatio: 30 },
      { date: '2021', profit: 30, sales: 300, ratio: 103, returnRatio: 503 },
      { date: '2022', profit: 50, sales: 2400, ratio: 30, returnRatio: 24 },
      { date: '2023', profit: 40, sales: 500, ratio: 305, returnRatio: 305 },
    ],
    dimensions: [
      {
        id: 'date',
        alias: '日期',
        location: 'dimension',
      },
    ],
  }
  return <PivotChart vseed={vseed} />
})
```

## dimensions

### 透视组合双轴图

<PivotDualAxisChart />

```tsx pure {4-20}
export const PivotDualAxisChart = memo(() => {
  const vseed: VSeed = {
    chartType: 'dualAxis',
    dimensions: [
      {
        id: 'date',
        alias: '日期',
        location: 'dimension',
      },
      {
        id: 'type',
        alias: '类型',
        location: 'rowDimension',
      },
      {
        id: 'test',
        alias: '测试',
        location: 'columnDimension',
      },
    ],
    dataset: [
      { date: '2019', type: 'A', test: 'TEST-A', profit: 10, sales: 100, ratio: 1, returnRatio: 301 },
      { date: '2020', type: 'A', test: 'TEST-A', profit: 30, sales: 3200, ratio: 2, returnRatio: 30 },
      { date: '2021', type: 'A', test: 'TEST-A', profit: 30, sales: 300, ratio: 3, returnRatio: 303 },
      { date: '2022', type: 'A', test: 'TEST-A', profit: 50, sales: 2400, ratio: 4, returnRatio: 34 },
      { date: '2023', type: 'A', test: 'TEST-A', profit: 40, sales: 500, ratio: 5, returnRatio: 305 },
      { date: '2019', type: 'A', test: 'TEST-D', profit: 10, sales: 100, ratio: 5, returnRatio: 30 },
      { date: '2020', type: 'A', test: 'TEST-D', profit: 30, sales: 3200, ratio: 4, returnRatio: 302 },
      { date: '2021', type: 'A', test: 'TEST-D', profit: 30, sales: 300, ratio: 3, returnRatio: 30 },
      { date: '2022', type: 'A', test: 'TEST-D', profit: 50, sales: 2400, ratio: 2, returnRatio: 304 },
      { date: '2023', type: 'A', test: 'TEST-D', profit: 40, sales: 500, ratio: 1, returnRatio: 35 },

      { date: '2019', type: 'B', test: 'TEST-A', profit: 10, sales: 100, ratio: 11, returnRatio: 301 },
      { date: '2020', type: 'B', test: 'TEST-A', profit: 30, sales: 3200, ratio: 12, returnRatio: 30 },
      { date: '2021', type: 'B', test: 'TEST-A', profit: 30, sales: 300, ratio: 13, returnRatio: 303 },
      { date: '2022', type: 'B', test: 'TEST-A', profit: 50, sales: 2400, ratio: 14, returnRatio: 34 },
      { date: '2023', type: 'B', test: 'TEST-A', profit: 40, sales: 500, ratio: 15, returnRatio: 305 },
      { date: '2019', type: 'B', test: 'TEST-D', profit: 10, sales: 100, ratio: 51, returnRatio: 30 },
      { date: '2020', type: 'B', test: 'TEST-D', profit: 30, sales: 3200, ratio: 51, returnRatio: 32 },
      { date: '2021', type: 'B', test: 'TEST-D', profit: 30, sales: 300, ratio: 52, returnRatio: 303 },
      { date: '2022', type: 'B', test: 'TEST-D', profit: 50, sales: 2400, ratio: 5, returnRatio: 34 },
      { date: '2023', type: 'B', test: 'TEST-D', profit: 40, sales: 500, ratio: 1, returnRatio: 35 },
    ],
    dualMeasures: [
      {
        primaryMeasures: [{ id: 'profit' }],
        secondaryMeasures: [{ id: 'sales' }],
      },
      {
        primaryMeasures: [{ id: 'ratio' }],
        secondaryMeasures: [{ id: 'returnRatio' }],
      },
    ],
  }
  return <PivotChart vseed={vseed} />
})
```

## dualChartType

### 双轴图

<DualChartType />

```tsx pure {4-7}
export const DualChartType = memo(() => {
  const vseed: VSeed = {
    chartType: 'dualAxis',
    dualChartType: {
      primary: 'area',
      secondary: 'scatter',
    },
    dataset: [
      { date: '2019', profit: 20, sales: 100 },
      { date: '2020', profit: 30, sales: 600 },
      { date: '2021', profit: 30, sales: 600 },
      { date: '2022', profit: 50, sales: 500 },
      { date: '2023', profit: 10, sales: 800 },
    ],
    measures: [
      {
        id: 'primary',
        children: [{ id: 'sales', alias: '销售额' }],
      },
      {
        id: 'secondary',
        children: [{ id: 'profit', alias: '利润' }],
      },
    ],
  }
  return <VChartRender vseed={vseed} />
})
```

### 组合双轴图

<DualChartTypeArray />

```tsx pure {4-13}
export const DualChartTypeArray = memo(() => {
  const vseed: VSeed = {
    chartType: 'dualAxis',
    dualChartType: [
      {
        primary: 'area',
        secondary: 'scatter',
      },
      {
        primary: 'column',
        secondary: 'line',
      },
    ],
    measures: [
      {
        id: 'first',
        alias: '第一个双轴图',
        children: [
          {
            id: 'secondary-profit',
            children: [{ id: 'profit', alias: '利润' }],
          },
          {
            id: 'primary-sales',
            children: [{ id: 'sales', alias: '销售额' }],
          },
        ],
      },
      {
        id: 'second',
        alias: '第一个双轴图',
        children: [
          {
            id: 'primary-ratio',
            children: [{ id: 'ratio', alias: '比率' }],
          },
          {
            id: 'returnRatio',
            children: [{ id: 'returnRatio', alias: '回报率' }],
          },
        ],
      },
    ],
    dataset: [
      { date: '2019', profit: 10, sales: 100, ratio: 301, returnRatio: 301 },
      { date: '2020', profit: 30, sales: 3200, ratio: 32, returnRatio: 30 },
      { date: '2021', profit: 30, sales: 300, ratio: 103, returnRatio: 503 },
      { date: '2022', profit: 50, sales: 2400, ratio: 30, returnRatio: 24 },
      { date: '2023', profit: 40, sales: 500, ratio: 305, returnRatio: 305 },
    ],
    dimensions: [
      {
        id: 'date',
        alias: '日期',
        location: 'dimension',
      },
    ],
  }
  return <PivotChart vseed={vseed} />
})
```

## primaryYAxis & secondaryYAxis

<DualYAxisArray />

```tsx pure {4-31}
export const DualYAxisArray = memo(() => {
  const vseed: VSeed = {
    chartType: 'dualAxis',
    primaryYAxis: [
      {
        title: {
          visible: true,
          titleText: '利润',
        },
      },
      {
        title: {
          visible: true,
          titleText: '比率',
        },
      },
    ],
    secondaryYAxis: [
      {
        title: {
          visible: true,
          titleText: '销售额',
        },
      },
      {
        title: {
          visible: true,
          titleText: '回报率',
        },
      },
    ],
    measures: [
      {
        id: 'first',
        alias: '第一个双轴图',
        children: [
          {
            id: 'secondary-profit',
            children: [{ id: 'profit', alias: '利润' }],
          },
          {
            id: 'primary-sales',
            children: [{ id: 'sales', alias: '销售额' }],
          },
        ],
      },
      {
        id: 'second',
        alias: '第一个双轴图',
        children: [
          {
            id: 'primary-ratio',
            children: [{ id: 'ratio', alias: '比率' }],
          },
          {
            id: 'returnRatio',
            children: [{ id: 'returnRatio', alias: '回报率' }],
          },
        ],
      },
    ],
    dataset: [
      { date: '2019', profit: 10, sales: 100, ratio: 301, returnRatio: 301 },
      { date: '2020', profit: 30, sales: 3200, ratio: 32, returnRatio: 30 },
      { date: '2021', profit: 30, sales: 300, ratio: 103, returnRatio: 503 },
      { date: '2022', profit: 50, sales: 2400, ratio: 30, returnRatio: 24 },
      { date: '2023', profit: 40, sales: 500, ratio: 305, returnRatio: 305 },
    ],
    dimensions: [
      {
        id: 'date',
        alias: '日期',
        location: 'dimension',
      },
    ],
  }
  return <PivotChart vseed={vseed} />
})
```
