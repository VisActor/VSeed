import type { SpecPipeline } from 'src/types'
import {
  datasetXY,
  backgroundColor,
  label,
  tooltip,
  discreteLegend,
  color,
  pivotAdapter,
  initPivot,
  datasetPivot,
  pivotIndicators,
  pivotDiscreteLegend,
  pivotIndicatorsAsRow,
  pivotGridStyle,
  pivotRowDimensions,
  pivotColumnDimensions,
  stackInverse,
  verticalCrosshairRect,
  stackCornerRadius,
  initRose,
  radiusAxis,
  angleAxis,
  progressive,
  linearColor,
  colorAdapter,
  pivotColorLegend,
  colorLegend,
  roseStyle,
  colorRoseStyleFill,
} from '../pipes'

const rose: SpecPipeline = [
  initRose,
  stackCornerRadius,
  stackInverse,
  colorAdapter(color, linearColor),
  backgroundColor,
  datasetXY,
  progressive,
  angleAxis,
  radiusAxis,
  verticalCrosshairRect,
  colorRoseStyleFill(roseStyle),
  colorAdapter(discreteLegend, colorLegend),
  label,
  tooltip,
]

const pivotRose: SpecPipeline = [
  initPivot,
  pivotGridStyle,
  pivotIndicatorsAsRow,
  datasetPivot,
  pivotIndicators([
    initRose,
    stackCornerRadius,
    stackInverse,
    colorAdapter(color, linearColor),
    backgroundColor,
    datasetXY,
    progressive,
    radiusAxis,
    angleAxis,
    verticalCrosshairRect,
    colorRoseStyleFill(roseStyle),
    label,
    tooltip,
  ]),
  pivotRowDimensions,
  pivotColumnDimensions,
  colorAdapter(pivotDiscreteLegend, pivotColorLegend),
]

export const roseSpecPipeline = [pivotAdapter(rose, pivotRose)]
