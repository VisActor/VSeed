---
pageType: doc
---

import {
  Dataset,
  AutoDataset,
  Dataset3M0D,
  Dataset3M1D,
  Dataset3M3D,
  Dataset1M0D,
  Dataset1M1D,
  Dataset1M3D,
} from '@components'

# dataset

:::info{title="Dataset"} `TidyData` 规范的且已聚合的数据源, 遵循`变量为列、观测为行的原则` :::

## 数据源

<Dataset />

```json {3-15}
{
  "chartType": "columnParallel",
  "dataset": [
    { "date": "2019", "region": "east", "profit": 10, "sales": 20 },
    { "date": "2020", "region": "east", "profit": 30, "sales": 60 },
    { "date": "2021", "region": "east", "profit": 30, "sales": 60 },
    { "date": "2022", "region": "east", "profit": 50, "sales": 100 },
    { "date": "2023", "region": "east", "profit": 40, "sales": 80 },

    { "date": "2019", "region": "north of east", "profit": 10, "sales": 20 },
    { "date": "2020", "region": "north of east", "profit": 30, "sales": 60 },
    { "date": "2021", "region": "north of east", "profit": 30, "sales": 60 },
    { "date": "2022", "region": "north of east", "profit": 50, "sales": 100 },
    { "date": "2023", "region": "north of east", "profit": 40, "sales": 80 }
  ],
  "measures": [
    { "id": "profit", "alias": "利润" },
    { "id": "sales", "alias": "销售量" }
  ],
  "dimensions": [
    { "id": "date", "alias": "日期", "location": "dimension" },
    { "id": "region", "alias": "区域", "location": "dimension" }
  ]
}
```

## 自动选择

若未配置 `dimensions` 和 `measures` , 会取前100条数据, 进行如下判断:

- 如果一个字段存在 `number` 类型的数据, 则将其设置为指标
- 如果一个字段存在 `string` 类型的数据, 并且字段未被设置为指标, 则将其设置为维度

<AutoDataset />

```json {3-15}
{
  "chartType": "columnParallel",
  "dataset": [
    { "date": "2019", "region": "east", "profit": 10, "sales": 20 },
    { "date": "2020", "region": "east", "profit": 30, "sales": 60 },
    { "date": "2021", "region": "east", "profit": 30, "sales": 60 },
    { "date": "2022", "region": "east", "profit": 50, "sales": 100 },
    { "date": "2023", "region": "east", "profit": 40, "sales": 80 },

    { "date": "2019", "region": "north of east", "profit": 10, "sales": 20 },
    { "date": "2020", "region": "north of east", "profit": 30, "sales": 60 },
    { "date": "2021", "region": "north of east", "profit": 30, "sales": 60 },
    { "date": "2022", "region": "north of east", "profit": 50, "sales": 100 },
    { "date": "2023", "region": "north of east", "profit": 40, "sales": 80 }
  ]
}
```

## 单指标 零维度

<Dataset1M0D />

```json {3}
{
  "chartType": "columnParallel",
  "dataset": [{ "profit": 10 }]
}
```

## 单指标 单维度

<Dataset1M1D />

```json {3-9}
{
  "chartType": "columnParallel",
  "dataset": [
    { "date": "2019", "profit": 10 },
    { "date": "2020", "profit": 30 },
    { "date": "2021", "profit": 30 },
    { "date": "2022", "profit": 50 },
    { "date": "2023", "profit": 40 }
  ]
}
```

## 单指标 多维度

<Dataset1M3D />

```json {3-9}
{
  "chartType": "columnParallel",
  "dataset": [
    { "date": "2019", "region": "east", "city": "A", "profit": 10 },
    { "date": "2019", "region": "east", "city": "B", "profit": 30 },
    { "date": "2019", "region": "east", "city": "C", "profit": 30 },
    { "date": "2019", "region": "east", "city": "D", "profit": 50 },
    { "date": "2019", "region": "east", "city": "E", "profit": 40 },

    { "date": "2020", "region": "north of east", "city": "A", "profit": 10 },
    { "date": "2020", "region": "north of east", "city": "B", "profit": 30 },
    { "date": "2020", "region": "north of east", "city": "C", "profit": 30 },
    { "date": "2020", "region": "north of east", "city": "D", "profit": 50 },
    { "date": "2020", "region": "north of east", "city": "E", "profit": 40 }
  ]
}
```

## 多指标 零维度

<Dataset3M0D />

```json {3}
{
  "chartType": "columnParallel",
  "dataset": [{ "profit": 1, "sales": 2, "discount": 0.1 }]
}
```

## 多指标 单维度

<Dataset3M1D />

```json {3-9}
{
  "chartType": "columnParallel",
  "dataset": [
    { "date": "2019", "profit": 10, "sales": 20, "discount": 0.1 },
    { "date": "2020", "profit": 30, "sales": 60, "discount": 0.1 },
    { "date": "2021", "profit": 30, "sales": 60, "discount": 0.1 },
    { "date": "2022", "profit": 50, "sales": 100, "discount": 0.1 },
    { "date": "2023", "profit": 40, "sales": 80, "discount": 0.1 }
  ]
}
```

## 多指标 多维度

<Dataset3M3D />

```json {3-15}
{
  "chartType": "columnParallel",
  "dataset": [
    { "date": "2019", "region": "east", "city": "A", "profit": 10, "sales": 20, "discount": 0.1 },
    { "date": "2019", "region": "east", "city": "B", "profit": 30, "sales": 60, "discount": 0.1 },
    { "date": "2019", "region": "east", "city": "C", "profit": 30, "sales": 60, "discount": 0.1 },
    { "date": "2019", "region": "east", "city": "D", "profit": 50, "sales": 100, "discount": 0.1 },
    { "date": "2019", "region": "east", "city": "E", "profit": 40, "sales": 80, "discount": 0.1 },

    { "date": "2020", "region": "north of east", "city": "A", "profit": 10, "sales": 20, "discount": 0.1 },
    { "date": "2020", "region": "north of east", "city": "B", "profit": 30, "sales": 60, "discount": 0.1 },
    { "date": "2020", "region": "north of east", "city": "C", "profit": 30, "sales": 60, "discount": 0.1 },
    { "date": "2020", "region": "north of east", "city": "D", "profit": 50, "sales": 100, "discount": 0.1 },
    { "date": "2020", "region": "north of east", "city": "E", "profit": 40, "sales": 80, "discount": 0.1 }
  ]
}
```
