"use strict";(self.webpackChunkwebsite=self.webpackChunkwebsite||[]).push([["1171"],{7640:function(e,s,n){n.r(s),n.d(s,{default:()=>l});var d=n(31549),c=n(6603);function i(e){let s=Object.assign({h1:"h1",a:"a",p:"p",code:"code",ul:"ul",li:"li",div:"div",h2:"h2",pre:"pre",blockquote:"blockquote",strong:"strong"},(0,c.ah)(),e.components);return(0,d.jsxs)(d.Fragment,{children:[(0,d.jsxs)(s.h1,{id:"测试",children:[(0,d.jsx)(s.a,{className:"header-anchor","aria-hidden":"true",href:"#测试",children:"#"}),"测试"]}),"\n",(0,d.jsxs)(s.p,{children:["在目录",(0,d.jsx)(s.code,{children:"packages/vseed/tests"}),"内包含所有的测试用例"]}),"\n",(0,d.jsxs)(s.ul,{children:["\n",(0,d.jsxs)(s.li,{children:["每个用例是一个",(0,d.jsx)(s.code,{children:"json"}),"文件, 包含一个完整的 ",(0,d.jsx)(s.code,{children:"vseed"})," 配置"]}),"\n",(0,d.jsxs)(s.li,{children:["每个",(0,d.jsx)(s.code,{children:"json"}),"文件的文件名即为测试用例的名称"]}),"\n",(0,d.jsxs)(s.li,{children:["每个 ",(0,d.jsx)(s.code,{children:"*.test.ts"})," 文件均为自动生成, 请勿手动维护"]}),"\n",(0,d.jsxs)(s.li,{children:["修改任何",(0,d.jsx)(s.code,{children:"json"}),"文件, 请重新执行 ",(0,d.jsx)(s.code,{children:"pnpm run build:canvasTest"})]}),"\n"]}),"\n",(0,d.jsxs)(s.div,{className:"rspress-directive tip",children:[(0,d.jsx)(s.div,{className:"rspress-directive-title",children:"TIP"}),(0,d.jsx)(s.div,{className:"rspress-directive-content",children:(0,d.jsxs)(s.p,{children:["\n仅维护 ",(0,d.jsx)(s.code,{children:"json"}),"配置, 极大的提升测试用例的可维护性, 并降低测试用例的编写成本"]})})]}),"\n",(0,d.jsxs)(s.h2,{id:"buildtest",children:[(0,d.jsx)(s.a,{className:"header-anchor","aria-hidden":"true",href:"#buildtest",children:"#"}),"build:test"]}),"\n",(0,d.jsxs)(s.p,{children:["根据每一个",(0,d.jsx)(s.code,{children:"vseed"}),", 生成测试用例, 每个用例包含",(0,d.jsx)(s.code,{children:"spec"})," 和 ",(0,d.jsx)(s.code,{children:"advancedVseed"})," 的快照"]}),"\n",(0,d.jsx)(s.pre,{children:(0,d.jsx)(s.code,{className:"language-bash",meta:'title="source: scripts/build-tests.mjs"',children:"pnpm run build:canvasTest\n"})}),"\n",(0,d.jsxs)(s.h2,{id:"buildcanvastest",children:[(0,d.jsx)(s.a,{className:"header-anchor","aria-hidden":"true",href:"#buildcanvastest",children:"#"}),"build:canvasTest"]}),"\n",(0,d.jsxs)(s.p,{children:["根据每一个vseed dsl, 生成测试用例, 每个用例包含",(0,d.jsx)(s.code,{children:"spec"})," 和 ",(0,d.jsx)(s.code,{children:"advancedVseed"})," 的快照, 并创建图表实例, 获得更高的测试覆盖率"]}),"\n",(0,d.jsxs)(s.blockquote,{children:["\n",(0,d.jsx)(s.p,{children:"spec 内存在一些回调函数, 创建图表实例, 才能触发回调函数"}),"\n"]}),"\n",(0,d.jsx)(s.pre,{children:(0,d.jsx)(s.code,{className:"language-bash",meta:'title="source: scripts/build-tests-with-canvas.mjs"',children:"pnpm run build:canvasTest\n"})}),"\n",(0,d.jsxs)(s.h2,{id:"测试覆盖率",children:[(0,d.jsx)(s.a,{className:"header-anchor","aria-hidden":"true",href:"#测试覆盖率",children:"#"}),"测试覆盖率"]}),"\n",(0,d.jsx)(s.p,{children:"运行测试并生成覆盖率报告后, 会自动生成覆盖率徽章到README.md文件, 并打开覆盖率报告页面"}),"\n",(0,d.jsx)(s.pre,{children:(0,d.jsx)(s.code,{className:"language-bash",children:"pnpm test:coverage\n"})}),"\n",(0,d.jsxs)(s.ul,{children:["\n",(0,d.jsxs)(s.li,{children:[(0,d.jsx)(s.strong,{children:"HTML 报告"}),": ",(0,d.jsx)(s.code,{children:"packages/vseed/coverage/index.html"})]}),"\n",(0,d.jsxs)(s.li,{children:[(0,d.jsx)(s.strong,{children:"JSON 数据"}),": ",(0,d.jsx)(s.code,{children:"packages/vseed/coverage/coverage-summary.json"})]}),"\n",(0,d.jsxs)(s.li,{children:[(0,d.jsx)(s.strong,{children:"徽章"}),": README.md 文件顶部的覆盖率徽章"]}),"\n"]}),"\n",(0,d.jsxs)(s.div,{className:"rspress-directive tip",children:[(0,d.jsx)(s.div,{className:"rspress-directive-title",children:"TIP"}),(0,d.jsxs)(s.div,{className:"rspress-directive-content",children:[(0,d.jsx)(s.p,{children:"\n徽章使用 shields.io 动态生成，格式为："}),(0,d.jsx)(s.pre,{children:(0,d.jsx)(s.code,{className:"language-bash",meta:'title="source: scripts/build-coverage-badge.mjs"',children:"https://img.shields.io/badge/Coverage-{percentage}%-{color}.svg\n"})})]})]})]})}function r(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},{wrapper:s}=Object.assign({},(0,c.ah)(),e.components);return s?(0,d.jsx)(s,Object.assign({},e,{children:(0,d.jsx)(i,e)})):i(e)}let l=r;r.__RSPRESS_PAGE_META={},r.__RSPRESS_PAGE_META["zh-CN%2Fdevelopment%2Ftests.md"]={toc:[{id:"buildtest",text:"build:test",depth:2},{id:"buildcanvastest",text:"build:canvasTest",depth:2},{id:"测试覆盖率",text:"测试覆盖率",depth:2}],title:"测试",headingTitle:"测试",frontmatter:{}}}}]);
//# sourceMappingURL=1171.60654a5e.js.map