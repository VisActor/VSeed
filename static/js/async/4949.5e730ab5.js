"use strict";(self.rspackChunkwebsite=self.rspackChunkwebsite||[]).push([["4949"],{67236(s,e,n){n.r(e),n.d(e,{default:()=>a});var r=n(78525),i=n(158);function l(s){let e={a:"a",code:"code",h1:"h1",h2:"h2",h3:"h3",p:"p",pre:"pre",span:"span",...(0,i.R)(),...s.components};return(0,r.jsxs)(r.Fragment,{children:[(0,r.jsxs)(e.h1,{id:"脚本",children:[(0,r.jsx)(e.a,{className:"rp-header-anchor","aria-hidden":"true",href:"#脚本",children:"#"}),"脚本"]}),"\n",(0,r.jsxs)(e.p,{children:["根目录的 ",(0,r.jsx)(e.code,{children:"package.json"})," 中定义的脚本如下:"]}),"\n",(0,r.jsx)(r.Fragment,{children:(0,r.jsx)(e.pre,{className:"shiki css-variables",style:{backgroundColor:"var(--shiki-background)",color:"var(--shiki-foreground)"},tabIndex:"0",title:"package.json",lang:"json",children:(0,r.jsxs)(e.code,{children:[(0,r.jsx)(e.span,{className:"line",children:(0,r.jsx)(e.span,{style:{color:"var(--shiki-foreground)"},children:"{"})}),"\n",(0,r.jsxs)(e.span,{className:"line",children:[(0,r.jsx)(e.span,{style:{color:"var(--shiki-token-keyword)"},children:'  "scripts"'}),(0,r.jsx)(e.span,{style:{color:"var(--shiki-token-punctuation)"},children:":"}),(0,r.jsx)(e.span,{style:{color:"var(--shiki-foreground)"},children:" {"})]}),"\n",(0,r.jsxs)(e.span,{className:"line",children:[(0,r.jsx)(e.span,{style:{color:"var(--shiki-token-keyword)"},children:'    "dev"'}),(0,r.jsx)(e.span,{style:{color:"var(--shiki-token-punctuation)"},children:":"}),(0,r.jsx)(e.span,{style:{color:"var(--shiki-token-string-expression)"},children:' "pnpm -r --color --parallel dev"'}),(0,r.jsx)(e.span,{style:{color:"var(--shiki-token-punctuation)"},children:","})]}),"\n",(0,r.jsxs)(e.span,{className:"line",children:[(0,r.jsx)(e.span,{style:{color:"var(--shiki-token-keyword)"},children:'    "dev:rsdoctor"'}),(0,r.jsx)(e.span,{style:{color:"var(--shiki-token-punctuation)"},children:":"}),(0,r.jsx)(e.span,{style:{color:"var(--shiki-token-string-expression)"},children:' "pnpm --filter=@visactor/vseed run dev:rsdoctor"'}),(0,r.jsx)(e.span,{style:{color:"var(--shiki-token-punctuation)"},children:","})]}),"\n",(0,r.jsxs)(e.span,{className:"line",children:[(0,r.jsx)(e.span,{style:{color:"var(--shiki-token-keyword)"},children:'    "build"'}),(0,r.jsx)(e.span,{style:{color:"var(--shiki-token-punctuation)"},children:":"}),(0,r.jsx)(e.span,{style:{color:"var(--shiki-token-string-expression)"},children:' "pnpm -r build"'}),(0,r.jsx)(e.span,{style:{color:"var(--shiki-token-punctuation)"},children:","})]}),"\n",(0,r.jsxs)(e.span,{className:"line",children:[(0,r.jsx)(e.span,{style:{color:"var(--shiki-token-keyword)"},children:'    "build:vseed"'}),(0,r.jsx)(e.span,{style:{color:"var(--shiki-token-punctuation)"},children:":"}),(0,r.jsx)(e.span,{style:{color:"var(--shiki-token-string-expression)"},children:' "pnpm --filter=@visactor/vseed run build"'}),(0,r.jsx)(e.span,{style:{color:"var(--shiki-token-punctuation)"},children:","})]}),"\n",(0,r.jsxs)(e.span,{className:"line",children:[(0,r.jsx)(e.span,{style:{color:"var(--shiki-token-keyword)"},children:'    "build:rsdoctor"'}),(0,r.jsx)(e.span,{style:{color:"var(--shiki-token-punctuation)"},children:":"}),(0,r.jsx)(e.span,{style:{color:"var(--shiki-token-string-expression)"},children:' "pnpm --filter=@visactor/vseed run build:rsdoctor"'}),(0,r.jsx)(e.span,{style:{color:"var(--shiki-token-punctuation)"},children:","})]}),"\n",(0,r.jsxs)(e.span,{className:"line",children:[(0,r.jsx)(e.span,{style:{color:"var(--shiki-token-keyword)"},children:'    "build:docs"'}),(0,r.jsx)(e.span,{style:{color:"var(--shiki-token-punctuation)"},children:":"}),(0,r.jsx)(e.span,{style:{color:"var(--shiki-token-string-expression)"},children:' "node ./scripts/build-docs.js"'}),(0,r.jsx)(e.span,{style:{color:"var(--shiki-token-punctuation)"},children:","})]}),"\n",(0,r.jsxs)(e.span,{className:"line",children:[(0,r.jsx)(e.span,{style:{color:"var(--shiki-token-keyword)"},children:'    "build:test"'}),(0,r.jsx)(e.span,{style:{color:"var(--shiki-token-punctuation)"},children:":"}),(0,r.jsx)(e.span,{style:{color:"var(--shiki-token-string-expression)"},children:' "node ./scripts/build-tests.mjs"'}),(0,r.jsx)(e.span,{style:{color:"var(--shiki-token-punctuation)"},children:","})]}),"\n",(0,r.jsxs)(e.span,{className:"line",children:[(0,r.jsx)(e.span,{style:{color:"var(--shiki-token-keyword)"},children:'    "build:canvasTest"'}),(0,r.jsx)(e.span,{style:{color:"var(--shiki-token-punctuation)"},children:":"}),(0,r.jsx)(e.span,{style:{color:"var(--shiki-token-string-expression)"},children:' "node ./scripts/build-tests-with-canvas.mjs"'}),(0,r.jsx)(e.span,{style:{color:"var(--shiki-token-punctuation)"},children:","})]}),"\n",(0,r.jsxs)(e.span,{className:"line",children:[(0,r.jsx)(e.span,{style:{color:"var(--shiki-token-keyword)"},children:'    "test"'}),(0,r.jsx)(e.span,{style:{color:"var(--shiki-token-punctuation)"},children:":"}),(0,r.jsx)(e.span,{style:{color:"var(--shiki-token-string-expression)"},children:' "pnpm --filter=@visactor/vseed test"'}),(0,r.jsx)(e.span,{style:{color:"var(--shiki-token-punctuation)"},children:","})]}),"\n",(0,r.jsxs)(e.span,{className:"line",children:[(0,r.jsx)(e.span,{style:{color:"var(--shiki-token-keyword)"},children:'    "rstest"'}),(0,r.jsx)(e.span,{style:{color:"var(--shiki-token-punctuation)"},children:":"}),(0,r.jsx)(e.span,{style:{color:"var(--shiki-token-string-expression)"},children:' "pnpm --filter=@visactor/vseed rstest"'}),(0,r.jsx)(e.span,{style:{color:"var(--shiki-token-punctuation)"},children:","})]}),"\n",(0,r.jsxs)(e.span,{className:"line",children:[(0,r.jsx)(e.span,{style:{color:"var(--shiki-token-keyword)"},children:'    "test:coverage"'}),(0,r.jsx)(e.span,{style:{color:"var(--shiki-token-punctuation)"},children:":"}),(0,r.jsx)(e.span,{style:{color:"var(--shiki-token-string-expression)"},children:' "pnpm --filter=@visactor/vseed test:coverage && node scripts/build-coverage-badge.mjs"'}),(0,r.jsx)(e.span,{style:{color:"var(--shiki-token-punctuation)"},children:","})]}),"\n",(0,r.jsxs)(e.span,{className:"line",children:[(0,r.jsx)(e.span,{style:{color:"var(--shiki-token-keyword)"},children:'    "publish:vseed"'}),(0,r.jsx)(e.span,{style:{color:"var(--shiki-token-punctuation)"},children:":"}),(0,r.jsx)(e.span,{style:{color:"var(--shiki-token-string-expression)"},children:' "pnpm run build:vseed && pnpm publish --filter=@visactor/vseed --access=public"'})]}),"\n",(0,r.jsxs)(e.span,{className:"line",children:[(0,r.jsx)(e.span,{style:{color:"var(--shiki-foreground)"},children:"  }"}),(0,r.jsx)(e.span,{style:{color:"var(--shiki-token-punctuation)"},children:","})]}),"\n",(0,r.jsx)(e.span,{className:"line",children:(0,r.jsx)(e.span,{style:{color:"var(--shiki-foreground)"},children:"}"})})]})})}),"\n",(0,r.jsxs)(e.h2,{id:"本地开发",children:[(0,r.jsx)(e.a,{className:"rp-header-anchor","aria-hidden":"true",href:"#本地开发",children:"#"}),"本地开发"]}),"\n",(0,r.jsxs)(e.h3,{id:"dev",children:[(0,r.jsx)(e.a,{className:"rp-header-anchor","aria-hidden":"true",href:"#dev",children:"#"}),"dev"]}),"\n",(0,r.jsx)(e.p,{children:"用于本地开发与调试"}),"\n",(0,r.jsxs)(e.p,{children:["同时启动 ",(0,r.jsx)(e.code,{children:"@visactor/vseed"})," 项目和 ",(0,r.jsx)(e.code,{children:"apps/website"})," 项目, 并监听文件变化,"]}),"\n",(0,r.jsx)(r.Fragment,{children:(0,r.jsx)(e.pre,{className:"shiki css-variables",style:{backgroundColor:"var(--shiki-background)",color:"var(--shiki-foreground)"},tabIndex:"0",lang:"bash",lineNumbers:!0,children:(0,r.jsx)(e.code,{children:(0,r.jsxs)(e.span,{className:"line",children:[(0,r.jsx)(e.span,{style:{color:"var(--shiki-token-function)"},children:"pnpm"}),(0,r.jsx)(e.span,{style:{color:"var(--shiki-token-string)"},children:" dev"})]})})})}),"\n",(0,r.jsxs)(e.h3,{id:"test",children:[(0,r.jsx)(e.a,{className:"rp-header-anchor","aria-hidden":"true",href:"#test",children:"#"}),"test"]}),"\n",(0,r.jsx)(e.p,{children:"执行单元测试"}),"\n",(0,r.jsx)(r.Fragment,{children:(0,r.jsx)(e.pre,{className:"shiki css-variables",style:{backgroundColor:"var(--shiki-background)",color:"var(--shiki-foreground)"},tabIndex:"0",lang:"bash",lineNumbers:!0,children:(0,r.jsx)(e.code,{children:(0,r.jsxs)(e.span,{className:"line",children:[(0,r.jsx)(e.span,{style:{color:"var(--shiki-token-function)"},children:"pnpm"}),(0,r.jsx)(e.span,{style:{color:"var(--shiki-token-string)"},children:" test"})]})})})}),"\n",(0,r.jsxs)(e.h3,{id:"testcoverage",children:[(0,r.jsx)(e.a,{className:"rp-header-anchor","aria-hidden":"true",href:"#testcoverage",children:"#"}),"test:coverage"]}),"\n",(0,r.jsx)(e.p,{children:"执行单元测试并生成覆盖率报告"}),"\n",(0,r.jsx)(r.Fragment,{children:(0,r.jsx)(e.pre,{className:"shiki css-variables",style:{backgroundColor:"var(--shiki-background)",color:"var(--shiki-foreground)"},tabIndex:"0",lang:"bash",lineNumbers:!0,children:(0,r.jsx)(e.code,{children:(0,r.jsxs)(e.span,{className:"line",children:[(0,r.jsx)(e.span,{style:{color:"var(--shiki-token-function)"},children:"pnpm"}),(0,r.jsx)(e.span,{style:{color:"var(--shiki-token-string)"},children:" test:coverage"})]})})})}),"\n",(0,r.jsxs)(e.h2,{id:"构建",children:[(0,r.jsx)(e.a,{className:"rp-header-anchor","aria-hidden":"true",href:"#构建",children:"#"}),"构建"]}),"\n",(0,r.jsxs)(e.h3,{id:"build",children:[(0,r.jsx)(e.a,{className:"rp-header-anchor","aria-hidden":"true",href:"#build",children:"#"}),"build"]}),"\n",(0,r.jsxs)(e.p,{children:["逐个构建 ",(0,r.jsx)(e.code,{children:"@visactor/vseed"})," 项目和 ",(0,r.jsx)(e.code,{children:"apps/website"})," 项目"]}),"\n",(0,r.jsx)(r.Fragment,{children:(0,r.jsx)(e.pre,{className:"shiki css-variables",style:{backgroundColor:"var(--shiki-background)",color:"var(--shiki-foreground)"},tabIndex:"0",lang:"bash",lineNumbers:!0,children:(0,r.jsx)(e.code,{children:(0,r.jsxs)(e.span,{className:"line",children:[(0,r.jsx)(e.span,{style:{color:"var(--shiki-token-function)"},children:"pnpm"}),(0,r.jsx)(e.span,{style:{color:"var(--shiki-token-string)"},children:" build"})]})})})}),"\n",(0,r.jsxs)(e.h3,{id:"buildvseed",children:[(0,r.jsx)(e.a,{className:"rp-header-anchor","aria-hidden":"true",href:"#buildvseed",children:"#"}),"build:vseed"]}),"\n",(0,r.jsxs)(e.p,{children:["构建 ",(0,r.jsx)(e.code,{children:"@visactor/vseed"})," 项目"]}),"\n",(0,r.jsx)(r.Fragment,{children:(0,r.jsx)(e.pre,{className:"shiki css-variables",style:{backgroundColor:"var(--shiki-background)",color:"var(--shiki-foreground)"},tabIndex:"0",lang:"bash",lineNumbers:!0,children:(0,r.jsx)(e.code,{children:(0,r.jsxs)(e.span,{className:"line",children:[(0,r.jsx)(e.span,{style:{color:"var(--shiki-token-function)"},children:"pnpm"}),(0,r.jsx)(e.span,{style:{color:"var(--shiki-token-string)"},children:" build:vseed"})]})})})}),"\n",(0,r.jsxs)(e.h3,{id:"builddocs",children:[(0,r.jsx)(e.a,{className:"rp-header-anchor","aria-hidden":"true",href:"#builddocs",children:"#"}),"build:docs"]}),"\n",(0,r.jsxs)(e.p,{children:["根据",(0,r.jsx)(e.code,{children:"vseed"}),"类型自动构建",(0,r.jsx)(e.code,{children:"配置项"}),"文档, 文档会自动生成到 ",(0,r.jsx)(e.code,{children:"apps/website/docs/[locale]/option"})," 目录下"]}),"\n",(0,r.jsx)(r.Fragment,{children:(0,r.jsx)(e.pre,{className:"shiki css-variables",style:{backgroundColor:"var(--shiki-background)",color:"var(--shiki-foreground)"},tabIndex:"0",lang:"bash",lineNumbers:!0,children:(0,r.jsx)(e.code,{children:(0,r.jsxs)(e.span,{className:"line",children:[(0,r.jsx)(e.span,{style:{color:"var(--shiki-token-function)"},children:"pnpm"}),(0,r.jsx)(e.span,{style:{color:"var(--shiki-token-string)"},children:" build:docs"})]})})})}),"\n",(0,r.jsxs)(e.h3,{id:"buildtest",children:[(0,r.jsx)(e.a,{className:"rp-header-anchor","aria-hidden":"true",href:"#buildtest",children:"#"}),"build:test"]}),"\n",(0,r.jsxs)(e.p,{children:["构建 ",(0,r.jsx)(e.code,{children:"@visactor/vseed"})," 项目的测试代码, 测试代码会自动生成到 ",(0,r.jsx)(e.code,{children:"packages/vseed/test"})," 目录下, 每个用例包含",(0,r.jsx)(e.code,{children:"spec"})," 和 ",(0,r.jsx)(e.code,{children:"advancedVseed"})," 的快照"]}),"\n",(0,r.jsx)(r.Fragment,{children:(0,r.jsx)(e.pre,{className:"shiki css-variables",style:{backgroundColor:"var(--shiki-background)",color:"var(--shiki-foreground)"},tabIndex:"0",lang:"bash",lineNumbers:!0,children:(0,r.jsx)(e.code,{children:(0,r.jsxs)(e.span,{className:"line",children:[(0,r.jsx)(e.span,{style:{color:"var(--shiki-token-function)"},children:"pnpm"}),(0,r.jsx)(e.span,{style:{color:"var(--shiki-token-string)"},children:" build:test"})]})})})}),"\n",(0,r.jsxs)(e.h3,{id:"buildcanvastest",children:[(0,r.jsx)(e.a,{className:"rp-header-anchor","aria-hidden":"true",href:"#buildcanvastest",children:"#"}),"build:canvasTest"]}),"\n",(0,r.jsxs)(e.p,{children:[(0,r.jsx)(e.code,{children:"build:test"}),"的基础上, 每个用例会创建图表实例, 因此可以获得更高的测试覆盖率."]}),"\n",(0,r.jsx)(r.Fragment,{children:(0,r.jsx)(e.pre,{className:"shiki css-variables",style:{backgroundColor:"var(--shiki-background)",color:"var(--shiki-foreground)"},tabIndex:"0",lang:"bash",lineNumbers:!0,children:(0,r.jsx)(e.code,{children:(0,r.jsxs)(e.span,{className:"line",children:[(0,r.jsx)(e.span,{style:{color:"var(--shiki-token-function)"},children:"pnpm"}),(0,r.jsx)(e.span,{style:{color:"var(--shiki-token-string)"},children:" build:canvasTest"})]})})})}),"\n",(0,r.jsxs)(e.h2,{id:"构建分析",children:[(0,r.jsx)(e.a,{className:"rp-header-anchor","aria-hidden":"true",href:"#构建分析",children:"#"}),"构建分析"]}),"\n",(0,r.jsxs)(e.p,{children:["主要用于分析 ",(0,r.jsx)(e.code,{children:"@visactor/vseed"})," 项目的构建过程"]}),"\n",(0,r.jsxs)(e.h3,{id:"devrsdoctor",children:[(0,r.jsx)(e.a,{className:"rp-header-anchor","aria-hidden":"true",href:"#devrsdoctor",children:"#"}),"dev:rsdoctor"]}),"\n",(0,r.jsxs)(e.p,{children:["调试时用于诊断和分析 ",(0,r.jsx)(e.code,{children:"@visactor/vseed"})," 项目的构建过程, 了解包体积、依赖关系等"]}),"\n",(0,r.jsx)(r.Fragment,{children:(0,r.jsx)(e.pre,{className:"shiki css-variables",style:{backgroundColor:"var(--shiki-background)",color:"var(--shiki-foreground)"},tabIndex:"0",lang:"bash",lineNumbers:!0,children:(0,r.jsx)(e.code,{children:(0,r.jsxs)(e.span,{className:"line",children:[(0,r.jsx)(e.span,{style:{color:"var(--shiki-token-function)"},children:"pnpm"}),(0,r.jsx)(e.span,{style:{color:"var(--shiki-token-string)"},children:" dev:rsdoctor"})]})})})}),"\n",(0,r.jsxs)(e.h3,{id:"buildrsdoctor",children:[(0,r.jsx)(e.a,{className:"rp-header-anchor","aria-hidden":"true",href:"#buildrsdoctor",children:"#"}),"build:rsdoctor"]}),"\n",(0,r.jsxs)(e.p,{children:["构建时用于诊断和分析 ",(0,r.jsx)(e.code,{children:"@visactor/vseed"})," 项目的构建过程, 了解包体积、依赖关系等, 会自动打开esm,cjs,umd三种产物的分析页面"]}),"\n",(0,r.jsx)(r.Fragment,{children:(0,r.jsx)(e.pre,{className:"shiki css-variables",style:{backgroundColor:"var(--shiki-background)",color:"var(--shiki-foreground)"},tabIndex:"0",lang:"bash",lineNumbers:!0,children:(0,r.jsx)(e.code,{children:(0,r.jsxs)(e.span,{className:"line",children:[(0,r.jsx)(e.span,{style:{color:"var(--shiki-token-function)"},children:"pnpm"}),(0,r.jsx)(e.span,{style:{color:"var(--shiki-token-string)"},children:" build:rsdoctor"})]})})})}),"\n",(0,r.jsxs)(e.h2,{id:"发布",children:[(0,r.jsx)(e.a,{className:"rp-header-anchor","aria-hidden":"true",href:"#发布",children:"#"}),"发布"]}),"\n",(0,r.jsxs)(e.h3,{id:"publishvseed",children:[(0,r.jsx)(e.a,{className:"rp-header-anchor","aria-hidden":"true",href:"#publishvseed",children:"#"}),"publish:vseed"]}),"\n",(0,r.jsxs)(e.p,{children:["发布 ",(0,r.jsx)(e.code,{children:"@visactor/vseed"})," 项目到 npm  registry, 发布前会先构建项目"]}),"\n",(0,r.jsx)(r.Fragment,{children:(0,r.jsx)(e.pre,{className:"shiki css-variables",style:{backgroundColor:"var(--shiki-background)",color:"var(--shiki-foreground)"},tabIndex:"0",lang:"bash",lineNumbers:!0,children:(0,r.jsx)(e.code,{children:(0,r.jsxs)(e.span,{className:"line",children:[(0,r.jsx)(e.span,{style:{color:"var(--shiki-token-function)"},children:"pnpm"}),(0,r.jsx)(e.span,{style:{color:"var(--shiki-token-string)"},children:" publish:vseed"})]})})})})]})}function a(){let s=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},{wrapper:e}={...(0,i.R)(),...s.components};return e?(0,r.jsx)(e,{...s,children:(0,r.jsx)(l,{...s})}):l(s)}a.__RSPRESS_PAGE_META={},a.__RSPRESS_PAGE_META["zh-CN%2Fvseed%2Fdevelopment%2FdevProgress%2Fscripts.md"]={toc:[{id:"本地开发",text:"本地开发",depth:2},{id:"dev",text:"dev",depth:3},{id:"test",text:"test",depth:3},{id:"testcoverage",text:"test:coverage",depth:3},{id:"构建",text:"构建",depth:2},{id:"build",text:"build",depth:3},{id:"buildvseed",text:"build:vseed",depth:3},{id:"builddocs",text:"build:docs",depth:3},{id:"buildtest",text:"build:test",depth:3},{id:"buildcanvastest",text:"build:canvasTest",depth:3},{id:"构建分析",text:"构建分析",depth:2},{id:"devrsdoctor",text:"dev:rsdoctor",depth:3},{id:"buildrsdoctor",text:"build:rsdoctor",depth:3},{id:"发布",text:"发布",depth:2},{id:"publishvseed",text:"publish:vseed",depth:3}],title:"脚本",headingTitle:"脚本",frontmatter:{}}}}]);
//# sourceMappingURL=4949.5e730ab5.js.map