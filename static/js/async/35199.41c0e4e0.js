"use strict";(self.webpackChunkwebsite=self.webpackChunkwebsite||[]).push([["35199"],{60378:function(e,l,i){i.r(l),i.d(l,{AngleEncoding:()=>eF,Builder:()=>P,ColorEncoding:()=>eL,ColorIdEncoding:()=>eT,DetailEncoding:()=>eP,FoldMeasureId:()=>eR,FoldMeasureName:()=>ev,FoldMeasureValue:()=>eA,FoldPrimaryMeasureValue:()=>ek,FoldSecondaryMeasureValue:()=>eS,FoldXMeasureValue:()=>e_,FoldYMeasureValue:()=>ez,MeasureName:()=>eI,ORIGINAL_DATA:()=>ex,Separator:()=>eC,XEncoding:()=>eB,YEncoding:()=>eM,areaAdvancedPipeline:()=>is,areaPercentAdvancedPipeline:()=>ig,areaPercentSpecPipeline:()=>im,areaSpecPipeline:()=>ih,autoFormatter:()=>j,autoNumFormatter:()=>K,barAdvancedPipeline:()=>l2,barParallelAdvancedPipeline:()=>ie,barParallelSpecPipeline:()=>ii,barPercentAdvancedPipeline:()=>ir,barPercentSpecPipeline:()=>io,barSpecPipeline:()=>l6,columnAdvancedPipeline:()=>lW,columnParallelAdvancedPipeline:()=>lG,columnParallelSpecPipeline:()=>lY,columnPercentAdvancedPipeline:()=>lU,columnPercentSpecPipeline:()=>lJ,columnSpecPipeline:()=>lN,createFormatter:()=>Y,createNumFormatter:()=>G,darkTheme:()=>tf,dataReshapeByEncoding:()=>ew,donutAdvancedPipeline:()=>iG,donutSpecPipeline:()=>iY,dualAxisAdvancedPipeline:()=>iS,dualAxisSpecPipeline:()=>iD,execPipeline:()=>R,findAllDimensions:()=>en,findAllMeasures:()=>Z,findFirstMeasure:()=>X,findMeasureById:()=>W,foldMeasures:()=>eZ,funnelAdvancedPipeline:()=>tt,funnelSpecPipeline:()=>tr,heatmapAdvancedPipeline:()=>ta,heatmapSpecPipeline:()=>tu,i18n:()=>B,intl:()=>z,isDimensionSelector:()=>lc,isMeasure:()=>V,isMeasureGroup:()=>H,isMeasureSelector:()=>lu,isMeasures:()=>N,isPartialDatumSelector:()=>ld,isPivotChart:()=>eg,isPivotTable:()=>eh,isTable:()=>ec,isVChart:()=>ep,isVTable:()=>ef,isValueSelector:()=>ls,lightTheme:()=>th,lineAdvancedPipeline:()=>e1,lineSpecPipeline:()=>lP,measureDepth:()=>eu,pieAdvancedPipeline:()=>iV,pieSpecPipeline:()=>iN,pivotTableAdvancedPipeline:()=>er,pivotTableSpecPipeline:()=>ea,preorderTraverse:()=>T,radarAdvancedPipeline:()=>i8,radarSpecPipeline:()=>tl,registerAll:()=>tb,registerArea:()=>ip,registerAreaPercent:()=>ib,registerBar:()=>l9,registerBarParallel:()=>it,registerBarPercent:()=>ia,registerColumn:()=>l$,registerColumnParallel:()=>lj,registerColumnPercent:()=>lQ,registerCustomTheme:()=>tp,registerDarkTheme:()=>tm,registerDonut:()=>ij,registerFunnel:()=>to,registerHeatmap:()=>tc,registerLightTheme:()=>tg,registerLine:()=>lL,registerPie:()=>i$,registerPivotTable:()=>es,registerRadar:()=>ti,registerRose:()=>i2,registerRoseParallel:()=>i7,registerScatter:()=>iI,registerTable:()=>et,roseAdvancedPipeline:()=>iq,roseParallelAdvancedPipeline:()=>i4,roseParallelSpecPipeline:()=>i5,roseSpecPipeline:()=>i1,scatterAdvancedPipeline:()=>ix,scatterSpecPipeline:()=>iA,selector:()=>la,tableAdvancedPipeline:()=>E,tableSpecPipeline:()=>ei,unfoldDimensions:()=>eO,updateAdvanced:()=>ty,updateSpec:()=>tx,zAdvancedVSeed:()=>n0,zAnalysis:()=>nF,zAnnotation:()=>nz,zAnnotationArea:()=>n_,zAnnotationHorizontalLine:()=>nS,zAnnotationPoint:()=>nI,zAnnotationVerticalLine:()=>nk,zArea:()=>nV,zAreaConfig:()=>nl,zAreaPercent:()=>nH,zAreaPercentConfig:()=>ni,zAreaStyle:()=>nR,zAxis:()=>nf,zBackgroundColor:()=>tj,zBar:()=>nD,zBarConfig:()=>t6,zBarParallel:()=>nw,zBarParallelConfig:()=>t9,zBarPercent:()=>nE,zBarPercentConfig:()=>ne,zBarStyle:()=>nx,zChartType:()=>tC,zColor:()=>tU,zColorLegend:()=>t0,zColumn:()=>nX,zColumnConfig:()=>t5,zColumnParallel:()=>nZ,zColumnParallelConfig:()=>t7,zColumnPercent:()=>nO,zColumnPercentConfig:()=>t8,zConfig:()=>nh,zCrosshairLine:()=>tG,zCrosshairRect:()=>tK,zCustomTheme:()=>ng,zCustomThemeConfig:()=>np,zDataset:()=>tA,zDatasetReshapeInfo:()=>tD,zDatum:()=>tR,zDimension:()=>tI,zDimensionGroup:()=>tk,zDimensionTree:()=>t_,zDimensions:()=>tS,zDonut:()=>nj,zDonutConfig:()=>ns,zDualAxis:()=>n$,zDualAxisConfig:()=>nt,zDualChartType:()=>tv,zDualMeasure:()=>tL,zDualMeasures:()=>tT,zEncoding:()=>tw,zEncodings:()=>tE,zFoldInfo:()=>tZ,zFunnel:()=>nq,zFunnelConfig:()=>nu,zHeatmap:()=>nJ,zHeatmapConfig:()=>nc,zLabel:()=>tJ,zLegend:()=>tQ,zLine:()=>nW,zLineConfig:()=>t3,zLineStyle:()=>nv,zLinearColor:()=>tq,zLocale:()=>nP,zMarkStyle:()=>nA,zMeasure:()=>tB,zMeasureGroup:()=>tM,zMeasureTree:()=>tP,zMeasures:()=>tF,zNumFormat:()=>tz,zPie:()=>nY,zPieConfig:()=>na,zPivotTable:()=>nT,zPivotTableConfig:()=>t4,zPointStyle:()=>nC,zRadar:()=>nU,zRadarConfig:()=>nd,zRose:()=>nG,zRoseConfig:()=>nr,zRoseParallel:()=>nK,zRoseParallelConfig:()=>no,zScatter:()=>nN,zScatterConfig:()=>nn,zScatterMeasure:()=>tW,zScatterMeasures:()=>tX,zSort:()=>nB,zSortLegend:()=>nM,zStackCornerRadius:()=>tY,zTable:()=>nL,zTableConfig:()=>t2,zTheme:()=>nm,zTooltip:()=>t1,zUnfoldInfo:()=>tO,zVSeed:()=>nQ,zXBandAxis:()=>tV,zXLinearAxis:()=>tN,zYBandAxis:()=>tH,zYLinearAxis:()=>t$});var t,n,r,o,a=i(12341),s=i(2875),d=i(84086),u=i(83361),c=i(51560),h=i(53126),f=i(36922),p=i(62443),g=i(57969),m=i(60647),b=i(24356),y=i(34712),x=i(83498),C=i(16304),v=i(24709);let R=(e,l,i={})=>e.reduce((e,i)=>i(e,l),i),A=e=>{let l="undefined"!=typeof performance?performance.now():Date.now(),{chartType:i}=e.vseed;if(!i)throw Error("chartType is nil in buildAdvanced");let t=P.getAdvancedPipeline(i);if(!t)throw Error(`no advanced pipeline for chartType ${i}`);let n={vseed:e.vseed,customTheme:P.getThemeMap()};try{return R(t,n)}catch(e){throw console.error(e),Error("buildAdvanced error, see error info in console")}finally{let i="undefined"!=typeof performance?performance.now():Date.now();e.performance.buildAdvanced=`${(i-l).toFixed(4)}ms`}},I=(e,l)=>{let i="undefined"!=typeof performance?performance.now():Date.now(),{chartType:t}=e.vseed;if(!t)throw Error("chartType is nil in buildSpec");let n=P.getSpecPipeline(t);if(!n)throw Error(`no spec pipeline for chartType ${t}`);let r={vseed:e.vseed,advancedVSeed:l};try{return R(n,r)}catch(e){throw console.error(e),Error("buildSpec error, see error info in console")}finally{let l="undefined"!=typeof performance?performance.now():Date.now();e.performance.buildSpec=`${(l-i).toFixed(4)}ms`}},k=e=>{let l=e.buildAdvanced();if(e.advancedVSeed=l,!l)throw Error("advancedVSeed is null");let i=e.buildSpec(l);return e.spec=i,i};var S=JSON.parse('{"指标名称":{"en-US":"MeasureName","zh-CN":"指标名称"},"指标Id":{"en-US":"MeasureId","zh-CN":"指标Id"},"指标值":{"en-US":"MeasureValue","zh-CN":"指标值"}}');class _{static instance;translateMap=S;locale="zh-CN";canTranslate=e=>!!this.translateMap[e];i18n=(e,...l)=>{let i=e.map((e,i)=>e+(l[i]||"")).join(""),t=this.translateMap?.[i]?.[this.locale];return(0,a.a)(t)?(console.warn(`i18n ${this.locale} no translate: ${i}`),i):t};setLocale=e=>{this.locale=e};getLocale=()=>this.locale;static getInstance(){return _.instance||(_.instance=new _),_.instance}}let z=_.getInstance(),B=z.i18n,M=e=>{let l=e.advancedVSeed;if(!l)return[];let{datasetReshapeInfo:i}=l,t=(0,s.a)(i.flatMap(e=>e.unfoldInfo.colorItems)),n=i.reduce((e,l)=>({...e,...l.unfoldInfo.colorIdMap}),{});return t.map(e=>n[e])},F=e=>{let l=e.advancedVSeed;if(!l)return{};let{datasetReshapeInfo:i}=l;return i.reduce((e,l)=>({...e,...l.unfoldInfo.colorIdMap}),{})};class P{_vseed;_advancedVSeed=null;_spec=null;_performance={};constructor(e){this._vseed=e,this._vseed.locale=e.locale||z.getLocale()}build=()=>k(this);buildSpec=e=>I(this,e);buildAdvanced=()=>A(this);getColorItems=()=>M(this);getColorIdMap=()=>F(this);get vseed(){return this._vseed}set vseed(e){this._vseed=e}get advancedVSeed(){return this._advancedVSeed}set advancedVSeed(e){this._advancedVSeed=e}get spec(){return this._spec}set spec(e){this._spec=e}get performance(){return this._performance}set performance(e){this._performance=e}static getAdvancedPipeline=e=>{let l=P._customAdvancedPipe[e],i=P._advancedPipelineMap[e];return l&&i.push(l),i};static getSpecPipeline=e=>{let l=P._customSpecPipe[e],i=P._specPipelineMap[e];return l&&i.push(l),i};static getTheme=e=>P._themeMap[e];static getThemeMap=()=>P._themeMap;static from=e=>new P(e);static _advancedPipelineMap={};static _specPipelineMap={};static _customAdvancedPipe={};static _customSpecPipe={};static _themeMap={}}let L=(e,l)=>{let{vseed:i}=l,{chartType:t,locale:n}=i;return{...e,chartType:t,locale:n||"zh-CN"}},T=(e,l)=>{if(!e||0===e.length)return;let i=[...e].reverse();for(;i.length>0;){let e=i.pop();if(!0===l(e))return;if(!("children"in e))continue;let t=e.children;if(t&&t.length>0)for(let e=t.length-1;e>=0;e--){let l=t[e];i.push(l)}}},W=(e=[],l)=>{let i;if(e)return T(e,e=>!("children"in e)&&e.id===l&&(i=e,!0)),i},X=(e=[])=>{let l;if(e)return T(e,e=>!("children"in e)&&(l=e,!0)),l},Z=(e=[])=>{if(!e)return[];let l=[];return T(e,e=>("children"in e||l.push(e),!1)),l},O=(e,l)=>{let{vseed:i}=l,{dataset:t}=i;return{...e,dataset:t}},D=(e,l)=>{let{customTheme:i,vseed:t}=l,{theme:n="light",chartType:r}=t,o={...e};if(!i||!i[n])return o;let a=i?.[n].config?.[r];if(a){let e=o.config?.[r]||{},l=(0,u.a)(a,(0,c.a)(e));for(let e in l)Array.isArray(l[e])&&(l[e]=w(l[e],a[e]));o.config={[r]:l}}let s=i?.[n]?.config?.[r];return o.customTheme={config:{[r]:s}},o},w=(e,l)=>(0,a.a)(l)||(0,h.a)(l)||(0,f.a)(l)||!Array.isArray(e)||e.some(e=>!(0,p.a)(e))?e:e.map(e=>(0,g.a)(l,e)),E=[L,(e,l)=>{let i={...e},{vseed:t}=l,{measures:n,dataset:r}=t;if(!r)throw Error("dataset is required");if(0===r.length)return i;if(n)return i.measures=n,i;let o=r.slice(0,100);return i.measures=Object.keys(o.reduce((e,l)=>({...e,...l}),{})).filter(e=>o.some(l=>"number"==typeof l[e])&&!["",null,void 0].includes(e)).map(e=>({id:e,alias:e})),i},(e,l)=>{let i={...e},{vseed:t}=l,{dimensions:n,dataset:r}=t,o=Z(e.measures);if(!r)throw Error("dataset is required");if(0===r.length)return i;if(n)return i.dimensions=n.map(e=>({location:"dimension",...e})),i;let a=r.slice(0,100);return i.dimensions=Object.keys(a.reduce((e,l)=>({...e,...l}),{})).filter(e=>a.some(l=>"string"==typeof l[e])&&!["",null,void 0].includes(e)&&!o.some(l=>l.id===e)).map(e=>({id:e,alias:e,location:"dimension"})),i},O,(e,l)=>{let{vseed:i}=l,{chartType:t}=i,n={...e},r=(0,d.a)(i,["backgroundColor","bodyFontSize","bodyFontColor","bodyBackgroundColor","headerFontSize","headerFontColor","headerBackgroundColor","hoverHeaderBackgroundColor","hoverHeaderInlineBackgroundColor","selectedBorderColor","selectedBackgroundColor"]);return n.config={...n.config||{},[t]:{...r}},n},D],V=e=>!("children"in e),H=e=>"children"in e,N=e=>e.every(V),$=(e,l)=>e.map(e=>{if("children"in e&&Array.isArray(e.children)){let i=e.id,t=e.alias??e.id,n=l?.(e)||{};return{field:i,title:t,columns:$(e.children,l),...n}}{let i=e.id;return{field:i,title:e.alias??e.id,...l?.(e)||{}}}})||[],G=(e,l=z.getLocale())=>{let{type:i="number",ratio:t=1,symbol:n="",thousandSeparator:r=!0,prefix:o="",suffix:a="",fractionDigits:s=2,significantDigits:d,roundingMode:u="halfExpand",roundingPriority:c="auto"}=e||{},h={style:"decimal",notation:"scientific"===i?"scientific":"standard",roundingMode:u,roundingPriority:c};(0,f.a)(s)&&s>=0&&(h.minimumFractionDigits=s,h.maximumFractionDigits=s),(0,f.a)(d)&&d>0&&d>0&&(h.minimumSignificantDigits=d,h.maximumSignificantDigits=d);let p=new Intl.NumberFormat(l,h);return e=>{let l=Number(e),s="";if(Number.isNaN(l))return String(e);"percent"===i?(l*=100,s="%"):"permille"===i?(l*=1e3,s="‰"):"number"===i&&(l/=t||1);let d=p.format(l);if(r){let e=d.split(".");e[0]=e[0].replace(/\B(?=(\d{3})+(?!\d))/g,","),d=e.join(".")}return`${o}${d}${s}${n}${a}`}},K=(e,l=z.getLocale())=>{if(null==e||Number.isNaN(Number(e)))return String(e);let i={style:"decimal",notation:"compact"};return i.minimumFractionDigits=0,i.maximumFractionDigits=2,new Intl.NumberFormat(l,{...i}).format(Number(e))},Y=e=>G(e),j=(e,l)=>K(e,l),U=(e,l)=>i=>{let{format:t={},autoFormat:n=!0,id:r}=e,o=i[r];return(0,m.a)(t)?n?j(o,l):void 0:Y(t)(o)},q=(e,l)=>e.map(e=>{if("children"in e&&Array.isArray(e.children)){let i=e.id,t=e.alias??e.id,n=l?.(e)||{};return{field:i,title:t,columns:q(e.children,l),...n}}{let i=e.id;return{field:i,title:e.alias??e.id,...l?.(e)||{}}}})||[],J=(e,l)=>{let i={...e},{advancedVSeed:t}=l,{chartType:n,config:r}=t,o=r?.[n];if(!i.theme||!o)return i;let a=o.borderColor||"rgb(224, 224, 224)",s=o.bodyBackgroundColor||"#fff",d=o.bodyFontColor||"#1B1F23",u=o.bodyFontSize||12,c=o.hoverBodyBackgroundColor||"#bedaff",h=o.hoverBodyInlineBackgroundColor||"#bedaff";return i.theme.bodyStyle={borderColor:a,borderLineWidth:1,padding:[8.6,12,8.6,12],textAlign:"right",hover:{cellBgColor:c,inlineRowBgColor:h,inlineColumnBgColor:h},color:d,fontSize:u,fontStyle:"normal",fontWeight:"normal",fontVariant:"normal",bgColor:s,lineHeight:1.5*u},i},Q=(e,l)=>{let i={...e},{advancedVSeed:t}=l,{config:n,chartType:r}=t,o=n?.[r];if(!i.theme||!o)return i;let a=o.borderColor||"rgb(224, 224, 224)",s=o.headerBackgroundColor||"#EEF1F5",d=o.headerFontColor||"#1B1F23",u=o.headerFontSize||12,c=o.hoverHeaderBackgroundColor||"#bedaff",h=o.hoverHeaderInlineBackgroundColor||"#bedaff";return i.theme.headerStyle={borderColor:a,borderLineWidth:1,padding:[8,12,8,12],textAlign:"center",hover:{cellBgColor:c,inlineRowBgColor:h,inlineColumnBgColor:h},frameStyle:{borderColor:[null,null,a,null],borderLineWidth:1},fontSize:u,fontVariant:"normal",fontStyle:"normal",fontWeight:"bold",color:d,bgColor:s,lineHeight:1.5*u},i},ee=(e,l)=>{let i={...e},{advancedVSeed:t}=l,{config:n,chartType:r}=t,o=n?.[r];if(!i.theme||!o)return i;let a=o.borderColor||"rgb(224, 224, 224)";return i.theme.frameStyle={borderColor:a,borderLineWidth:0,cornerRadius:4},i},el=(e,l)=>{let i={...e},{advancedVSeed:t}=l,{config:n,chartType:r}=t,o=n?.[r];if(!i.theme||!o)return i;let a=o.selectedBorderColor||"rgb(224, 224, 224)",s=o.selectedBackgroundColor||"rgb(224, 224, 224, 0.5)";return i.theme.selectionStyle={cellBorderColor:a,cellBorderLineWidth:2,cellBgColor:s},i},ei=[(e,l)=>{let{advancedVSeed:i}=l,{dataset:t}=i,{config:n}=i,{backgroundColor:r="transparent"}=n.table||{};return{...e,records:t,widthMode:"standard",heightMode:"autoHeight",autoWrapText:!0,columnResizeMode:"all",showHeader:!0,tooltip:{isShowOverflowTextTooltip:!0},animationAppear:{duration:300,delay:250,type:"one-by-one",direction:"row"},hover:{highlightMode:"row"},theme:{underlayBackgroundColor:r}}},(e,l)=>{let{advancedVSeed:i}=l,t=i.dimensions,n={...e},r=$(t,e=>V(e)?{width:"auto"}:{});return{...n,columns:[...n.columns||[],...r]}},(e,l)=>{let{advancedVSeed:i}=l,{locale:t}=i,n=i.measures,r={...e},o=q(n,e=>V(e)?{width:"auto",fieldFormat:U(e,t)}:{});return{...r,columns:[...r.columns||[],...o]}},J,Q,ee,el],et=()=>{P._advancedPipelineMap.table=E,P._specPipelineMap.table=ei},en=(e=[])=>{if(!e)return[];let l=[];return T(e,e=>("children"in e||l.push(e),!1)),l},er=[L,(e,l)=>{let i={...e},{vseed:t}=l,{dataset:n}=t,r=Z(t.measures);if(!n)throw Error("dataset is required");if(0===n.length)return i;if(t.measures)return i.measures=Z(r),i;let o=n.slice(0,100);return i.measures=Object.keys(o.reduce((e,l)=>({...e,...l}),{})).filter(e=>o.some(l=>"number"==typeof l[e])&&!["",null,void 0].includes(e)).map(e=>({id:e,alias:e})),i},(e,l)=>{let i={...e},{vseed:t}=l,{dimensions:n,dataset:r}=t,o=Z(e.measures);if(!r)throw Error("dataset is required");if(0===r.length)return i;if(n)return i.dimensions=en(n).map((e,l)=>"rowDimension"===e.location||"columnDimension"===e.location?e:{...e,location:l%2==0?"columnDimension":"rowDimension"}),i;let a=r.slice(0,100),s=a.reduce((e,l)=>({...e,...l}),{}),d=0;return i.dimensions=Object.keys(s).filter(e=>a.some(l=>"string"==typeof l[e])&&!["",null,void 0].includes(e)&&!o.some(l=>l.id===e)).map(e=>({id:e,alias:e,location:d++%2==0?"columnDimension":"rowDimension"})),i},O,(e,l)=>{let{vseed:i}=l,{chartType:t}=i,n={...e},r=(0,d.a)(i,["backgroundColor","bodyFontSize","bodyFontColor","bodyBackgroundColor","headerFontSize","headerFontColor","headerBackgroundColor","hoverHeaderBackgroundColor","hoverHeaderInlineBackgroundColor","selectedBorderColor","selectedBackgroundColor"]);return n.config={...n.config||{},[t]:{...r}},n},D],eo=(e,l)=>i=>{let{format:t={},autoFormat:n=!0}=e;return(0,m.a)(t)?n?j(i,l):void 0:Y(t)(i)};(t=r||(r={})).RECORD="RECORD",t.NONE="NONE",t.SUM="SUM",t.MIN="MIN",t.MAX="MAX",t.AVG="AVG",t.COUNT="COUNT",t.CUSTOM="CUSTOM",t.RECALCULATE="RECALCULATE",(n=o||(o={})).ASC="ASC",n.DESC="DESC",n.NORMAL="NORMAL",n.desc="desc",n.asc="asc",n.normal="normal";let ea=[(e,l)=>{let{advancedVSeed:i}=l,{dataset:t}=i,{config:n}=i,{backgroundColor:r="transparent"}=n.pivotTable||{};return{...e,records:t,widthMode:"standard",heightMode:"autoHeight",autoWrapText:!0,columnResizeMode:"all",columnResizeType:"column",showColumnHeader:!0,showRowHeader:!0,select:{highlightMode:"cell",headerSelectMode:"inline"},hover:{highlightMode:"cross"},tooltip:{isShowOverflowTextTooltip:!0},corner:{titleOnDimension:"all"},widthAdaptiveMode:"all",animationAppear:{duration:300,delay:250,type:"one-by-one",direction:"row"},theme:{underlayBackgroundColor:r}}},(e,l)=>{let{advancedVSeed:i}=l,t=i.dimensions.filter(e=>"columnDimension"===e.location);return{...e,columns:t.map(e=>({dimensionKey:e.id,title:e.alias||e.id,width:"auto"}))}},(e,l)=>{let{advancedVSeed:i}=l,t=i.dimensions.filter(e=>"rowDimension"===e.location);return{...e,rows:t.map(e=>({dimensionKey:e.id,title:e.alias||e.id,width:"auto"}))}},(e,l)=>{let{advancedVSeed:i}=l,{locale:t}=i,n=i.measures;return{...e,indicatorsAsCol:!0,indicatorTitle:z.i18n`指标名称`,indicators:n.map(e=>V(e)?{cellType:"text",indicatorKey:e.id,title:e.alias||e.id,width:"auto",format:eo(e,t)}:{})}},J,Q,(e,l)=>{let i={...e},{advancedVSeed:t}=l,{config:n,chartType:r}=t,o=n?.[r];if(!i.theme||!o)return i;let a=o.borderColor||"rgb(224, 224, 224)",s=o.headerBackgroundColor||"#EEF1F5",d=o.headerFontColor||"#1B1F23",u=o.headerFontSize||12,c=o.hoverHeaderBackgroundColor||"#bedaff",h=o.hoverHeaderInlineBackgroundColor||"#bedaff";return i.theme.rowHeaderStyle={borderColor:a,borderLineWidth:1,padding:[8.6,12,8.6,12],textAlign:"left",hover:{cellBgColor:c,inlineRowBgColor:h,inlineColumnBgColor:h},frameStyle:{borderColor:[null,a,null,null],borderLineWidth:1},fontSize:u,fontVariant:"normal",fontStyle:"normal",fontWeight:"bold",color:d,bgColor:s,lineHeight:1.5*u},i},(e,l)=>{let i={...e},{advancedVSeed:t}=l,{config:n,chartType:r}=t,o=n?.[r];if(!i.theme||!o)return i;let a=o.borderColor||"rgb(224, 224, 224)",s=o.headerBackgroundColor||"#EEF1F5",d=o.headerFontColor||"#1B1F23",u=o.headerFontSize||12,c=o.hoverHeaderInlineBackgroundColor,h=o.hoverHeaderBackgroundColor;return i.theme.cornerHeaderStyle={borderColor:[a,a],borderLineWidth:1,padding:[8,12,8,12],textAlign:"left",hover:{cellBgColor:h||void 0,inlineRowBgColor:c||void 0,inlineColumnBgColor:c||void 0},frameStyle:{borderColor:[null,a,a,null],borderLineWidth:1},fontSize:u,fontVariant:"normal",fontStyle:"normal",fontWeight:"bold",color:d,bgColor:s,lineHeight:1.5*u},i},ee,el,(e,l)=>{let{advancedVSeed:i}=l,t=Z(i.measures).map(e=>({field:e.id,aggregationType:r.NONE,indicatorKey:e.id}));return{...e,dataConfig:{aggregationRules:t}}}],es=()=>{P._advancedPipelineMap.pivotTable=er,P._specPipelineMap.pivotTable=ea},ed=(e,l)=>{let{vseed:i}=l,{chartType:t,locale:n}=i;return{...e,chartType:t,locale:n||"zh-CN"}},eu=(e=[])=>{if(!e)return 0;let l=1;return T(e,e=>("children"in e&&(l=Math.max(l,1+eu(e.children))),!1)),l},ec=e=>"table"===e.chartType,eh=e=>"pivotTable"===e.chartType,ef=e=>["table","pivotTable"].includes(e.chartType),ep=e=>!ef(e),eg=e=>{if(ef(e))return!1;if("dualAxis"===e.chartType||"scatter"===e.chartType){let{dimensions:l=[]}=e;if(l&&l.some(e=>"rowDimension"===e.location||"columnDimension"===e.location))return!0;if("scatter"===e.chartType){if(e.measures)return 3===eu(e.measures);if(e.scatterMeasures&&e.scatterMeasures.length>1)return!0}if("dualAxis"===e.chartType){if(e.measures)return 3===eu(e.measures);if(e.dualMeasures&&e.dualMeasures.length>1)return!0}return!1}let{measures:l=[],dimensions:i=[]}=e,t=i&&i.some(e=>"rowDimension"===e.location||"columnDimension"===e.location),n=l&&l.some(e=>e&&e.children);return t||n},em=(e,l)=>{let i={...e},{vseed:t}=l,{measures:n,dataset:r}=t;if(!r)throw Error("dataset is required");if(0===r.length)return i;if(eg(t))return eb(e,l);if(n)return i.measures=n,i;let o=r.slice(0,100);return i.measures=Object.keys(o.reduce((e,l)=>({...e,...l}),{})).filter(e=>o.some(l=>"number"==typeof l[e])&&!["",null,void 0].includes(e)).map(e=>({id:e,alias:e})),i},eb=(e,l)=>{let{vseed:i}=l,{measures:t}=i,n=t?.some(e=>e.children);if(!t)return e;if(!n){let l=[{id:"measureGroup",alias:"measureGroup",children:t}];return{...e,measures:l}}let r=ey(),o=[];for(let e of t)"children"in e?(r.children?.length&&(r.alias=r.children.map(e=>e.alias).join("-"),r.id=r.alias+r.children.map(e=>e.id).join("-"),o.push(r),r=ey()),o.push(e)):r.children?.push(e);return r.children?.length&&(r.alias=r.children.map(e=>e.alias).join("-"),r.id=r.alias+r.children.map(e=>e.id).join("-"),o.push(r),r=ey()),e.measures=o,e},ey=()=>({id:"",alias:"",children:[]}),ex="__OriginalData__",eC="-",ev="__MeaName__",eR="__MeaId__",eA="__MeaValue__",eI=ev,ek="__MeaPrimaryValue__",eS="__MeaSecondaryValue__",e_="__MeaXValue__",ez="__MeaYValue__",eB="__Dim_X__",eM="__Dim_Y__",eF="__Dim_Angle__",eP="__Dim_Detail__",eL="__Dim_Color__",eT="__Dim_ColorId__",eW=(e,l)=>{let i={...e},{vseed:t}=l,{dimensions:n,dataset:r}=t,o=Z(e.measures),a={id:eI,alias:z.i18n`指标名称`};if(!r)throw Error("dataset is required");if(0===r.length)return i;if(n)return i.dimensions=n.map(e=>({location:"dimension",...e})),i.dimensions.some(e=>e.id===eI)||i.dimensions.push(a),i;let s=r.slice(0,100);return i.dimensions=Object.keys(s.reduce((e,l)=>({...e,...l}),{})).filter(e=>s.some(l=>"string"==typeof l[e])&&!["",null,void 0].includes(e)&&!o.some(l=>l.id===e)).map(e=>({id:e,alias:e,location:"dimension"})),i.dimensions.push(a),i},eX=(e,l)=>(i,t)=>{let{vseed:n}=t;return eg(n)?R(l,t,i):R(e,t,i)},eZ=(e,l,i,t)=>{let{measureId:n,measureName:r,measureValue:o,colorMeasureId:a}=t||{},s={measureId:n,measureName:r,measureValue:o,colorRange:[0,1],measureRange:[0,1],foldMap:{}},d=Array(e.length*l.length),u=0,c=l.map(e=>e.id);for(let i=0;i<e.length;i++)for(let t=0;t<l.length;t++){let h=(0,b.a)({...e[i]},c);h[ex]=e[i];let{id:f,alias:p}=l[t];if(h[f]=e[i][f],h[n]=f,h[r]=p||f,h[o]=e[i][f],a){let e=h[ex][a];h[eL]=e,h[eT]=a,s.colorRange=[Math.min(s.colorRange[0]||1/0,Number(e)),Math.max(s.colorRange[1]||-1/0,Number(e))]}s.measureRange=[Math.min(s.measureRange[0]||1/0,Number(h[f])),Math.max(s.measureRange[1]||-1/0,Number(h[f]))],s.foldMap[f]=p,d[u++]=h}return{dataset:d,foldInfo:s}},eO=(e,l,i,t)=>{let{foldMeasureId:n,separator:r,colorItemAsId:o}=t,a={encodingAngle:eF,encodingX:eB,encodingY:eM,encodingDetail:eP,encodingColor:eL,encodingColorId:eT,colorItems:[],colorIdMap:{}},{color:s,x:d,y:u,detail:c,angle:h}=i,f=h?l.filter(e=>h.includes(e.id)):[],p=d?l.filter(e=>d.includes(e.id)):[],g=u?l.filter(e=>u.includes(e.id)):[],m=s?l.filter(e=>s.includes(e.id)):[],b=c?l.filter(e=>c.includes(e.id)):[],y=new Set,x={};for(let l=0;l<e.length;l++){let i=e[l];if(eD(eF,f,i,r),eD(eB,p,i,r),eD(eM,g,i,r),eD(eL,m,i,r),eD(eP,b,i,r),!m.length||!i[eL])continue;let t=String(i[n]),a=String(i[eL]),s=o?a:t?[a,t].join(r):a;i[eT]=s,x[s]=a,y.add(s)}return a.colorItems=Array.from(y),a.colorIdMap=x,{dataset:e,unfoldInfo:a}},eD=(e,l,i,t)=>{e&&l.length&&(i[e]=l.map(e=>String(i[e.id])).join(t))},ew=(e,l,i,t,n)=>{let{foldMeasureId:r=eR,foldMeasureName:o=ev,foldMeasureValue:a=eA,colorItemAsId:s=!1,colorMeasureId:d}=n||{},{dataset:u,foldInfo:c}=eZ(e,i,t,{measureId:r,measureName:o,measureValue:a,colorMeasureId:d}),{dataset:h,unfoldInfo:f}=eO(u,l,t,{foldMeasureId:r,separator:eC,colorItemAsId:s});return{dataset:h,foldInfo:c,unfoldInfo:f}},eE=(e,l)=>(i,t)=>{let{advancedVSeed:n}=t;return eV(n)?l(i,t):e(i,t)},eV=e=>{let{encoding:l,measures:i}=e,t=Z(i).map(e=>e.id),{color:n}=l;return n?.length===1&&t.includes(n[0])},eH=e=>{if(eV(e)){let{encoding:l}=e,{color:i}=l;return i?.[0]}},eN=(e,l)=>{let i={...e},{vseed:t}=l,{dataset:n,chartType:r}=t,{dimensions:o,measures:a,encoding:s}=e;if(!a||!o||!n||!s)return i;if(0===a.length)throw Error("measures can not be empty");let{dataset:d,foldInfo:u,unfoldInfo:c}=ew(n,o,a,s,{colorMeasureId:eH(e)});return{...i,dataset:d,datasetReshapeInfo:[{id:String(r),index:0,foldInfo:u,unfoldInfo:c}],dimensions:o,measures:a}},e$=(e,l)=>{let i={...e},{vseed:t}=l,{dataset:n}=t,{dimensions:r,measures:o,encoding:a}=e;if(!o||!r||!n||!a)return i;if(0===o.length)throw Error("measures can not be empty");let s=[];o&&o.forEach(e=>{e.children&&e.children.length>0&&s.push(e)});let d=[],u=[];return s.forEach((l,i)=>{let t=l.children;if(!t)return;let o=l.id,{dataset:s,foldInfo:c,unfoldInfo:h}=ew(n,r,t,a,{foldMeasureValue:`${eA}${o}`,colorMeasureId:eH(e)});d.push(s),u.push({id:o,index:i,foldInfo:c,unfoldInfo:h})}),{...i,dataset:d,datasetReshapeInfo:u}},eG=(e,l)=>{let i={...e},{vseed:t}=l,{sort:n}=t,{datasetReshapeInfo:r,dataset:o}=e,{unfoldInfo:a}=r[0],s=a.encodingX;if(!n||!s)return e;i.analysis||(i.analysis={}),i.analysis.orderMapping||(i.analysis.orderMapping={});let d=eK(n,s,o.flat(2));return i.analysis.orderMapping[s]=d,i},eK=(e,l,i)=>{if(e.customOrder)return e.customOrder;let t=e.order||"asc",n=e.orderBy,r=(0,y.a)(i,(e,i)=>{let r=e[n||l],o=i[n||l];return"asc"===t?r<o?-1:+(r>o):r>o?-1:+(r<o)});return(0,s.a)(r.map(e=>e[l]))},eY=(e,l)=>{let i={...e},{vseed:t}=l,{sortLegend:n}=t,{datasetReshapeInfo:r,dataset:o}=e,a=r?.[0]?.unfoldInfo?.encodingColorId,s=r?.[0]?.unfoldInfo?.colorIdMap,d=r?.[0]?.unfoldInfo?.colorItems;if(!n||!a||!s||!d)return e;if(i.analysis||(i.analysis={}),i.analysis.orderMapping||(i.analysis.orderMapping={}),n.customOrder){let e=Object.keys(s).reduce((e,l)=>(e[s[l]]=l,e),{}),l=n.customOrder.map(l=>e[l]?e[l]:l);return i.analysis.orderMapping[a]=l,i}let u=ej(n,a,o?.flat(2)||[]);return i.analysis.orderMapping[a]=u,i},ej=(e,l,i)=>{if(e.customOrder)return e.customOrder;let t=e.order||"asc",n=e.orderBy,r=(0,y.a)(i,(e,i)=>{let r=e[n||l],o=i[n||l];return"asc"===t?r<o?-1:+(r>o):r>o?-1:+(r<o)});return(0,s.a)(r.map(e=>e[l]))},eU=(e,l)=>{let{vseed:i}=l,{chartType:t}=i,n={...e},r=(0,d.a)(i,["backgroundColor","color","label","legend","tooltip","xAxis","yAxis","crosshairLine"]);return n.config={...n.config||{},[t]:{...r}},n},eq=(e,l)=>{let{vseed:i}=l,{chartType:t}=i,n={...e},r=(0,d.a)(i,["backgroundColor","color","label","legend","tooltip","xAxis","yAxis","crosshairRect","stackCornerRadius"]);return n.config={...n.config||{},[t]:{...r}},n},eJ=(e,l)=>{let{vseed:i}=l,{chartType:t}=i,n={...e},r=(0,d.a)(i,["backgroundColor","color","label","legend","tooltip"]);return n.config={...n.config||{},[t]:{...r}},n},eQ=(e,l)=>{let{vseed:i}=l,t=(0,d.a)(i,["barStyle","pointStyle","lineStyle","areaStyle"]);return{...e,markStyle:t}},e0=(e,l)=>{let{vseed:i}=l,t=(0,d.a)(i,["annotationPoint","annotationHorizontalLine","annotationVerticalLine","annotationArea"]);return{...e,annotation:t}},e1=[ed,em,eW,(e,l)=>{let{vseed:i}=l,{dimensions:t}=e;if(!t)return e;let n=i.encoding;if(n){let l=n.x||[t[0].id],i=n.color||[(t[1]||t[0]).id],r=0===(n.detail||[]).length?t.map(e=>e.id).filter(e=>!l.includes(e)):n.detail;return{...e,encoding:{...n,x:l,color:i,detail:r}}}let r=1===t.length&&t.find(e=>e.id===eI),o={x:t.slice(0,1).map(e=>e.id),color:t.slice(+!r).map(e=>e.id),detail:t.slice(+!r).map(e=>e.id),tooltip:t.map(e=>e.id),label:[],row:[],column:[]};return{...e,encoding:o}},eX([eN],[e$]),eG,eY,eU,D,eQ,e0],e2=(e,l)=>{let i={...e},{advancedVSeed:t}=l,{datasetReshapeInfo:n}=t,{foldInfo:r,unfoldInfo:o}=n[0];return i.type="line",i.direction="vertical",i.xField=o.encodingX,i.yField=r.measureValue,i.seriesField=eV(t)?o.encodingDetail:o.encodingColorId,i.padding=0,i.region=[{clip:!0}],i.animation=!0,i},e4=(e,l)=>{let i={...e},{advancedVSeed:t}=l,{datasetReshapeInfo:n,chartType:r}=t,{unfoldInfo:o}=n[0],a=t.config[r];if(!a||!a.color)return i;let s=o.colorItems,d=o.colorIdMap,{color:u}=a,{colorScheme:c,colorMapping:h}=u;return i.color={type:"ordinal",domain:s,range:c,specified:e3(h,d,s)},i},e3=(e,l,i)=>{if(!e||!l||!i)return;let t=[],n=Object.entries(e).sort((e,l)=>l[0].length-e[0].length),r=n.reduce((e,i)=>{let n=i[0],r=i[1];return Object.entries(l).filter(([e,l])=>e===n||l===n).forEach(l=>{e[l[0]]=r,t.push(n)}),e},{});return{...n.reduce((e,i)=>{let n=i[0],r=i[1];return t.includes(n)||Object.entries(l).filter(([e,l])=>e.includes(n)||l.includes(n)).forEach(l=>{e[l[0]]||(e[l[0]]=r)}),e},{}),...r}},e5=(e,l)=>{let i={...e},{advancedVSeed:t}=l,{datasetReshapeInfo:n,chartType:r}=t,{unfoldInfo:o,id:a}=n[0],s=t.config[r];if(!s||!s.color)return i;let{color:d}=s,{colorScheme:u,linearColorScheme:c}=d;return i.color={type:"linear",range:c||u||[],domain:[{dataId:a,fields:[o.encodingColor]}]},i},e7=(e,l)=>{let i={...e},{advancedVSeed:t}=l,{chartType:n}=t,{backgroundColor:r}=t.config[n];return{...i,background:r}},e8=(e,l)=>{let{advancedVSeed:i,vseed:t}=l,{analysis:n,datasetReshapeInfo:r}=i,{unfoldInfo:o}=r[0],a=n?.orderMapping||{},s=o.encodingAngle,d=o.encodingX,u=o.encodingColorId,c=r[0].id,h={};if(s&&(h[s]={sortIndex:0}),d){let e=a[d];e?h[d]={sortIndex:0,domain:e,lockStatisticsByDomain:!0}:h[d]={sortIndex:0}}if(u){let e=a[u];e?h[u]={sortIndex:0,domain:e,lockStatisticsByDomain:!0}:h[u]={sortIndex:0}}return{...e,data:{id:c,values:eg(t)?void 0:i.dataset,fields:h}}},e6=(e,l)=>{let i={...e},{advancedVSeed:t}=l,{dataset:n=[]}=t;return n.length<5e3||(i.large=!0,i.largeThreshold=5e3,i.progressiveStep=400,i.progressiveThreshold=8e3),i},e9=(e,l)=>{let i={...e},{advancedVSeed:t,vseed:n}=l,{chartType:r}=n,o=t.config?.[r]?.xAxis;if(i.axes||(i.axes=[]),!o)return i.axes=[...i.axes,{visible:!0,type:"band",orient:"bottom"}],i;let{visible:a=!0,label:s,tick:d,title:u,grid:c,line:h,labelAutoHide:f,labelAutoHideGap:p,labelAutoLimit:g,labelAutoLimitLength:m=80,labelAutoRotate:b,labelAutoRotateAngleRange:y}=o,x={visible:a,type:"band",orient:"bottom",maxHeight:m+60,sampling:!(f||b||g),hover:!0,label:{visible:s?.visible,flush:!0,space:8,style:{maxLineWidth:m,fill:s?.labelColor,angle:s?.labelAngle,fontSize:s?.labelFontSize,fontWeight:s?.labelFontWeight},minGap:p,autoHide:f,autoHideMethod:"greedy",autoHideSeparation:p,autoLimit:g,autoRotate:b,autoRotateAngle:y,lastVisible:!0},title:{visible:u?.visible,text:u?.titleText,style:{fill:u?.titleColor,fontSize:u?.titleFontSize,fontWeight:u?.titleFontWeight}},tick:{visible:d?.visible,tickSize:d?.tickSize,inside:d?.tickInside,style:{stroke:d?.tickColor}},grid:{visible:c?.visible,style:{lineWidth:c?.gridWidth,stroke:c?.gridColor}},domainLine:{visible:h?.visible,style:{lineWidth:h?.lineWidth,stroke:h?.lineColor}},paddingInner:[.15,.1],paddingOuter:[.075,.1]};return i.axes=[...i.axes,x],i},le=(e,l)=>{let i={...e},{advancedVSeed:t,vseed:n}=l,{chartType:r}=n,{locale:o}=t,a=t.config?.[r]?.yAxis;if(i.axes||(i.axes=[]),!a)return i.axes=[...i.axes,{visible:!0,type:"linear",orient:"left"}],i;let{visible:s=!0,label:d,tick:u,title:c,grid:h,line:f,zero:p,nice:g,inverse:m,max:b,min:y,log:x,logBase:C=10}=a,v={visible:s,type:x?"log":"linear",base:C,orient:"left",nice:g,zero:!x&&p,inverse:m,max:b,min:y,label:{visible:d?.visible,formatMethod:e=>j(e,o),style:{fill:d?.labelColor,angle:d?.labelAngle,fontSize:d?.labelFontSize,fontWeight:d?.labelFontWeight}},title:{visible:c?.visible,text:c?.titleText,style:{fill:c?.titleColor,fontSize:c?.titleFontSize,fontWeight:c?.titleFontWeight}},tick:{visible:u?.visible,tickSize:u?.tickSize,inside:u?.tickInside,style:{stroke:u?.tickColor}},grid:{visible:h?.visible,style:{lineWidth:h?.gridWidth,stroke:h?.gridColor}},domainLine:{visible:f?.visible,style:{lineWidth:f?.lineWidth,stroke:f?.lineColor}},innerOffset:{top:7}};return i.axes=[...i.axes,v],i},ll=(e,l)=>{let i={...e},{advancedVSeed:t}=l,{measures:n,datasetReshapeInfo:r,locale:o}=t,{chartType:a}=t,s=t.config[a];if(!s||!s.label)return i;let{measureId:d,measureValue:u}=r[0].foldInfo,{label:c}=s,{enable:h}=c;return i.label={visible:h,formatMethod:(e,l)=>{let i=[];return i.push((e=>{let i=W(n,l[d]);if(!i)return e;let{format:t={},autoFormat:r=!0}=i;return(0,m.a)(t)?r?j(e,o):String(e):Y(t)(e)})(l[u])),i.join(" ")}},i},li=(e,l)=>{let i={...e},{advancedVSeed:t}=l,{measures:n,datasetReshapeInfo:r,chartType:o,locale:a,dimensions:s}=t,{tooltip:d={enable:!0}}=t.config[o],{enable:u}=d,{measureId:c,measureValue:h,measureName:f}=r[0].foldInfo,{encodingColor:p}=r[0].unfoldInfo;return i.tooltip={visible:u,mark:{title:{visible:!0},content:[...s.map(e=>({visible:!0,hasShape:!0,shapeType:"rectRound",key:l=>e.alias||e.id?e.alias||e.id:l&&l[e.id],value:l=>l&&l[e.id]})),{visible:!0,hasShape:!0,key:e=>e&&e[f||p]||"",value:e=>{if(!e)return"";let l=e[h],i=W(n,e[c]);if(!i)return String(l);let{format:t={},autoFormat:r=!0}=i;return(0,m.a)(t)?r?j(l,a):String(l):Y(t)(l)}}]},dimension:{content:[{visible:!0,key:e=>e&&e[p]||"",value:e=>{if(!e)return"";let l=e[h],i=W(n,e[c]);if(!i)return String(l);let{format:t={},autoFormat:r=!0}=i;return(0,m.a)(t)?r?j(l,a):String(l):Y(t)(l)},shapeType:"rectRound"}]}},i},lt=(e,l)=>{let i={...e},{advancedVSeed:t,vseed:n}=l,{chartType:r}=n,o=t.config?.[r]?.crosshairLine;if(!o)return i;i.crosshair||(i.crosshair={});let a=o.visible||!0,s=o.lineColor||void 0,d=o.labelColor||void 0,u=o.labelVisible||void 0,c=o.labelBackgroundColor||void 0;return i.crosshair.xField={visible:a,line:{type:"line",style:{lineWidth:1,opacity:1,stroke:s,lineDash:[4,2]}},label:{visible:u,labelBackground:{visible:u,style:{fill:c}},style:{fill:d}}},i},ln=(e,l)=>{let i={...e},{advancedVSeed:t}=l,{datasetReshapeInfo:n,chartType:r}=t,{unfoldInfo:o}=n[0],a=t.config[r];if(!a||!a.legend)return i;let{legend:s}=a,{enable:d,position:u="bottom",labelFontColor:c,labelFontSize:h=12,labelFontWeight:f,maxSize:p=1,border:g,shapeType:m="rectRound"}=s||{};return i.legends={type:"discrete",visible:d,maxCol:Math.max(1,p),maxRow:Math.max(1,p),autoPage:!0,orient:["bottom","bottomLeft","bottomRight","bl","br"].includes(u)?"bottom":["top","topLeft","topRight","tl","tr"].includes(u)?"top":["left","leftTop","leftBottom","lt","lb"].includes(u)?"left":"right",position:["topLeft","bottomLeft","leftTop","rightTop","lt","rt","tl","bl"].includes(u)?"start":["topRight","bottomRight","leftBottom","rightBottom","lb","rb","rt","br"].includes(u)?"end":"middle",data:g?e=>e.map(e=>(e.shape.outerBorder={stroke:e.shape.fill,distance:3,lineWidth:1},e)):void 0,item:{focus:!0,maxWidth:"30%",focusIconStyle:{size:h+2,fill:c,fontWeight:f},shape:{space:g?6:4,style:{symbolType:m,size:g?8:10}},label:{formatMethod:e=>o.colorIdMap[String(e)]??e,style:{fontSize:h,fill:c,fontWeight:f}},background:{state:{selectedHover:{fill:c,fillOpacity:.05}}}},padding:0},i},lr=(e,l)=>{let i={...e},{advancedVSeed:t}=l,{datasetReshapeInfo:n,chartType:r}=t,{unfoldInfo:o}=n[0],a=t.config[r];if(!a||!a.legend)return i;let{legend:s}=a,{enable:d,position:u="bottom",labelFontColor:c,labelFontSize:h=12,labelFontWeight:f}=s||{};return i.legends={type:"color",visible:d,orient:["bottom","bottomLeft","bottomRight","bl","br"].includes(u)?"bottom":["top","topLeft","topRight","tl","tr"].includes(u)?"top":["left","leftTop","leftBottom","lt","lb"].includes(u)?"left":"right",position:["topLeft","bottomLeft","leftTop","rightTop","lt","rt","tl","bl"].includes(u)?"start":["topRight","bottomRight","leftBottom","rightBottom","lb","rb","rt","br"].includes(u)?"end":"middle",padding:0,field:o.encodingColor,maxWidth:"30%",startText:{visible:!0,style:{fill:c,fontSize:h,fontWeight:f}},endText:{visible:!0,style:{fill:c,fontSize:h,fontWeight:f}}},i},lo=e=>(l,i)=>{let t=e(l,i),{advancedVSeed:n}=i,{datasetReshapeInfo:r}=n,{unfoldInfo:o}=r[0];return eV(n)&&t?.point?.style&&(t.point.style.fill={field:o.encodingColor,scale:"color"}),t},la=(e,l)=>{if(!l)return!0;let i=Object.keys(e).filter(e=>e.toLocaleLowerCase().startsWith("__vchart")),t=(0,b.a)(e,i);return(Array.isArray(l)?l:[l]).every(e=>{if(ls(e)){if(Object.values(t).find(l=>l===e))return!0}else if(lu(e)){let l=e.operator||e.op,i=Array.isArray(e.value)?e.value:[e.value];switch(l){case"=":case"==":if(t[e.field]===i[0])return!0;break;case"!=":if(t[e.field]!==i[0])return!0;break;case">":if(t[e.field]>i[0])return!0;break;case"<":if(t[e.field]<i[0])return!0;break;case">=":if(t[e.field]>=i[0])return!0;break;case"<=":if(t[e.field]<=i[0])return!0;break;case"between":if(Array.isArray(e.value)&&t[e.field]>=i[0]&&t[e.field]<=i[1])return!0}}else if(lc(e)){let l=e.operator||e.op,i=Array.isArray(e.value)?e.value:[e.value];switch(l){case"in":if(i.includes(t[e.field]))return!0;break;case"not in":if(!i.includes(t[e.field]))return!0}}else if(ld(e)&&Object.keys(e).every(l=>t[l]===e[l]))return!0;return!1})},ls=e=>"string"==typeof e||"number"==typeof e,ld=e=>"object"==typeof e&&null!==e,lu=e=>"object"==typeof e&&null!==e&&"field"in e&&("operator"in e||"op"in e)&&"value"in e&&(["=","==","!=",">","<",">=","<=","between"].includes(e.operator)||["=","==","!=",">","<",">=","<=","between"].includes(e.op)),lc=e=>"object"==typeof e&&null!==e&&"field"in e&&("operator"in e||"op"in e)&&"value"in e&&(["in","not in"].includes(e.operator)||["in","not in"].includes(e.op)),lh=(e,l)=>{let{advancedVSeed:i}=l,{markStyle:t}=i,{pointStyle:n}=t,r={...e,point:{style:{}}};if(!n)return r;let o=(Array.isArray(n)?n:[n]).reduce((e,l,i)=>{let{pointBorderColor:t,pointBorderStyle:n,pointBorderWidth:r=1,pointColor:o,pointColorOpacity:a,pointSize:s,pointVisible:d=!0}=l;return{...e,[`custom${i+1}`]:{level:i+1,filter:e=>!!la(e,l.selector),style:{visible:d,size:s,fill:o,fillOpacity:a,innerBorder:{stroke:t,lineWidth:r,distance:(r||0)/2,lineDash:"dashed"===n?[5,2]:"dotted"===n?[2,5]:[0,0]}}}}},{});return{...r,point:{...r.point,state:{...o}}}},lf=e=>{let l=e.point||{};return{...e,point:{...l,state:{...l.state||{},dimension_hover:{scaleX:1.4,scaleY:1.4,outerBorder:{lineWidth:4,strokeOpacity:.25,distance:2}}}}}},lp=(e,l)=>{let i=e.point||{},{advancedVSeed:t}=l,{datasetReshapeInfo:n}=t,{unfoldInfo:r}=n[0];return{...e,point:{...i,state:{...i.state||{},hover:{scaleX:1.4,scaleY:1.4,stroke:(e,l)=>{let i=r.encodingColorId;return l.seriesColor(e[i])},fillOpacity:.6,lineWidth:1}}}}},lg=e=>(l,i)=>{let t=e(l,i),{advancedVSeed:n}=i,{datasetReshapeInfo:r}=n,{unfoldInfo:o}=r[0];return eV(n)&&t?.line?.style&&(t.line.style.stroke={field:o.encodingColor,scale:"color"}),t},lm=(e,l)=>{let{advancedVSeed:i}=l,{markStyle:t,datasetReshapeInfo:n,dataset:r}=i,{unfoldInfo:o}=n[0],{lineStyle:a}=t,s={...e,line:{style:{}}};if(!a)return s;let d=Array.isArray(a)?a:[a],u=o.encodingColorId,c=(0,x.a)(r,e=>e[u??""]),h=d.reduce((e,l,i)=>{let{lineColor:t,lineColorOpacity:n,lineSmooth:r,lineStyle:o,lineWidth:a=2,lineVisible:s=!0}=l,d=2*a;return{...e,[`custom${i+1}`]:{level:i+1,filter:e=>{for(let i of c[e[u??""]])if(la(i,l.selector))return!0;return!1},style:{visible:s,curveType:r?"monotone":"linear",strokeOpacity:n,stroke:t,lineWidth:a,lineDash:"dashed"===o?[d,d]:"dotted"===o?[a/2,2*a]:[0,0]}}}},{});return{...s,line:{...s.line,state:{...h}}}},lb=(e,l)=>Object.entries(e).every(([e,i])=>"string"!=typeof i&&"number"!=typeof i||l[e]===i),ly=(e,l)=>{let{advancedVSeed:i}=l,{annotation:t}=i;if(!t||!t.annotationPoint)return e;let{annotationPoint:n}=t,r=(Array.isArray(n)?n:[n]).flatMap(e=>{let{selector:l,text:t="",textColor:n="#ffffff",textFontSize:r=12,textFontWeight:o=400,textAlign:a="center",textBaseline:s="top",textBackgroundBorderColor:d,textBackgroundBorderRadius:u=4,textBackgroundBorderWidth:c=1,textBackgroundColor:h="#212121",textBackgroundPadding:f=2,textBackgroundVisible:p=!0,offsetX:g=0,offsetY:m=0}=e,b=i.dataset.flat();return(l?b.filter(e=>la(e,l)):[]).map(e=>({zIndex:1e3,regionRelative:!0,position:(l,i)=>{let t=l.find(l=>lb(e,l));if(t){let{x:e,y:l}=i.dataToPosition(t);return{x:e,y:l}}},itemLine:{visible:!1},itemContent:{offsetY:m,offsetX:g,text:{text:t,style:{visible:!0,textAlign:a,textBaseline:s,fill:n,stroke:h,lineWidth:1,fontSize:r,fontWeight:o,dy:r},labelBackground:{visible:p,padding:f,style:{cornerRadius:u??4,fill:h,stroke:d,lineWidth:c,dy:r}}}}}))});return{...e,markPoint:r}},lx=(e,l)=>{let{advancedVSeed:i}=l,{annotation:t,datasetReshapeInfo:n}=i,{unfoldInfo:r}=n[0];if(!t||!t.annotationVerticalLine)return e;let{annotationVerticalLine:o}=t,a=Array.isArray(o)?o:[o],s={outsideStart:"start",outsideEnd:"end",outsideMiddle:"middle",insideStart:"insideStartTop",insideMiddle:"insideMiddleTop",insideEnd:"insideEndTop"},d=a.flatMap(e=>{let{selector:l,xValue:t,text:n="",textPosition:o="insideEnd",textColor:a="#ffffff",textFontSize:d=12,textFontWeight:u=400,textAlign:c="right",textBaseline:p="top",textBackgroundVisible:g=!0,textBackgroundBorderColor:m="#212121",textBackgroundColor:b="#212121",textBackgroundBorderRadius:y=4,textBackgroundBorderWidth:x=1,textBackgroundPadding:v=2,lineVisible:R=!0,lineColor:A="#212121",lineWidth:I=1,lineStyle:k="dashed"}=e,S=i.dataset.flat(),_=e=>({x:e,zIndex:1e3,line:{style:{visible:R,stroke:A,lineStyle:k,lineWidth:I,lineDash:"dashed"===k?[5,2]:"dotted"===k?[2,5]:[0]}},label:{text:n,position:s[o||"insideEnd"],style:{visible:!0,stroke:b,lineWidth:1,textAlign:c,textBaseline:p,fill:a,fontSize:d,fontWeight:u,dy:d},labelBackground:{visible:g,padding:v,style:{dy:d,cornerRadius:y??4,fill:b,stroke:m,lineWidth:x}}},endSymbol:{visible:!0,size:10+(I||1),style:{dy:4,fill:A}}});return!l&&(0,C.a)(t)||(0,h.a)(t)||(0,f.a)(t)?(Array.isArray(t)?t:[t]).map(_):(l?S.filter(e=>la(e,l)):[]).map(e=>{let l=r.encodingX;return l?_(e[l]):{}})}),u=[...e.markLine||[],...d||[]];return{...e,markLine:u}},lC=(e,l)=>{let{advancedVSeed:i}=l,{annotation:t,datasetReshapeInfo:n}=i,{unfoldInfo:r}=n[0];if(!t||!t.annotationHorizontalLine)return e;let{annotationHorizontalLine:o}=t,a=Array.isArray(o)?o:[o],s={outsideStart:"start",outsideEnd:"end",outsideMiddle:"middle",insideStart:"insideStartTop",insideMiddle:"insideMiddleTop",insideEnd:"insideEndTop"},d=a.flatMap(e=>{let{selector:l,yValue:t,text:n="",textPosition:o="insideEnd",textColor:a="#ffffff",textFontSize:d=12,textFontWeight:u=400,textAlign:c="right",textBaseline:p="top",lineColor:g="#212121",lineStyle:m="dashed",lineVisible:b=!0,lineWidth:y=1,textBackgroundVisible:x=!0,textBackgroundColor:v="#212121",textBackgroundBorderColor:R="#212121",textBackgroundBorderRadius:A=4,textBackgroundBorderWidth:I=1,textBackgroundPadding:k=2}=e,S=i.dataset.flat(),_=e=>({y:e,zIndex:1e3,line:{style:{visible:b,stroke:g,lineStyle:m,lineWidth:y,lineDash:"dashed"===m?[5,2]:"dotted"===m?[2,5]:[0]}},label:{text:n,position:s[o||"insideEnd"],style:{visible:!0,dy:d,stroke:v,lineWidth:1,textAlign:c,textBaseline:p,fill:a,fontSize:d,fontWeight:u},labelBackground:{visible:x,padding:k,style:{dy:d,cornerRadius:A??4,fill:v,stroke:R,lineWidth:I}}},endSymbol:{visible:!0,size:10+(y||1),style:{dx:-4,fill:g}}});return!l&&(0,C.a)(t)||(0,h.a)(t)||(0,f.a)(t)?(Array.isArray(t)?t:[t]).map(_):(l?S.filter(e=>la(e,l)):[]).map(e=>{let l=r.encodingY;return l?_(e[l]):{}})}),u=[...e.markLine||[],...d||[]];return{...e,markLine:u}},lv=(e,l)=>{let{advancedVSeed:i}=l,{annotation:t}=i;if(!t||!t.annotationArea)return e;let{annotationArea:n}=t,r=Array.isArray(n)?n:[n],o={top:"insideTop",topRight:"insideTopRight",topLeft:"insideTopLeft",bottom:"insideBottom",bottomLeft:"insideBottomLeft",bottomRight:"insideBottomRight",left:"insideLeft",right:"insideRight"},a=r.flatMap(e=>{let{selector:l,text:t="",textPosition:n="top",textColor:r="#ffffff",textFontSize:a=12,textFontWeight:s=400,textAlign:d="center",textBaseline:u="top",textBackgroundVisible:c=!0,textBackgroundColor:h="#191d24",textBackgroundBorderColor:f="#191d24",textBackgroundBorderWidth:p=1,textBackgroundBorderRadius:g=4,textBackgroundPadding:m=4,areaColor:b="#888888",areaColorOpacity:y=.15,areaBorderColor:x="#888888",areaBorderRadius:C=4,areaBorderWidth:v=1,outerPadding:R=4}=e,A=i.dataset.flat(),I=l?A.filter(e=>la(e,l)):[],k=o[n||"top"],S=k.toLocaleLowerCase().includes("bottom");return{zIndex:1e3,regionRelative:!0,positions:(e,l)=>{let i=e.filter(e=>I.some(l=>lb(l,e))).map(e=>l.dataToPosition(e)),t=l.getYAxisHelper(),n=l.getXAxisHelper();if("function"==typeof n?.getBandwidth){let e=t.getScale(),l=Math.min(...i.map(e=>e.x))-(R||4),n=Math.max(...i.map(e=>e.x))+(R||4),r=Math.min(...e.range()),o=Math.max(...e.range());return[{x:l,y:r},{x:n,y:r},{x:n,y:o},{x:l,y:o}]}if("function"==typeof t?.getBandwidth){let e=n.getScale(),l=Math.min(...i.map(e=>e.y))-(R||4),t=Math.max(...i.map(e=>e.y))+(R||4),r=Math.min(...e.range()),o=Math.max(...e.range());return[{x:r,y:l},{x:o,y:l},{x:o,y:t},{x:r,y:t}]}return[]},label:{position:k,visible:!0,text:t,style:{dy:S?-(2*(a||12)):a,textAlign:d,textBaseline:u,fill:r,stroke:h,lineWidth:1,fontSize:a,fontWeight:s},labelBackground:{visible:c,padding:m,style:{dy:S?-(2*(a||12)):a,cornerRadius:g??4,fill:h,stroke:f,lineWidth:p}}},area:{style:{visible:!0,fill:b,fillOpacity:y,stroke:x,lineWidth:v,cornerRadius:C}}}});return{...e,markArea:a}},lR=e=>({...e,animation:!0,rows:[],columns:[],indicators:[],records:[],widthMode:"adaptive",heightMode:"adaptive",indicatorsAsCol:!1}),lA=e=>{let l={...e},i="rgba(0,0,0,0)",t="rgba(178,186,207, 0.2)";return{...l,theme:{underlayBackgroundColor:i,bodyStyle:{borderColor:"rgba(0,4,20,0.2)",borderLineWidth:[0,0,2,0],bgColor:i,padding:[0,0,1,0],hover:{cellBgColor:"transparent"}},headerStyle:{borderColor:"rgba(0,4,20,0.2)",fontSize:12,color:"#333333",textAlign:"center",borderLineWidth:0,bgColor:i,hover:{cellBgColor:t}},rowHeaderStyle:{borderColor:"rgba(0,4,20,0.2)",fontSize:12,color:"#333333",borderLineWidth:0,bgColor:i,hover:{cellBgColor:t}},cornerHeaderStyle:{borderColor:"rgba(0,4,20,0.2)",textAlign:"center",fontSize:12,color:"#333333",fontWeight:"bold",borderLineWidth:[0,0,0,0],bgColor:i,hover:{cellBgColor:t}},cornerRightTopCellStyle:{borderColor:"rgba(0,4,20,0.2)",borderLineWidth:0,bgColor:i,hover:{cellBgColor:t}},cornerLeftBottomCellStyle:{borderColor:"rgba(0,4,20,0.2)",borderLineWidth:0,bgColor:i,hover:{cellBgColor:t}},cornerRightBottomCellStyle:{borderColor:"rgba(0,4,20,0.2)",borderLineWidth:0,bgColor:i,hover:{cellBgColor:t}},rightFrozenStyle:{borderColor:"rgba(0,4,20,0.2)",borderLineWidth:0,bgColor:i,hover:{cellBgColor:t}},bottomFrozenStyle:{borderColor:"rgba(0,4,20,0.2)",borderLineWidth:0,bgColor:i,hover:{cellBgColor:t}},selectionStyle:{cellBgColor:"",cellBorderColor:""},frameStyle:{borderLineWidth:0,bgColor:i}}}},lI=e=>(l,i)=>{let t={...l},{advancedVSeed:n}=i,{measures:r,datasetReshapeInfo:o,dataset:a}=n,d=(0,s.a)(o.flatMap(e=>e.unfoldInfo.colorItems)),u=o.map((l,t)=>{let o=r?.find(e=>e.id===l.id),s=a[t],u=[{...l,unfoldInfo:{...l.unfoldInfo,colorItems:d}}],c=R(e,{...i,advancedVSeed:{...n,datasetReshapeInfo:u,dataset:s}},{});return{indicatorKey:l.id,title:o?.alias,cellType:"chart",chartModule:"vchart",chartSpec:c,style:{padding:[1,1,0,1]}}});return{...t,indicators:u}},lk=e=>({...e,indicatorsAsCol:!1}),lS=e=>({...e,indicatorsAsCol:!0}),l_=(e,l)=>{let i={...e},{advancedVSeed:t}=l,{dataset:n,datasetReshapeInfo:r}=t,o=n.reduce((e,l,i)=>(e[r[i].id]=l,e),{});return{...i,records:o}},lz=(e,l)=>{let i={...e},{advancedVSeed:t}=l,n=t.dimensions;if(!n)return i;let r=n.filter(e=>"rowDimension"===e.location).map(e=>({dimensionKey:e.id,title:e.alias||e.id}));return{...i,rows:r}},lB=(e,l)=>{let i={...e},{advancedVSeed:t}=l,n=t.dimensions;if(!n)return i;let r=n.filter(e=>"columnDimension"===e.location).map(e=>({dimensionKey:e.id,title:e.alias||e.id}));return{...i,columns:r}},lM=(e,l)=>{let i={...e},{advancedVSeed:t}=l,{chartType:n}=t,r=t.config[n];if(!r||!r.legend)return i;let{datasetReshapeInfo:o}=t,a=(0,s.a)(o.flatMap(e=>e.unfoldInfo.colorItems)),d=o.reduce((e,l)=>({...e,...l.unfoldInfo.colorIdMap}),{}),{legend:u,color:c}=r,{colorScheme:h,colorMapping:f}=c,p=e3(f,d,a),{enable:g,position:m="bottom",labelFontColor:b,labelFontSize:y=12,labelFontWeight:x=400,maxSize:C=1,border:v,shapeType:R="rectRound"}=u||{},A={visible:g,type:"discrete",orient:["bottom","bottomLeft","bottomRight","bl","br"].includes(m)?"bottom":["top","topLeft","topRight","tl","tr"].includes(m)?"top":["left","leftTop","leftBottom","lt","lb"].includes(m)?"left":"right",position:["topLeft","bottomLeft","leftTop","rightTop","lt","rt","tl","bl"].includes(m)?"start":["topRight","bottomRight","leftBottom","rightBottom","lb","rb","rt","br"].includes(m)?"end":"middle",maxCol:Math.max(1,C),maxRow:Math.max(1,C),data:a.map((e,l)=>{let i=p?.[e]??h?.[l%h.length];return{label:e,shape:{outerBorder:v?{stroke:i,distance:3,lineWidth:1}:void 0,fill:i}}}),item:{focus:!0,maxWidth:"30%",focusIconStyle:{size:y+2,fill:b,fontWeight:x},shape:{space:v?6:4,style:{symbolType:R,size:v?8:10}},label:{formatMethod:e=>d[e]??e,style:{fontSize:y,fill:b,fontWeight:x}},background:{state:{selectedHover:{fill:b,fillOpacity:.05}}}}};return{...i,legends:A}},lF=(e,l)=>(i,t)=>{let{vseed:n}=t;return eg(n)?R(l,t,i):R(e,t,i)},lP=[lF([e2,eE(e4,e5),e7,e8,e6,e9,le,ll,li,lt,eE(ln,lr),lo(lh),lf,lg(lm),ly,lx,lC,lv],[lR,lA,lk,l_,lI([e2,e4,e7,e8,e6,e9,le,ll,li,lt,lh,lf,lm,ly,lx,lC,lv]),lz,lB,lM])],lL=()=>{P._advancedPipelineMap.line=e1,P._specPipelineMap.line=lP},lT=(e,l)=>{let{vseed:i}=l,{dimensions:t}=e;if(!t)return e;let n=i.encoding;if(n){let l=n.x||[t[0].id],i=n.color||[(t[1]||t[0]).id],r=n.detail||[],o=0===r.length?(0,s.a)([...i,...r]):r;return{...e,encoding:{...n,x:l,color:i,detail:o}}}let r=1===t.length&&t.find(e=>e.id===eI),o={x:t.slice(0,1).map(e=>e.id),color:t.slice(+!r).map(e=>e.id),detail:t.slice(+!r).map(e=>e.id),tooltip:t.map(e=>e.id),label:[],row:[],column:[]};return{...e,encoding:o}},lW=[ed,em,eW,lT,eX([eN],[e$]),eG,eY,eq,D,eQ,e0],lX=(e,l)=>{let i={...e},{advancedVSeed:t}=l,{datasetReshapeInfo:n}=t,{unfoldInfo:r,foldInfo:o}=n[0];return i.type="bar",i.direction="vertical",i.xField=r.encodingX,i.yField=o.measureValue,i.seriesField=r.encodingColorId,i.padding=0,i.region=[{clip:!0}],i.animation=!0,i},lZ=(e,l)=>{let{advancedVSeed:i,vseed:t}=l,{chartType:n}=t,r=i.config?.[n]?.stackCornerRadius,{datasetReshapeInfo:o}=i,{foldInfo:a}=o[0];return{...e,stackCornerRadius:(e,l)=>l[a.measureValue]>0?r:0}},lO=e=>{let l={...e};return l.stackInverse=!0,l},lD=(e,l)=>{let i={...e},{advancedVSeed:t,vseed:n}=l,{chartType:r}=n,o=t.config?.[r]?.crosshairRect;if(!o)return i;i.crosshair||(i.crosshair={});let a=o.visible||!0,s=o.rectColor||void 0,d=o.labelColor||void 0,u=o.labelVisible||!1,c=o.labelBackgroundColor||void 0;return i.crosshair.xField={visible:a,line:{type:"rect",style:{lineWidth:0,opacity:.2,fill:s}},label:{visible:u,labelBackground:{visible:u,style:{fill:c}},style:{fill:d}}},i},lw=e=>(l,i)=>{let t=e(l,i),{advancedVSeed:n}=i,{datasetReshapeInfo:r}=n,{unfoldInfo:o}=r[0];return eV(n)&&t?.bar?.style&&(t.bar.style.fill={field:o.encodingColor,scale:"color"}),t},lE=(e,l)=>{let{advancedVSeed:i}=l,{markStyle:t,dataset:n=[]}=i,{barStyle:r}=t,o=n.length<=100,a={...e,bar:{style:{lineWidth:+!!o},state:{hover:{fillOpacity:.6}}}};if(!r)return a;let s=(Array.isArray(r)?r:[r]).reduce((e,l,i)=>{let{barBorderColor:t,barBorderStyle:n,barBorderWidth:r=1,barColor:o,barColorOpacity:a,barRadius:s,barVisible:d=!0}=l;return{...e,[`custom${i+1}`]:{level:i+1,filter:e=>!!la(e,l.selector),style:{visible:d,fill:o,fillOpacity:a,cornerRadius:s,innerBorder:{stroke:t,lineWidth:r,distance:(r||0)/2,lineDash:"dashed"===n?[5,2]:"dotted"===n?[2,5]:[0,0]}}}}},{});return{...a,bar:{state:{...s}}}},lV=(e,l)=>{let{advancedVSeed:i}=l,{annotation:t}=i;if(!t||!t.annotationArea)return e;let{annotationArea:n}=t,r=Array.isArray(n)?n:[n],o={top:"insideTop",topRight:"insideTopRight",topLeft:"insideTopLeft",bottom:"insideBottom",bottomLeft:"insideBottomLeft",bottomRight:"insideBottomRight",left:"insideLeft",right:"insideRight"},a=r.flatMap(e=>{let{selector:l,text:t="",textPosition:n="top",textColor:r="#ffffff",textFontSize:a=12,textFontWeight:s=400,textAlign:d="center",textBaseline:u="top",textBackgroundVisible:c=!0,textBackgroundColor:h="#191d24",textBackgroundBorderColor:f="#191d24",textBackgroundBorderWidth:p=1,textBackgroundBorderRadius:g=4,textBackgroundPadding:m=4,areaColor:b="#888888",areaColorOpacity:y=.15,areaBorderColor:x="#888888",areaBorderRadius:C=4,areaBorderWidth:v=1,outerPadding:R=4}=e,A=i.dataset.flat(),I=l?A.filter(e=>la(e,l)):[];return{zIndex:1e3,regionRelative:!0,positions:(e,l)=>{let i=e.filter(e=>I.some(l=>lb(l,e))).map(e=>l.dataToPosition(e)),t=l.getYAxisHelper(),n=l.getXAxisHelper();if("function"==typeof n?.getBandwidth){let e=l.fieldX.length??0,r=n?.getBandwidth?.(e-1),o=t.getScale(),a=Math.min(...i.map(e=>e.x))-(R||4),s=Math.max(...i.map(e=>e.x))+r+(R||4),d=Math.min(...o.range()),u=Math.max(...o.range());return[{x:a,y:d},{x:s,y:d},{x:s,y:u},{x:a,y:u}]}if("function"==typeof t?.getBandwidth){let e=l.fieldY.length??0,r=t?.getBandwidth?.(e-1),o=n.getScale(),a=Math.min(...i.map(e=>e.y))-(R||4),s=Math.max(...i.map(e=>e.y))+r+(R||4),d=Math.min(...o.range()),u=Math.max(...o.range());return[{x:d,y:a},{x:u,y:a},{x:u,y:s},{x:d,y:s}]}return[]},label:{position:o[n||"top"],visible:!0,text:t,style:{dy:a,textAlign:d,textBaseline:u,stroke:h,lineWidth:1,fill:r,fontSize:a,fontWeight:s},labelBackground:{visible:c,padding:m,style:{dy:a,cornerRadius:g??4,fill:h,stroke:f,lineWidth:p}}},area:{style:{visible:!0,fill:b,fillOpacity:y,stroke:x,lineWidth:v,cornerRadius:C}}}});return{...e,markArea:a}},lH=(e,l)=>{let i={...e},{advancedVSeed:t}=l,{chartType:n}=t,r=t.config[n];if(!r||!r.legend)return i;let{datasetReshapeInfo:o}=t,a=Math.max(...o.map(e=>e.foldInfo.colorRange[1])),s=Math.min(...o.map(e=>e.foldInfo.colorRange[0])),{legend:d,color:u}=r,{colorScheme:c,linearColorScheme:h}=u,{enable:f,position:p="bottom",labelFontColor:g,labelFontSize:m=12,labelFontWeight:b=400}=d||{},y=["bottom","bottomLeft","bottomRight","bl","br"].includes(p)?"bottom":["top","topLeft","topRight","tl","tr"].includes(p)?"top":["left","leftTop","leftBottom","lt","lb"].includes(p)?"left":"right",x=["topLeft","bottomLeft","leftTop","rightTop","lt","rt","tl","bl"].includes(p)?"start":["topRight","bottomRight","leftBottom","rightBottom","lb","rb","rt","br"].includes(p)?"end":"middle";return{...i,legends:{visible:f,type:"color",orient:y,position:x,colors:h||c||[],value:[s,a],min:s,max:a,maxWidth:"30%",startText:{visible:!0,style:{fill:g,fontSize:m,fontWeight:b}},endText:{visible:!0,style:{fill:g,fontSize:m,fontWeight:b}}}}},lN=[lF([lX,lZ,lO,eE(e4,e5),e7,e8,e6,e9,le,ll,li,lD,eE(ln,lr),lw(lE),ly,lx,lC,lV],[lR,lA,lk,l_,lI([lX,lZ,lO,eE(e4,e5),e7,e8,e6,e9,le,ll,li,lD,lw(lE),ly,lx,lC,lV]),lz,lB,eE(lM,lH)])],l$=()=>{P._advancedPipelineMap.column=lW,P._specPipelineMap.column=lN},lG=[ed,em,eW,lT,eX([eN],[e$]),eG,eY,eq,D,eQ,e0],lK=(e,l)=>{let i={...e},{advancedVSeed:t}=l,{datasetReshapeInfo:n,dimensions:r}=t,{unfoldInfo:o,foldInfo:a}=n[0],s=r.length>1&&r.every(e=>e.id===r[0].id);return i.type="bar",i.direction="vertical",i.xField=s?[o.encodingX]:[o.encodingX,o.encodingDetail],i.yField=a.measureValue,i.seriesField=o.encodingColorId,i.padding=0,i.region=[{clip:!0}],i.animation=!0,i},lY=[lF([lK,lZ,eE(e4,e5),e7,e8,e6,e9,le,ll,li,eE(ln,lr),lD,lw(lE),ly,lx,lC,lV],[lR,lA,lk,l_,lI([lK,lZ,eE(e4,e5),e7,e8,e6,e9,le,ll,li,lD,lw(lE),ly,lx,lC,lV]),lz,lB,eE(lM,lH)])],lj=()=>{P._advancedPipelineMap.columnParallel=lG,P._specPipelineMap.columnParallel=lY},lU=[ed,em,eW,lT,eX([eN],[e$]),eG,eY,eq,D,eQ,e0],lq=(e,l)=>{let i={...e};return i.percent=!0,i},lJ=[lF([lX,lZ,lO,eE(e4,e5),e7,lq,e8,e6,e9,le,ll,li,eE(ln,lr),lD,lw(lE),ly,lx,lC,lV],[lR,lA,lk,l_,lI([lX,lZ,lO,eE(e4,e5),lq,e7,e8,e6,e9,le,ll,li,lD,lw(lE),ly,lx,lC,lV]),lz,lB,eE(lM,lH)])],lQ=()=>{P._advancedPipelineMap.columnPercent=lU,P._specPipelineMap.columnPercent=lJ},l0=(e,l)=>{let{vseed:i}=l,{dimensions:t}=e;if(!t)return e;let n=i.encoding;if(n){let l=n.y||[t[0].id],i=n.color||[(t[1]||t[0]).id],r=n.detail||[],o=0===r.length?(0,s.a)([...i,...r]):r;return{...e,encoding:{...n,y:l,color:i,detail:o}}}let r=1===t.length&&t.find(e=>e.id===eI),o={y:t.slice(0,1).map(e=>e.id),color:t.slice(+!r).map(e=>e.id),detail:t.slice(+!r).map(e=>e.id),tooltip:t.map(e=>e.id),label:[],row:[],column:[]};return{...e,encoding:o}},l1=(e,l)=>{let i={...e},{vseed:t}=l,{sort:n}=t,{datasetReshapeInfo:r,dataset:o}=e,{unfoldInfo:a}=r[0],s=a?.encodingY;if(!n||!s)return e;i.analysis||(i.analysis={}),i.analysis.orderMapping||(i.analysis.orderMapping={});let d=eK(n,s,o.flat(2));return i.analysis.orderMapping[s]=d,i},l2=[ed,em,eW,l0,eX([eN],[e$]),l1,eY,eq,D,eQ,e0],l4=(e,l)=>{let i={...e},{advancedVSeed:t}=l,{datasetReshapeInfo:n}=t,{unfoldInfo:r,foldInfo:o}=n[0];return i.type="bar",i.direction="horizontal",i.yField=r.encodingY,i.xField=o.measureValue,i.seriesField=r.encodingColorId,i.padding=0,i.region=[{clip:!0}],i.animation=!0,i},l3=(e,l)=>{let{advancedVSeed:i,vseed:t}=l,{analysis:n,datasetReshapeInfo:r}=i,{unfoldInfo:o}=r[0],a=n?.orderMapping||{},s=o.encodingAngle,d=o.encodingY,u=o.encodingColorId,c=r[0].id,h={};if(s&&(h[s]={sortIndex:0}),d){let e=a[d];e?h[d]={sortIndex:0,domain:e,lockStatisticsByDomain:!0}:h[d]={sortIndex:0}}if(u){let e=a[u];e?h[u]={sortIndex:0,domain:e,lockStatisticsByDomain:!0}:h[u]={sortIndex:0}}return{...e,data:{id:c,values:eg(t)?void 0:i.dataset,fields:h}}},l5=(e,l)=>{let i={...e},{advancedVSeed:t,vseed:n}=l,{chartType:r}=n,{locale:o}=t,a=t.config?.[r]?.xAxis;if(i.axes||(i.axes=[]),!a)return i.axes=[...i.axes,{visible:!0,type:"linear",orient:"bottom"}],i;let{visible:s=!0,label:d,tick:u,title:c,grid:h,line:f,zero:p,nice:g,inverse:m,max:b,min:y,log:x,logBase:C=10}=a,v={visible:s,type:x?"log":"linear",base:C,orient:"bottom",nice:g,zero:!x&&p,inverse:m,max:b,min:y,label:{visible:d?.visible,formatMethod:e=>j(e,o),style:{fill:d?.labelColor,angle:d?.labelAngle,fontSize:d?.labelFontSize,fontWeight:d?.labelFontWeight}},title:{visible:c?.visible,text:c?.titleText,style:{fill:c?.titleColor,fontSize:c?.titleFontSize,fontWeight:c?.titleFontWeight}},tick:{visible:u?.visible,tickSize:u?.tickSize,inside:u?.tickInside,style:{stroke:u?.tickColor}},grid:{visible:h?.visible,style:{lineWidth:h?.gridWidth,stroke:h?.gridColor}},domainLine:{visible:f?.visible,style:{lineWidth:f?.lineWidth,stroke:f?.lineColor}},innerOffset:{right:7}};return i.axes=[...i.axes,v],i},l7=(e,l)=>{let i={...e},{advancedVSeed:t,vseed:n}=l,{chartType:r}=n,o=t.config?.[r]?.yAxis;if(i.axes||(i.axes=[]),!o)return i.axes=[...i.axes,{visible:!0,type:"band",orient:"left"}],i;let{visible:a=!0,label:s,tick:d,title:u,grid:c,line:h,labelAutoHide:f,labelAutoHideGap:p,labelAutoLimit:g,labelAutoLimitLength:m=80,labelAutoRotate:b,labelAutoRotateAngleRange:y}=o,x={visible:a,type:"band",orient:"left",maxWidth:m+60,sampling:!(f||b||g),hover:!0,label:{visible:s?.visible,flush:!0,containerAlign:"right",space:8,style:{maxLineWidth:m,fill:s?.labelColor,angle:s?.labelAngle,fontSize:s?.labelFontSize,fontWeight:s?.labelFontWeight},minGap:p,autoHide:f,autoHideMethod:"greedy",autoHideSeparation:p,autoLimit:g,autoRotate:b,autoRotateAngle:y,lastVisible:!0},title:{visible:u?.visible,text:u?.titleText,style:{fill:u?.titleColor,fontSize:u?.titleFontSize,fontWeight:u?.titleFontWeight}},tick:{visible:d?.visible,tickSize:d?.tickSize,inside:d?.tickInside,style:{stroke:d?.tickColor}},grid:{visible:c?.visible,style:{lineWidth:c?.gridWidth,stroke:c?.gridColor}},domainLine:{visible:h?.visible,style:{lineWidth:h?.lineWidth,stroke:h?.lineColor}},paddingInner:[.15,.1],paddingOuter:[.075,.1]};return i.axes=[...i.axes,x],i},l8=(e,l)=>{let i={...e},{advancedVSeed:t,vseed:n}=l,{chartType:r}=n,o=t.config?.[r]?.crosshairRect;if(!o)return i;i.crosshair||(i.crosshair={});let a=o.visible||!0,s=o.rectColor||void 0,d=o.labelColor||void 0,u=o.labelVisible||!1,c=o.labelBackgroundColor||void 0;return i.crosshair.yField={visible:a,line:{type:"rect",style:{lineWidth:0,opacity:.2,fill:s}},label:{visible:u,labelBackground:{visible:u,style:{fill:c}},style:{fill:d}}},i},l6=[lF([l4,lZ,eE(e4,e5),e7,l3,e6,l5,l7,ll,li,eE(ln,lr),l8,lw(lE),ly,lx,lC,lV],[lR,lA,lS,l_,lI([l4,lZ,eE(e4,e5),e7,l3,e6,l5,l7,ll,ll,li,lw(lE),l8,ly,lx,lC,lV]),lz,lB,eE(lM,lH)])],l9=()=>{P._advancedPipelineMap.bar=l2,P._specPipelineMap.bar=l6},ie=[ed,em,eW,l0,eX([eN],[e$]),l1,eY,eq,D,eQ,e0],il=(e,l)=>{let i={...e},{advancedVSeed:t}=l,{datasetReshapeInfo:n,dimensions:r}=t,{unfoldInfo:o,foldInfo:a}=n[0],s=r.length>1&&r.every(e=>e.id===r[0].id);return i.type="bar",i.direction="horizontal",i.yField=s?[o.encodingY]:[o.encodingY,o.encodingDetail],i.xField=a.measureValue,i.seriesField=o.encodingColorId,i.padding=0,i.region=[{clip:!0}],i.animation=!0,i},ii=[lF([il,lZ,eE(e4,e5),e7,l3,e6,l5,l7,ll,li,eE(ln,lr),l8,lw(lE),ly,lx,lC,lV],[lR,lA,lS,l_,lI([il,lZ,eE(e4,e5),e7,l3,l5,l7,ll,li,lw(lE),l8,ly,lx,lC,lV]),lz,lB,eE(lM,lH)])],it=()=>{P._advancedPipelineMap.barParallel=ie,P._specPipelineMap.barParallel=ii},ir=[ed,em,eW,l0,eX([eN],[e$]),l1,eY,eq,D,eQ,e0],io=[lF([l4,lZ,eE(e4,e5),e7,lq,l3,e6,l5,l7,ll,li,eE(ln,lr),l8,lw(lE),ly,lx,lC,lV],[lR,lA,lS,l_,lI([l4,lZ,eE(e4,e5),e7,lq,l3,l7,l5,ll,li,lw(lE),l8,ly,lx,lC,lV]),lz,lB,eE(lM,lH)])],ia=()=>{P._advancedPipelineMap.barPercent=ir,P._specPipelineMap.barPercent=io},is=[ed,em,eW,lT,eX([eN],[e$]),eG,eY,eU,D,eQ,e0],id=(e,l)=>{let i={...e},{advancedVSeed:t}=l,{datasetReshapeInfo:n}=t,{unfoldInfo:r,foldInfo:o}=n[0];return i.type="area",i.direction="vertical",i.yField=o.measureValue,i.xField=r.encodingX,i.seriesField=eV(t)?r.encodingDetail:r.encodingColorId,i.padding=0,i.region=[{clip:!0}],i.animation=!0,i},iu=e=>(l,i)=>{let t=e(l,i),{advancedVSeed:n}=i,{datasetReshapeInfo:r}=n,{unfoldInfo:o}=r[0];return eV(n)&&t?.area?.style&&(t.area.style.fill={field:o.encodingColor,scale:"color"}),t},ic=(e,l)=>{let{advancedVSeed:i}=l,{markStyle:t,datasetReshapeInfo:n,dataset:r}=i,{areaStyle:o}=t,{unfoldInfo:a}=n[0],s={...e,area:{visible:!0,style:{}}};if(!o)return s;let d=Array.isArray(o)?o:[o],u=a.encodingColorId,c=(0,x.a)(r,e=>e[u??""]),h=d.reduce((e,l,i)=>{let{areaColor:t,areaColorOpacity:n,areaVisible:r=!0}=l;return{...e,[`custom${i+1}`]:{level:i+1,filter:e=>{for(let i of c[e[u??""]])if(la(i,l.selector))return!0;return!1},style:{visible:r,fill:t,fillOpacity:n}}}},{});return{...s,area:{...s.area,visible:!0,state:{...h}}}},ih=[lF([id,lO,eE(e4,e5),e7,e8,e6,e9,le,ll,li,eE(ln,lr),lt,lo(lh),lf,lg(lm),iu(ic),ly,lx,lC,lv],[lR,lA,lk,l_,lI([id,eE(e4,e5),e7,lO,e8,e6,e9,le,ll,li,lt,lo(lh),lf,lg(lm),iu(ic),ly,lx,lC,lv]),lz,lB,eE(lM,lH)])],ip=()=>{P._advancedPipelineMap.area=is,P._specPipelineMap.area=ih},ig=[ed,em,eW,lT,eX([eN],[e$]),eG,eY,eU,D,eQ,e0],im=[lF([id,lO,eE(e4,e5),e7,lq,e8,e6,e9,le,ll,li,eE(ln,lr),lt,lo(lh),lf,lg(lm),iu(ic),ly,lx,lC,lv],[lR,lA,lk,l_,lI([id,lO,eE(e4,e5),e7,lq,e8,e6,e9,le,ll,li,lt,lo(lh),lf,lg(lm),iu(ic),ly,lx,lC,lv]),lz,lB,eE(lM,lH)])],ib=()=>{P._advancedPipelineMap.areaPercent=ig,P._specPipelineMap.areaPercent=im},iy=e=>{let l=e.map((e,l)=>{let{xMeasures:i,yMeasures:t}=e,n=[],r="";if(i){let e=Array.isArray(i)?i:[i];r+=e.map(e=>e.alias||e.id).toString(),n.push({id:`${l}-x`,alias:e.map(e=>e.alias||e.id).toString(),children:e})}if(t){let e=Array.isArray(t)?t:[t];r+=e.map(e=>e.alias||e.id).toString(),n.push({id:`${l}-y`,alias:e.map(e=>e.alias||e.id).toString(),children:e})}return{id:r,alias:r,children:n}});return 1===e.length?l[0].children||[]:l},ix=[ed,(e,l)=>{let i={...e},{vseed:t}=l,{dataset:n,scatterMeasures:r,measures:o}=t;if(!n)throw Error("dataset is required");if(0===n.length)return i;if(r)return i.measures=iy(r),i;if(o&&eu(o)>1)return i.measures=o,i;let a=n.slice(0,100),s=a.reduce((e,l)=>({...e,...l}),{}),d=o||Object.keys(s).filter(e=>a.some(l=>"number"==typeof l[e])&&!["",null,void 0].includes(e)).map(e=>({id:e,alias:e}));return 0===d.length?i.measures=[]:1===d.length?i.measures=[{id:"primary",alias:"primary",children:d}]:d.length>1&&(i.measures=[{id:"primary",alias:"primary",children:d.slice(0,1)},{id:"secondary",alias:"secondary",children:d.slice(1)}]),i},eW,(e,l)=>{let{vseed:i}=l,{dimensions:t}=e;if(!t)return e;let n=i.encoding;if(n){let l=n.detail||[],i=n.color||[(t[1]||t[0]).id],r=0===l.length?(0,s.a)([...i,...l]):l;return{...e,encoding:{...n,color:i,detail:r}}}let r=t.filter(e=>e.id!==eI),o={color:t.slice(0).map(e=>e.id),detail:r.slice(0).map(e=>e.id),tooltip:r.map(e=>e.id),label:[],row:[],column:[]};return{...e,encoding:o}},eX([(e,l)=>{let i={...e},{vseed:t}=l,{dataset:n}=t,{dimensions:r,measures:o,encoding:a,chartType:s}=e;if(!o||!r||!n||!a)return i;if(0===o.length)throw Error("measures can not be empty");if(o.length>2)throw Error("measures can not be more than 2");let d=[],u=[],c=[],h=o[0],f=o[1]||h;if(h&&h.children){let{dataset:l,foldInfo:i,unfoldInfo:t}=ew(n,r,h.children,a,{foldMeasureValue:e_,colorItemAsId:!0,colorMeasureId:eH(e)});c.push(l),d.push(i),u.push(t)}if(f&&f.children){let{dataset:l,foldInfo:i,unfoldInfo:t}=ew(c[0],r,f.children,a,{foldMeasureValue:ez,colorItemAsId:!0,colorMeasureId:eH(e)});c[0]=l,d.push(i),u.push(t)}let p={...u[0],colorItems:u.flatMap(e=>e.colorItems),colorIdMap:u.reduce((e,l)=>({...e,...l.colorIdMap}),{})};return{...i,dataset:c[0],datasetReshapeInfo:[{id:String(s),index:0,foldInfo:d[0],foldInfoList:d,unfoldInfo:p}]}}],[(e,l)=>{let i={...e},{vseed:t}=l,{dataset:n}=t,{dimensions:r,measures:o,encoding:a,chartType:s}=e;if(!o||!r||!n||!a)return i;let d=[],u=eu(o);3===u?o.forEach(e=>{d.push(e.children)}):2===u&&d.push(o);let c=[],h=[];return d.forEach((l,i)=>{if(0===l.length)throw Error("measures can not be empty");if(l.length>2)throw Error("measures can not be more than 2");let t=[],o=[],d=[],u=l[0],f=l[1]||u;if(u&&u.children){let{dataset:l,foldInfo:s,unfoldInfo:c}=ew(n,r,u.children,a,{foldMeasureValue:`${e_}${i}`,colorItemAsId:!0,colorMeasureId:eH(e)});d.push(l),t.push(s),o.push(c)}if(f&&f.children){let{dataset:l,foldInfo:s,unfoldInfo:u}=ew(n,r,f.children,a,{foldMeasureValue:`${ez}${i}`,colorItemAsId:!0,colorMeasureId:eH(e)});d.push(l),t.push(s),o.push(u)}let p={...o[0],colorItems:o.flatMap(e=>e.colorItems),colorIdMap:o.reduce((e,l)=>({...e,...l.colorIdMap}),{})},g={id:`${s}-${i}`,index:i,foldInfo:t[0],foldInfoList:t,unfoldInfo:p};h.push(g),c.push(d[0].map((e,l)=>({...e,...d[1]?.[l]||{}})))}),{...i,dataset:c,datasetReshapeInfo:h}}]),eU,D,eQ,e0],iC=(e,l)=>{let i={...e},{advancedVSeed:t}=l,{datasetReshapeInfo:n}=t,{unfoldInfo:r,foldInfoList:o}=n[0];return i.type="scatter",i.direction="vertical",i.xField=o?.[0].measureValue,o?.[1]&&(i.yField=o[1].measureValue),i.seriesField=r.encodingColorId,i.padding=0,i.region=[{clip:!0}],i.animation=!0,i},iv=(e,l)=>{let{advancedVSeed:i,vseed:t}=l,{datasetReshapeInfo:n}=i,r=n[0].id;return{...e,data:{id:r,values:eg(t)?void 0:i.dataset.flat(),fields:{}}}},iR=(e,l)=>{let i={...e},{advancedVSeed:t,vseed:n}=l,{chartType:r}=n,o=t.config?.[r]?.crosshairLine;if(!o)return i;i.crosshair||(i.crosshair={});let a=o.visible||!0,s=o.lineColor||void 0,d=o.labelColor||void 0,u=o.labelVisible||void 0,c=o.labelBackgroundColor||void 0;return i.crosshair.yField={visible:a,line:{type:"line",style:{lineWidth:1,opacity:1,stroke:s,lineDash:[4,2]}},label:{visible:u,labelBackground:{visible:u,style:{fill:c}},style:{fill:d}}},i},iA=[lF([iC,eE(e4,e5),e7,iv,e6,l5,le,ll,li,eE(ln,lr),lt,iR,lo(lh),lp,ly,lx,lC,lv],[lR,lA,lk,l_,lI([iC,eE(e4,e5),e7,iv,e6,l5,le,ll,li,lt,iR,lo(lh),lp,ly,lx,lC,lv]),lz,lB,lM])],iI=()=>{P._advancedPipelineMap.scatter=ix,P._specPipelineMap.scatter=iA},ik=e=>{let l=e.map((e,l)=>{let{primaryMeasures:i,secondaryMeasures:t}=e,n=[],r="";if(i){let e=Array.isArray(i)?i:[i];r+=e.map(e=>e.alias||e.id).toString(),n.push({id:`${l}-primary`,alias:e.map(e=>e.alias||e.id).toString(),children:e})}if(t){let e=Array.isArray(t)?t:[t];r+=e.map(e=>e.alias||e.id).toString(),n.push({id:`${l}-secondary`,alias:e.map(e=>e.alias||e.id).toString(),children:e})}return{id:r,alias:r,children:n}});return 1===e.length?l[0].children||[]:l},iS=[ed,(e,l)=>{let i={...e},{vseed:t}=l,{dataset:n,dualMeasures:r,measures:o}=t;if(!n)throw Error("dataset is required");if(0===n.length)return i;if(r)return i.measures=ik(r),i;if(o&&eu(o)>1)return i.measures=o,i;let a=n.slice(0,100),s=a.reduce((e,l)=>({...e,...l}),{}),d=o||Object.keys(s).filter(e=>a.some(l=>"number"==typeof l[e])&&!["",null,void 0].includes(e)).map(e=>({id:e,alias:e}));return 0===d.length?i.measures=[]:1===d.length?i.measures=[{id:"primary",alias:"primary",children:d}]:d.length>1&&(i.measures=[{id:"primary",alias:"primary",children:d.slice(0,1)},{id:"secondary",alias:"secondary",children:d.slice(1)}]),i},eW,(e,l)=>{let{vseed:i}=l,{dimensions:t}=e;if(!t)return e;let n=i.encoding;if(n){let l=n.x||[t[0].id],i=n.color||[(t[1]||t[0]).id],r=n.detail||[],o=0===r.length?(0,s.a)([...i,...r]):r;return{...e,encoding:{...n,x:l,color:i,detail:o}}}let r={x:t.slice(0,1).map(e=>e.id),color:t.slice(1).map(e=>e.id),detail:t.slice(1).map(e=>e.id),tooltip:t.map(e=>e.id),label:[],row:[],column:[]};return{...e,encoding:r}},eX([(e,l)=>{let i={...e},{vseed:t}=l,{dataset:n}=t,{dimensions:r,measures:o,encoding:a,chartType:s}=e;if(!o||!r||!n||!a)return i;if(0===o.length)throw Error("measures can not be empty");if(o.length>2)throw Error("measures can not be more than 2");let d=[],u=[],c=[],h=o[0],f=o[1]||[];if(h&&h.children){let{dataset:l,foldInfo:i,unfoldInfo:t}=ew(n,r,h.children,a,{foldMeasureValue:ek,colorMeasureId:eH(e)});c.push(l),d.push(i),u.push(t)}if(f&&f.children){let{dataset:l,foldInfo:i,unfoldInfo:t}=ew(n,r,f.children,a,{foldMeasureValue:eS,colorMeasureId:eH(e)});c.push(l),d.push(i),u.push(t)}let p={...u[0],colorItems:u.flatMap(e=>e.colorItems),colorIdMap:u.reduce((e,l)=>({...e,...l.colorIdMap}),{})};return{...i,dataset:c,datasetReshapeInfo:[{id:String(s),index:0,foldInfo:d[0],foldInfoList:d,unfoldInfo:p}]}}],[(e,l)=>{let i={...e},{vseed:t}=l,{dataset:n}=t,{dimensions:r,measures:o,encoding:a,chartType:s}=e;if(!o||!r||!n||!a)return i;let d=[],u=[],c=[],h=eu(o);return 3===h?o.forEach(e=>{c.push(e.children)}):2===h&&c.push(o),c.forEach((l,i)=>{if(0===l.length)throw Error("measures can not be empty");if(l.length>2)throw Error("measures can not be more than 2");let t=[],o=[],c=[],h=l[0],f=l[1]||[];if(h&&h.children){let{dataset:l,foldInfo:s,unfoldInfo:d}=ew(n,r,h.children,a,{foldMeasureValue:`${ek}${i}`,colorMeasureId:eH(e)});c.push(l),t.push(s),o.push(d)}if(f&&f.children){let{dataset:l,foldInfo:s,unfoldInfo:d}=ew(n,r,f.children,a,{foldMeasureValue:`${eS}${i}`,colorMeasureId:eH(e)});c.push(l),t.push(s),o.push(d)}let p={...o[0],colorItems:o.flatMap(e=>e.colorItems),colorIdMap:o.reduce((e,l)=>({...e,...l.colorIdMap}),{})},g={id:`${s}-${i}`,index:i,foldInfo:t[0],foldInfoList:t,unfoldInfo:p};u.push(g),d.push(c.flat(2))}),{...i,dataset:d,datasetReshapeInfo:u}}]),eG,eY,(e,l)=>{let{vseed:i}=l,{chartType:t}=i,n={...e},r=(0,d.a)(i,["backgroundColor","color","label","legend","tooltip","dualChartType","alignTicks","primaryYAxis","secondaryYAxis","crosshairLine"]);return n.config={...n.config||{},[t]:{...r}},n},D,eQ,e0],i_=(e,l)=>{let i={...e},{advancedVSeed:t}=l,{datasetReshapeInfo:n}=t,{unfoldInfo:r,foldInfoList:o,id:a}=n[0];return i.id=`${a}-primary-series`,i.type="bar",i.direction="vertical",i.xField=r.encodingX,i.seriesField=r.encodingColorId,i.yField=o?.[0].measureValue,i.animation=!0,i},iz=(e,l)=>{let i={...e},{advancedVSeed:t}=l,{datasetReshapeInfo:n}=t,{unfoldInfo:r,foldInfoList:o,id:a}=n[0];return i.id=`${a}-secondary-series`,i.type="line",i.direction="vertical",i.xField=r.encodingX,o?.[1]&&(i.yField=o[1].measureValue),i.seriesField=eV(t)?r.encodingDetail:r.encodingColorId,i.animation=!0,i},iB=(e,l)=>{let i={...e,zIndex:1001},{advancedVSeed:t,vseed:n}=l,{chartType:r}=n,{datasetReshapeInfo:o}=t,a=o[0].index,s=t.config?.[r]?.dualChartType||{primary:"column",secondary:"line"},d=Array.isArray(s)?s[a].primary||s[0].primary:s.primary,u=Array.isArray(s)?s[a].secondary||s[0].secondary:s.secondary;switch("column"===d&&"column"===u?"columnParallel":d){case"line":i.type="line";break;case"column":i.type="bar",i.zIndex=1e3;break;case"columnParallel":Array.isArray(i.xField)?i.xField.push(o[0].unfoldInfo.encodingDetail):i.xField&&(i.xField=[i.xField,o[0].unfoldInfo.encodingDetail]),i.type="bar",i.zIndex=1e3;break;case"columnPercent":i.type="bar",i.percent=!0;break;case"area":i.type="area";break;case"areaPercent":i.type="area",i.percent=!0;break;case"scatter":i.type="scatter";break;default:i.type=d}return i},iM=(e,l)=>{let i={...e,zIndex:1001},{advancedVSeed:t,vseed:n}=l,{chartType:r}=n,{datasetReshapeInfo:o}=t,a=t.config?.[r]?.dualChartType||{primary:"column",secondary:"line"},s=o[0].index,d=Array.isArray(a)?a[s].primary||a[0].primary:a.primary,u=Array.isArray(a)?a[s].secondary||a[0].secondary:a.secondary;switch("column"===d&&"column"===u?"columnParallel":u){case"line":i.type="line";break;case"column":i.type="bar",i.zIndex=1e3;break;case"columnParallel":Array.isArray(i.xField)?i.xField.push(o[0].unfoldInfo.encodingDetail):i.xField&&(i.xField=[i.xField,o[0].unfoldInfo.encodingDetail]),i.type="bar",i.zIndex=1e3;break;case"columnPercent":i.type="bar",i.percent=!0;break;case"area":i.type="area";break;case"areaPercent":i.type="area",i.percent=!0;break;case"scatter":i.type="scatter";break;default:i.type=u}return i},iF=(e,l)=>{let{advancedVSeed:i,vseed:t}=l,{analysis:n,datasetReshapeInfo:r}=i,o=n?.orderMapping||{},{unfoldInfo:a}=r[0],s=a.encodingX,d=a.encodingColorId,u=r[0].id,c={};if(s){let e=o[s];e?c[s]={sortIndex:0,domain:e,lockStatisticsByDomain:!0}:c[s]={sortIndex:0}}if(d){let e=o[d];e?c[d]={sortIndex:0,domain:e,lockStatisticsByDomain:!0}:c[d]={sortIndex:0}}return{...e,data:{id:`${u}-primary-dataset`,values:eg(t)?void 0:i.dataset,fields:c}}},iP=(e,l)=>{let{advancedVSeed:i,vseed:t}=l,{analysis:n,datasetReshapeInfo:r}=i,o=n?.orderMapping||{},{unfoldInfo:a}=r[0],s=a.encodingX,d=a.encodingColorId,u=r[0].id,c={};if(s){let e=o[s];e?c[s]={sortIndex:0,domain:e,lockStatisticsByDomain:!0}:c[s]={sortIndex:0}}if(d){let e=o[d];e?c[d]={sortIndex:0,domain:e,lockStatisticsByDomain:!0}:c[d]={sortIndex:0}}return{...e,data:{id:`${u}-secondary-dataset`,values:eg(t)?void 0:i.dataset,fields:c}}},iL=(e,l)=>{let i={...e},{advancedVSeed:t}=l,{measures:n,datasetReshapeInfo:r,locale:o}=t,{chartType:a}=t,s=t.config[a];if(!s||!s.label)return i;let{measureId:d,measureValue:u}=r[0].foldInfoList[0],{label:c}=s,{enable:h}=c;return i.label={visible:h,formatMethod:(e,l)=>{let i=[];return i.push((e=>{let i=W(n,l[d]);if(!i)return e;let{format:t={},autoFormat:r=!0}=i;return(0,m.a)(t)?r?j(e,o):String(e):Y(t)(e)})(l[u])),i.join(" ")}},i},iT=(e,l)=>{let i={...e},{advancedVSeed:t}=l,{measures:n,datasetReshapeInfo:r,locale:o}=t,{chartType:s}=t,d=t.config[s];if(!d||!d.label||(0,a.a)(r[0].foldInfoList?.[1]))return i;let{measureId:u,measureValue:c}=r[0].foldInfoList[1],{label:h}=d,{enable:f}=h;return i.label={visible:f,formatMethod:(e,l)=>{let i=[];return i.push((e=>{let i=W(n,l[u]);if(!i)return e;let{format:t={},autoFormat:r=!0}=i;return(0,m.a)(t)?r?j(e,o):String(e):Y(t)(e)})(l[c])),i.join(" ")}},i},iW=(e,l)=>{let i={...e},{advancedVSeed:t}=l,{measures:n,datasetReshapeInfo:r,chartType:o,locale:a,dimensions:s}=t,{tooltip:d={enable:!0}}=t.config[o],{enable:u}=d,c=r[0].foldInfoList,h=r[0].unfoldInfo,{measureId:f,measureValue:p,measureName:g}=c[0],{encodingColor:b}=h;return i.tooltip={visible:u,mark:{title:{visible:!0},content:[...s.map(e=>({visible:!0,hasShape:!0,shapeType:"rectRound",key:l=>e.alias||e.id?e.alias||e.id:l&&l[e.id],value:l=>l&&l[e.id]})),{visible:!0,hasShape:!0,key:e=>e&&e[g||b]||"",value:e=>{if(!e)return"";let l=e[p],i=W(n,e[f]);if(!i)return String(l);let{format:t={},autoFormat:r=!0}=i;return(0,m.a)(t)?r?j(l,a):String(l):Y(t)(l)}}]},dimension:{content:[{visible:!0,key:e=>e&&e[b]||"",value:e=>{if(!e)return"";let l=e[p],i=W(n,e[f]);if(!i)return String(l);let{format:t={},autoFormat:r=!0}=i;return(0,m.a)(t)?r?j(l,a):String(l):Y(t)(l)},shapeType:"rectRound"}]}},i},iX=(e,l)=>{let i={...e},{advancedVSeed:t}=l,{measures:n,datasetReshapeInfo:r,chartType:o,locale:s,dimensions:d}=t,{tooltip:u={enable:!0}}=t.config[o],{enable:c}=u;if((0,a.a)(r[0].foldInfoList?.[1]))return i;let h=r[0].foldInfoList,f=r[0].unfoldInfo,{measureId:p,measureValue:g,measureName:b}=h[1],{encodingColorId:y}=f;return i.tooltip={visible:c,mark:{title:{visible:!0},content:[...d.map(e=>({visible:!0,hasShape:!0,shapeType:"rectRound",key:l=>e.alias||e.id?e.alias||e.id:l&&l[e.id],value:l=>l&&l[e.id]})),{visible:!0,hasShape:!0,key:e=>e&&e[b||y]||"",value:e=>{if(!e)return"";let l=e[g],i=W(n,e[p]);if(!i)return String(l);let{format:t={},autoFormat:r=!0}=i;return(0,m.a)(t)?r?j(l,s):String(l):Y(t)(l)}}]},dimension:{content:[{visible:!0,key:e=>e&&e[y]||"",value:e=>{if(!e)return"";let l=e[g],i=W(n,e[p]);if(!i)return String(l);let{format:t={},autoFormat:r=!0}=i;return(0,m.a)(t)?r?j(l,s):String(l):Y(t)(l)},shapeType:"rectRound"}]}},i},iZ=(e,l)=>{let i={...e},{advancedVSeed:t,vseed:n}=l,{chartType:r}=n,{locale:o,datasetReshapeInfo:a}=t,{index:s,id:d,foldInfoList:u}=a[0],c=t.config?.[r]?.primaryYAxis,h=Array.isArray(c)?c[s]||c[0]:c,f=t.config?.[r]?.alignTicks,p=Array.isArray(f)?f[s]||f[0]:f;if(u?.[0]&&(0,m.a)(u[0].foldMap))return i;let g=`${d}-primary-axis`,b=[`${d}-primary-series`,`${d}-secondary-series`],y=p?b:b[0];if(i.axes||(i.axes=[]),!h)return i.axes=[...i.axes,{visible:!0,id:g,seriesId:y,type:"linear",orient:"left"}],i;let{visible:x=!0,label:C,tick:v,title:R,grid:A,line:I,zero:k,nice:S,inverse:_,max:z,min:B,log:M,logBase:F=10}=h,P={visible:x,id:g,seriesId:y,type:M?"log":"linear",base:F,orient:"left",nice:S,zero:!M&&k,inverse:_,max:z,min:B,label:{visible:C?.visible,formatMethod:e=>j(e,o),style:{fill:C?.labelColor,angle:C?.labelAngle,fontSize:C?.labelFontSize,fontWeight:C?.labelFontWeight}},title:{visible:R?.visible,text:R?.titleText,style:{fill:R?.titleColor,fontSize:R?.titleFontSize,fontWeight:R?.titleFontWeight}},tick:{visible:v?.visible,tickSize:v?.tickSize,inside:v?.tickInside,style:{stroke:v?.tickColor}},grid:{visible:A?.visible,style:{lineWidth:A?.gridWidth,stroke:A?.gridColor}},domainLine:{visible:I?.visible,style:{lineWidth:I?.lineWidth,stroke:I?.lineColor}},innerOffset:{top:7}};return i.axes=[...i.axes,P],i},iO=(e,l)=>{let i={...e},{advancedVSeed:t,vseed:n}=l,{chartType:r}=n,{locale:o,datasetReshapeInfo:s}=t,{index:d,id:u,foldInfoList:c}=s[0],h=t.config?.[r]?.secondaryYAxis,f=Array.isArray(h)?h[d]||h[0]:h,p=t.config?.[r]?.alignTicks,g=Array.isArray(p)?p[d]||p[0]:p;if((0,a.a)(c?.[1]))return i;let m={axisId:`${u}-primary-axis`,zeroAlign:!0},b=`${u}-secondary-axis`,y=[`${u}-primary-series`,`${u}-secondary-series`],x=g?y:y[1];if(i.axes||(i.axes=[]),!f)return i.axes=[...i.axes,{visible:!0,id:b,seriesId:x,type:"linear",orient:"right",sync:m}],i;let{visible:C=!0,label:v,tick:R,title:A,grid:I,line:k,zero:S,nice:_,inverse:z,max:B,min:M,log:F,logBase:P=10}=f,L={visible:C,id:b,seriesId:x,sync:m,type:F?"log":"linear",base:P,orient:"right",nice:_,zero:!F&&S,inverse:z,max:B,min:M,label:{visible:v?.visible,formatMethod:e=>j(e,o),style:{fill:v?.labelColor,angle:v?.labelAngle,fontSize:v?.labelFontSize,fontWeight:v?.labelFontWeight}},title:{visible:A?.visible,text:A?.titleText,style:{fill:A?.titleColor,fontSize:A?.titleFontSize,fontWeight:A?.titleFontWeight}},tick:{visible:R?.visible,tickSize:R?.tickSize,inside:R?.tickInside,style:{stroke:R?.tickColor}},grid:{visible:I?.visible,style:{lineWidth:I?.gridWidth,stroke:I?.gridColor}},domainLine:{visible:k?.visible,style:{lineWidth:k?.lineWidth,stroke:k?.lineColor}},innerOffset:{top:7}};return i.axes=[...i.axes,L],i},iD=[lF([((...e)=>{let l={type:"common",padding:0,region:[{clip:!0}]},i=(e,l)=>{let{advancedVSeed:i}=e,t=i.dataset[l];return{...e,advancedVSeed:{...i,dataset:t}}};return(t,n)=>(l.series=e.map((e,l)=>R(e,i(n,l),{})),l)})([i_,iB,iF,iL,iW,e6,lw(lE),lo(lh),lf,lg(lm),iu(ic)],[iz,iM,iP,iT,iX,e6,lw(lE),lo(lh),lf,lg(lm),iu(ic)]),e9,iZ,iO,eE(e4,(e,l)=>{let i={...e},{advancedVSeed:t}=l,{datasetReshapeInfo:n,chartType:r}=t,{unfoldInfo:o,id:a}=n[0],s=t.config[r];if(!s||!s.color)return i;let{color:d}=s,{colorScheme:u,linearColorScheme:c}=d;return i.color={type:"linear",range:c||u||[],domain:[{dataId:`${a}-primary-dataset`,fields:[o.encodingColor]},{dataId:`${a}-secondary-dataset`,fields:[o.encodingColor]}]},i}),eE(ln,lr),e7,lD,ly,lx,lC,lv],[lR,lA,lk,l_,lI([((...e)=>{let l={type:"common",padding:0,region:[{clip:!0}]};return(i,t)=>(l.series=e.map(e=>R(e,t,{})),l)})([i_,iB,iF,iL,iW,e6,lw(lE),lo(lh),lf,lg(lm),iu(ic)],[iz,iM,iP,iT,iX,e6,lw(lE),lo(lh),lf,lg(lm),iu(ic)]),e9,iZ,iO,eE(e4,e5),e7,lD,ly,lx,lC,lv]),lz,lB,eE(lM,lH)])],iw=()=>{P._advancedPipelineMap.dualAxis=iS,P._specPipelineMap.dualAxis=iD},iE=(e,l)=>{let{vseed:i}=l,{dimensions:t}=e;if(!t)return e;let n=i.encoding;if(n)return{...e,encoding:{...n}};let r={color:t.slice(0).map(e=>e.id),detail:t.slice(0).map(e=>e.id),tooltip:t.map(e=>e.id),label:[],row:[],column:[]};return{...e,encoding:r}},iV=[ed,em,eW,iE,eX([eN],[e$]),eJ,D,e0],iH=(e,l)=>{let i={...e},{advancedVSeed:t}=l,{datasetReshapeInfo:n,dataset:r}=t,{unfoldInfo:o,foldInfo:a}=n[0],s=r.length<=30;return i.type="pie",i.outerRadius=.8,i.innerRadius=0,i.valueField=a.measureValue,i.categoryField=o.encodingColorId,i.padding=0,i.region=[{clip:!0}],i.pie={style:{stroke:"#ffffff",lineWidth:+!!s,centerOffset:0},state:{hover:{outerRadius:1.1*i.outerRadius}}},i.animation=!0,i},iN=[lF([iH,e4,e7,e8,e6,ll,li,ln,ly,lx,lC,lv],[lR,lA,lk,l_,lI([iH,e4,e7,e8,e6,ll,li,ly,lx,lC,lv]),lz,lB,lM])],i$=()=>{P._advancedPipelineMap.pie=iV,P._specPipelineMap.pie=iN},iG=[ed,em,eW,iE,eX([eN],[e$]),eJ,D,e0],iK=(e,l)=>{let i={...e},{advancedVSeed:t}=l,{datasetReshapeInfo:n,dataset:r}=t,{foldInfo:o,unfoldInfo:a}=n[0],s=r.length<=30;return i.type="pie",i.outerRadius=.8,i.innerRadius=.8*i.outerRadius,i.valueField=o.measureValue,i.categoryField=a.encodingColorId,i.padding=0,i.region=[{clip:!0}],i.pie={style:{stroke:"#ffffff",lineWidth:+!!s},state:{hover:{outerRadius:1.1*i.outerRadius}}},i.animation=!0,i},iY=[lF([iK,e4,e7,e8,e6,ll,li,ln,ly,lx,lC,lv],[lR,lA,lk,l_,lI([iK,e4,e7,e8,e6,ll,li,ly,lx,lC,lv]),lz,lB,lM])],ij=()=>{P._advancedPipelineMap.donut=iG,P._specPipelineMap.donut=iY},iU=(e,l)=>{let{vseed:i}=l,{dimensions:t}=e;if(!t)return e;let n=i.encoding;if(n){let l=n.angle||[t[0].id],i=n.color||[(t[1]||t[0]).id],r=n.detail||[],o=0===r.length?(0,s.a)([...i,...r]):r;return{...e,encoding:{...n,angle:l,color:i,detail:o}}}let r=1===t.length&&t.find(e=>e.id===eI),o={angle:t.slice(0,1).map(e=>e.id),color:t.slice(+!r).map(e=>e.id),detail:t.slice(+!r).map(e=>e.id),tooltip:t.map(e=>e.id),label:[],row:[],column:[]};return{...e,encoding:o}},iq=[ed,em,eW,iU,eX([eN],[e$]),eJ,D,eQ,e0],iJ=(e,l)=>{let i={...e},{advancedVSeed:t}=l,{dataset:n,datasetReshapeInfo:r}=t,{foldInfo:o,unfoldInfo:a}=r[0];return i.type="rose",i.angleField=a.encodingAngle,i.seriesField=a.encodingColorId,i.valueField=o.measureValue,i.padding=0,i.outerRadius=.9,i.innerRadius=0,n.flat().find(e=>e[o.measureValue]<0)&&(i.innerRadius=.05),i.rose={style:{stroke:"#ffffff",lineWidth:1},state:{hover:{lineWidth:1,fillOpacity:.6}}},i.region=[{clip:!0}],i.animation=!0,i},iQ=(e,l)=>{let i={...e},{advancedVSeed:t}=l,{dimensions:n,measures:r}=t;if(!n||!r)return i;let o=0===n.length,a=1===n.length&&1===r.length,s=!(o||a);return i.axes||(i.axes=[]),i.axes.push({orient:"radius",visible:s,zero:!0,nice:!!s,grid:{visible:s},tick:{visible:s},label:{visible:s},domainLine:{visible:s}}),i},i0=(e,l)=>{let i={...e},{advancedVSeed:t}=l,{dimensions:n,measures:r}=t;if(!n||!r)return i;let o=0===n.length,a=1===n.length&&1===r.length,s=!(o||a);return i.axes||(i.axes=[]),i.axes.push({orient:"angle",visible:s,zero:!0,nice:!!s,paddingInner:s?[.15,.1]:[0,0],paddingOuter:s?[.075,.1]:[0,0],grid:{visible:s},domainLine:{visible:s},tick:{visible:s}}),i},i1=[lF([iJ,lZ,lO,e4,e7,e8,e6,iQ,i0,ll,li,lD,ln],[lR,lA,lk,l_,lI([iJ,lZ,lO,e4,e7,e8,e6,iQ,i0,ll,li,lD]),lz,lB,lM])],i2=()=>{P._advancedPipelineMap.rose=iq,P._specPipelineMap.rose=i1},i4=[ed,em,eW,iU,eX([eN],[e$]),eJ,D,eQ,e0],i3=(e,l)=>{let i={...e},{advancedVSeed:t}=l,{datasetReshapeInfo:n,dataset:r,dimensions:o}=t,{unfoldInfo:a,foldInfo:s}=n[0],d=o.length>1&&o.every(e=>e.id===o[0].id);return i.type="rose",i.angleField=d?[a.encodingAngle]:[a.encodingAngle,a.encodingDetail],i.valueField=s.measureValue,i.seriesField=a.encodingColorId,i.padding=0,i.outerRadius=.9,i.innerRadius=0,r.flat().find(e=>e[s.measureValue]<0)&&(i.innerRadius=.05),i.rose={style:{stroke:"#ffffff",lineWidth:1},state:{hover:{lineWidth:1,fillOpacity:.6}}},i.region=[{clip:!0}],i.animation=!0,i},i5=[lF([i3,lZ,e4,e7,e8,e6,iQ,i0,ll,li,ln,lD,ly,lx,lC,lV],[lR,lA,lk,l_,lI([i3,lZ,e4,e7,e8,e6,iQ,i0,ll,li,lD,ly,lx,lC,lV]),lz,lB,lM])],i7=()=>{P._advancedPipelineMap.roseParallel=i4,P._specPipelineMap.roseParallel=i5},i8=[ed,em,eW,(e,l)=>{let{vseed:i}=l,{dimensions:t}=e;if(!t)return e;let n=i.encoding;if(n){let l=n.angle||[t[0].id],i=n.color||[(t[1]||t[0]).id],r=n.detail||[],o=0===r.length?(0,s.a)([...i,...r]):r;return{...e,encoding:{...n,angle:l,color:i,detail:o}}}let r={angle:t.slice(0,1).map(e=>e.id),color:t.slice(1).map(e=>e.id),detail:t.slice(1).map(e=>e.id),tooltip:t.map(e=>e.id),label:[],row:[],column:[]};return{...e,encoding:r}},eX([eN],[e$]),eY,eJ,D,eQ,e0],i6=(e,l)=>{let i={...e},{advancedVSeed:t}=l,{datasetReshapeInfo:n}=t,{unfoldInfo:r,foldInfo:o}=n[0];return i.type="radar",i.angleField=r.encodingAngle,i.radiusField=o.measureValue,i.seriesField=eV(t)?r.encodingDetail:r.encodingColorId,i.padding=0,i.region=[{clip:!0}],i.animation=!0,i},i9=(e,l)=>{let i={...e},{advancedVSeed:t}=l,{dimensions:n,measures:r}=t;return n&&r&&(i.axes||(i.axes=[]),i.axes.push({orient:"angle",visible:!0,zero:!0,nice:!0,grid:{visible:!0},domainLine:{visible:!0},tick:{visible:!0}})),i},te=(e,l)=>{let i={...e},{advancedVSeed:t}=l,{dimensions:n,measures:r}=t;return n&&r&&(i.axes||(i.axes=[]),i.axes.push({orient:"radius",visible:!0,zero:!0,nice:!0,grid:{visible:!0},tick:{visible:!0},label:{visible:!0},domainLine:{visible:!0}})),i},tl=[lF([i6,eE(e4,e5),e7,e8,e6,i9,te,ll,li,eE(ln,lr),lt,lo(lh),lf,lg(lm),iu(ic)],[lR,lA,lk,l_,lI([i6,eE(e4,e5),e7,e8,e6,i9,te,ll,li,lt,lo(lh),lf,lg(lm),iu(ic)]),lz,lB,eE(lM,lH)])],ti=()=>{P._advancedPipelineMap.radar=i8,P._specPipelineMap.radar=tl},tt=[ed,em,eW,(e,l)=>{let{vseed:i}=l,{dimensions:t}=e;if(!t)return e;let n=i.encoding;if(n)return{...e,encoding:{...n}};let r={color:t.slice(0).map(e=>e.id),detail:t.slice(0).map(e=>e.id),tooltip:t.map(e=>e.id),label:[],row:[],column:[]};return{...e,encoding:r}},eX([eN],[e$]),eJ,D,e0],tn=(e,l)=>{let i={...e},{advancedVSeed:t}=l,{datasetReshapeInfo:n}=t,{foldInfo:r,unfoldInfo:o}=n[0];return i.type="funnel",i.valueField=r.measureValue,i.categoryField=o.encodingColorId,i.padding=0,i.isTransform=!0,i.shape="rect",i.maxSize="75%",i.minSize="10%",i.region=[{clip:!0}],i.funnel={style:{cornerRadius:4,fill:{field:o.encodingColorId,scale:"color"}},state:{hover:{fillOpacity:.6}}},i.transformLabel={visible:!0},i.animation=!0,i},tr=[lF([tn,e7,e8,e4,ll,li,ln,ly,lx,lC,lv],[lR,lA,lk,l_,lI([tn,e7,e8,e4,ll,li,ln,ly,lx,lC,lv]),lz,lB])],to=()=>{P._advancedPipelineMap.funnel=tt,P._specPipelineMap.funnel=tr},ta=[ed,em,eW,(e,l)=>{let{vseed:i}=l,{dimensions:t}=e;if(!t)return e;let n=i.encoding;if(n){let l=n.x||[t[0].id],i=n.y||[(t[1]||t[0]).id];return{...e,encoding:{x:l,y:i,...n}}}let r=1===t.length&&t.find(e=>e.id===eI),o={x:t.slice(0,1).map(e=>e.id),y:t.slice(+!r).map(e=>e.id),color:t.slice(0).map(e=>e.id),tooltip:t.map(e=>e.id),label:[],row:[],column:[]};return{...e,encoding:o}},eX([eN],[e$]),eG,eJ,D,eQ,e0],ts=e=>{let l={...e};return l.label?l.label.smartInvert=!0:l.label={smartInvert:!0},l},td=(e,l)=>{let i={...e},{advancedVSeed:t}=l,{datasetReshapeInfo:n}=t,{unfoldInfo:r,foldInfo:o}=n[0];return i.type="heatmap",i.direction="vertical",i.xField=r.encodingX,i.yField=r.encodingY,i.seriesField=r.encodingColorId,i.valueField=o.measureValue,i.padding=0,i.cell={style:{shape:"rect",stroke:"#ffffff",lineWidth:1}},i.axes=[{type:"band",orient:"left",bandPadding:0},{type:"band",orient:"bottom",bandPadding:0}],i.region=[{clip:!0}],i.animation=!0,i},tu=[lF([td,e7,e8,e4,ll,ts,ln,li,lh,lf,lm,ly,lx,lC,lv],[lR,lA,lk,l_,lI([td,e7,e8,e4,ll,ts,ln,li,lh,lf,lm,ly,lx,lC,lv]),lz,lB])],tc=()=>{P._advancedPipelineMap.heatmap=ta,P._specPipelineMap.heatmap=tu},th=()=>{let e={nice:!0,zero:!0,inverse:!1,label:{visible:!0,labelAngle:0,labelColor:"#797B85",labelFontSize:12,labelFontWeight:400},title:{visible:!1,titleText:"",titleColor:"#646A73",titleFontSize:12,titleFontWeight:400},grid:{visible:!0,gridColor:"#36415926",gridWidth:.5},tick:{visible:!1,tickInside:!1,tickSize:4,tickColor:"#3641594d"},line:{visible:!1,lineColor:"#3641594d",lineWidth:1}},l={labelAutoHide:!0,labelAutoHideGap:4,labelAutoLimit:!0,labelAutoLimitLength:80,labelAutoRotate:!1,labelAutoRotateAngleRange:[0,-45,-90],label:{visible:!0,labelAngle:0,labelColor:"#797B85",labelFontSize:12,labelFontWeight:400},title:{visible:!1,titleText:"",titleColor:"#646A73",titleFontSize:12,titleFontWeight:400},grid:{visible:!1,gridColor:"#36415926",gridWidth:.5},tick:{visible:!1,tickInside:!1,tickSize:4,tickColor:"#3641594d"},line:{visible:!0,lineColor:"#3641594d",lineWidth:1}},i={...l,labelAutoHide:!1,labelAutoHideGap:1,labelAutoLimit:!1,labelAutoLimitLength:void 0,labelAutoRotate:!1,labelAutoRotateAngleRange:[0,-45,-90]},t={visible:!0,labelVisible:!0,lineColor:"#3641594d",labelColor:"#ffffff",labelBackgroundColor:"#364159"},n={visible:!0,labelVisible:!0,rectColor:"#3641594d",labelColor:"#ffffff",labelBackgroundColor:"#364159"},r={backgroundColor:"transparent",color:{linearColorScheme:["#C2CEFF","#5766EC"],colorScheme:["#8D72F6","#5766EC","#66A3FE","#51D5E6","#4EC0B3","#F9DF90","#F9AD71","#ED8888","#E9A0C3","#D77DD3"]},label:{enable:!0},tooltip:{enable:!0},legend:{enable:!0,border:!0,maxSize:1,shapeType:"rectRound",position:"rt",labelFontColor:"#646A73",labelFontSize:12,labelFontWeight:400}},o={borderColor:"#e3e5eb",bodyFontSize:12,bodyFontColor:"#141414",bodyBackgroundColor:"transparent",headerFontSize:12,headerFontColor:"#21252c",headerBackgroundColor:"#f6f7f9",hoverBodyBackgroundColor:"#bedaff",hoverBodyInlineBackgroundColor:"#bedaff33",hoverHeaderBackgroundColor:"#D9DDE4",hoverHeaderInlineBackgroundColor:"#D9DDE455",selectedBorderColor:"#4080ff",selectedBackgroundColor:"#bedaff33",backgroundColor:"transparent"};return{config:{table:o,pivotTable:o,line:{...r,xAxis:l,yAxis:e,crosshairLine:t},column:{...r,xAxis:l,yAxis:e,crosshairRect:n,stackCornerRadius:[4,4,0,0]},columnParallel:{...r,xAxis:l,yAxis:e,crosshairRect:n,stackCornerRadius:[4,4,0,0]},columnPercent:{...r,xAxis:l,yAxis:e,crosshairRect:n,stackCornerRadius:[4,4,0,0]},bar:{...r,xAxis:e,yAxis:i,crosshairRect:n,stackCornerRadius:[0,4,4,0]},barParallel:{...r,xAxis:e,yAxis:i,crosshairRect:n,stackCornerRadius:[0,4,4,0]},barPercent:{...r,xAxis:e,yAxis:i,crosshairRect:n,stackCornerRadius:[0,4,4,0]},area:{...r,xAxis:l,yAxis:e,crosshairLine:t},areaPercent:{...r,xAxis:l,yAxis:e,crosshairLine:t},scatter:{...r,xAxis:{...e,line:{...e.line,visible:!0}},yAxis:{...e,line:{...e.line,visible:!0}},crosshairLine:t},dualAxis:{...r,xAxis:l,primaryYAxis:e,secondaryYAxis:{...e,grid:{visible:!1}},dualChartType:{primary:"column",secondary:"line"},crosshairRect:n},pie:{...r},donut:{...r},radar:{...r},rose:{...r},roseParallel:{...r},funnel:{...r},heatmap:{...r}}}},tf=()=>{let e={nice:!0,zero:!0,label:{visible:!0,labelAngle:0,labelColor:"#E2E3E6",labelFontSize:12,labelFontWeight:400},title:{visible:!1,titleText:"",titleColor:"#FDFDFD",titleFontSize:12,titleFontWeight:400},grid:{visible:!0,gridColor:"#404349",gridWidth:.5},tick:{visible:!1,tickInside:!1,tickSize:4,tickColor:"#4B4F54"},line:{visible:!1,lineColor:"#4B4F54",lineWidth:1}},l={labelAutoHide:!0,labelAutoHideGap:4,labelAutoLimit:!0,labelAutoLimitLength:80,labelAutoRotate:!1,labelAutoRotateAngleRange:[0,-45,-90],label:{visible:!0,labelAngle:0,labelColor:"#E2E3E6",labelFontSize:12,labelFontWeight:400},title:{visible:!1,titleText:"",titleColor:"#FDFDFD",titleFontSize:12,titleFontWeight:400},grid:{visible:!1,gridColor:"#404349",gridWidth:.5},tick:{visible:!1,tickInside:!1,tickSize:4,tickColor:"#4B4F54"},line:{visible:!0,lineColor:"#4B4F54",lineWidth:1}},i={...l,labelAutoHide:!1,labelAutoHideGap:1,labelAutoLimit:!1,labelAutoLimitLength:void 0,labelAutoRotate:!1,labelAutoRotateAngleRange:[0,-45,-90]},t={visible:!0,labelVisible:!0,lineColor:"#E2E3E6",labelColor:"#4B4F54",labelBackgroundColor:"#ffffff"},n={visible:!0,labelVisible:!0,lineColor:"#E2E3E6",labelColor:"#4B4F54",labelBackgroundColor:"#ffffff"},r={backgroundColor:"transparent",color:{linearColorScheme:["#A0CEFF","#2E62F1"],colorScheme:["#2E62F1","#4DC36A","#FF8406","#FFCC00","#4F44CF","#5AC8FA","#003A8C","#B08AE2","#FF6341","#98DD62"]},label:{enable:!0},tooltip:{enable:!0},legend:{enable:!0,border:!0,maxSize:1,position:"rt",shapeType:"rectRound",labelFontColor:"#FDFDFD",labelFontSize:12,labelFontWeight:400}},o={borderColor:"#4b4e53",bodyFontSize:12,bodyFontColor:"#fdfdfd",bodyBackgroundColor:"transparent",headerFontSize:12,headerFontColor:"#fdfdfd",headerBackgroundColor:"#36393e",hoverBodyBackgroundColor:"#4284ff66",hoverBodyInlineBackgroundColor:"#4284ff10",hoverHeaderBackgroundColor:"#6f7984cc",hoverHeaderInlineBackgroundColor:"#4b4f54",selectedBorderColor:"#3073f2",selectedBackgroundColor:"#4284ff33"};return{config:{table:o,pivotTable:o,line:{...r,xAxis:l,yAxis:e,crosshairLine:t},column:{...r,xAxis:l,yAxis:e,crosshairRect:n,stackCornerRadius:[4,4,0,0]},columnParallel:{...r,xAxis:l,yAxis:e,crosshairRect:n,stackCornerRadius:[4,4,0,0]},columnPercent:{...r,xAxis:l,yAxis:e,crosshairRect:n,stackCornerRadius:[4,4,0,0]},bar:{...r,xAxis:e,yAxis:i,crosshairRect:n,stackCornerRadius:[0,4,4,0]},barParallel:{...r,xAxis:e,yAxis:i,crosshairRect:n,stackCornerRadius:[0,4,4,0]},barPercent:{...r,xAxis:e,yAxis:i,crosshairRect:n,stackCornerRadius:[0,4,4,0]},area:{...r,xAxis:l,yAxis:e,crosshairLine:t},areaPercent:{...r,xAxis:l,yAxis:e,crosshairLine:t},scatter:{...r,xAxis:{...e,line:{...e.line,visible:!0}},yAxis:{...e,line:{...e.line,visible:!0}},crosshairLine:t},dualAxis:{...r,xAxis:l,primaryYAxis:e,secondaryYAxis:{...e,grid:{visible:!1}},dualChartType:{primary:"column",secondary:"line"},crosshairRect:n},pie:{...r},donut:{...r},radar:{...r},rose:{...r},roseParallel:{...r},funnel:{...r},heatmap:{...r}}}},tp=(e,l)=>{let i="function"==typeof l?l({lightTheme:th(),darkTheme:tf()}):l;P._themeMap[e]=i},tg=()=>{tp("light",th())},tm=()=>{tp("dark",tf())},tb=()=>{et(),es(),lL(),l$(),lj(),lQ(),l9(),it(),ia(),ip(),ib(),iI(),iw(),i$(),ij(),i2(),i7(),ti(),to(),tc(),tg(),tm()},ty=(e,l)=>{P._customAdvancedPipe[e]=l},tx=(e,l)=>{P._customSpecPipe[e]=l},tC=v.Km(["table","pivotTable","line","column","columnPercent","columnParallel","bar","barPercent","barParallel","area","areaPercent","scatter","dualAxis","rose","roseParallel","pie","donut","radar","funnel","heatmap"]),tv=v.Ry({primary:v.Km(["line","column","columnParallel","area","scatter"]).default("column"),secondary:v.Km(["line","column","columnParallel","area","scatter"]).default("line")}),tR=v.IM(v.Z_().or(v.Rx()),v.Yj()),tA=v.IX(tR),tI=v.Ry({id:v.Z_(),alias:v.Z_().optional(),location:v.Km(["dimension","rowDimension","columnDimension"]).default("dimension")}),tk=v.Ry({id:v.Z_(),alias:v.Z_().optional(),get children(){return v.IX(tk.or(tI)).optional()}}),tS=v.IX(tI),t_=v.IX(tk.or(tI)),tz=v.Ry({type:v.Km(["number","percent","permille","scientific"]).default("number").optional(),ratio:v.Rx().default(1).optional(),symbol:v.Z_().default("").optional(),thousandSeparator:v.O7().default(!1).optional(),prefix:v.Z_().default("").optional(),suffix:v.Z_().default("").optional(),fractionDigits:v.Rx().default(2).optional(),significantDigits:v.Rx().default(0).optional(),roundingPriority:v.Km(["morePrecision","lessPrecision"]).default("morePrecision").optional(),roundingMode:v.Km(["floor","ceil","halfEven","expand","trunc","halfFloor","halfCeil","halfExpand","halfTrunc"]).default("halfCeil").optional()}).optional(),tB=v.Ry({id:v.Z_(),alias:v.Z_().optional(),autoFormat:v.O7().default(!0),format:tz.default({})}),tM=v.Ry({id:v.Z_(),alias:v.Z_().optional(),get children(){return v.IX(tM.or(tB)).optional()}}),tF=v.IX(tB),tP=v.IX(tM.or(tB)),tL=v.Ry({id:v.Z_(),primaryMeasures:v.IX(tB).or(tB).optional(),secondaryMeasures:v.IX(tB).or(tB).optional()}),tT=v.IX(tL),tW=v.Ry({id:v.Z_(),xMeasures:v.IX(tB).or(tB).optional(),yMeasures:v.IX(tB).or(tB).optional()}),tX=v.IX(tW),tZ=v.Ry({foldMap:v.IM(v.Z_(),v.Z_().or(v.S1())),colorRange:v.IX(v.Rx()),measureRange:v.IX(v.Rx()),measureId:v.Z_(),measureName:v.Z_(),measureValue:v.Z_()}),tO=v.Ry({encodingX:v.Z_(),encodingY:v.Z_(),encodingColor:v.Z_(),encodingColorId:v.Z_(),encodingDetail:v.Z_(),encodingAngle:v.Z_(),colorItems:v.IX(v.Z_()),colorIdMap:v.IM(v.Z_(),v.Z_())}),tD=v.IX(v.Ry({id:v.Z_(),index:v.Rx(),foldInfo:tZ,foldInfoList:v.IX(tZ).nullish(),unfoldInfo:tO})),tw=v.Ry({x:v.IX(v.Z_()).nullish(),y:v.IX(v.Z_()).nullish(),angle:v.IX(v.Z_()).nullish(),radius:v.IX(v.Z_()).nullish(),detail:v.IX(v.Z_()).nullish(),color:v.IX(v.Z_()).nullish(),size:v.IX(v.Z_()).nullish(),tooltip:v.IX(v.Z_()).nullish(),label:v.IX(v.Z_()).nullish(),row:v.IX(v.Z_()).nullish(),column:v.IX(v.Z_()).nullish(),group:v.IX(v.Z_()).nullish().describe("已弃用, 请使用颜色替代")}),tE=v.IX(tw),tV=v.Ry({visible:v.O7().default(!0).nullish(),labelAutoHide:v.O7().default(!0).nullish(),labelAutoHideGap:v.Rx().default(0).nullish(),labelAutoRotate:v.O7().default(!0).nullish(),labelAutoRotateAngleRange:v.IX(v.Rx()).default([0,-45,-90]).nullish(),labelAutoLimit:v.O7().default(!0).nullish(),labelAutoLimitLength:v.Rx().default(100).nullish(),label:v.Ry({visible:v.O7().default(!0).nullish(),labelColor:v.Z_().default("#797B85").nullish(),labelFontSize:v.Rx().default(12).nullish(),labelFontWeight:v.Rx().default(400).nullish(),labelAngle:v.Rx().default(0).nullish()}).nullish(),line:v.Ry({visible:v.O7().default(!0).nullish(),lineColor:v.Z_().default("rgba(54, 65, 89, 0.30)").nullish(),lineWidth:v.Rx().default(1).nullish()}).nullish(),tick:v.Ry({visible:v.O7().default(!0).nullish(),tickInside:v.O7().default(!1).nullish(),tickColor:v.Z_().default("rgba(54, 65, 89, 0.30)").nullish(),tickSize:v.Rx().default(4).nullish()}).nullish(),title:v.Ry({visible:v.O7().default(!1).nullish(),titleText:v.Z_().default("").nullish(),titleColor:v.Z_().default("#646A73").nullish(),titleFontSize:v.Rx().default(12).nullish(),titleFontWeight:v.Rx().default(400).nullish()}).nullish(),grid:v.Ry({visible:v.O7().default(!1).nullish(),gridColor:v.Z_().default("rgba(54, 65, 89, 0.15)").nullish(),gridWidth:v.Rx().default(.5).nullish()}).nullish()}),tH=tV,tN=v.Ry({visible:v.O7().default(!0).nullish(),min:v.Rx().nullish(),max:v.Rx().nullish(),nice:v.O7().default(!0).nullish(),zero:v.O7().default(!0).nullish(),log:v.O7().default(!1).nullish(),logBase:v.Rx().default(10).nullish(),inverse:v.O7().default(!1).nullish(),label:v.Ry({visible:v.O7().default(!0).nullish(),labelColor:v.Z_().default("#797B85").nullish(),labelFontSize:v.Rx().default(12).nullish(),labelFontWeight:v.Rx().default(400).nullish(),labelAngle:v.Rx().default(0).nullish()}).nullish(),line:v.Ry({visible:v.O7().default(!0).nullish(),lineColor:v.Z_().default("rgba(54, 65, 89, 0.30)").nullish(),lineWidth:v.Rx().default(1).nullish()}).nullish(),tick:v.Ry({visible:v.O7().default(!0).nullish(),tickInside:v.O7().default(!1).nullish(),tickColor:v.Z_().default("rgba(54, 65, 89, 0.30)").nullish(),tickSize:v.Rx().default(4).nullish()}).nullish(),title:v.Ry({visible:v.O7().default(!1).nullish(),titleText:v.Z_().default("").nullish(),titleColor:v.Z_().default("#646A73").nullish(),titleFontSize:v.Rx().default(12).nullish(),titleFontWeight:v.Rx().default(400).nullish()}).nullish(),grid:v.Ry({visible:v.O7().default(!1).nullish(),gridColor:v.Z_().default("rgba(54, 65, 89, 0.15)").nullish(),gridWidth:v.Rx().default(.5).nullish()}).nullish()}),t$=tN,tG=v.Ry({visible:v.O7().nullish(),lineColor:v.Z_().nullish(),labelColor:v.Z_().nullish(),labelVisible:v.O7().nullish(),labelBackgroundColor:v.Z_().nullish()}),tK=v.Ry({visible:v.O7().nullish(),rectColor:v.Z_().nullish(),labelColor:v.Z_().nullish(),labelVisible:v.O7().nullish(),labelBackgroundColor:v.Z_().nullish()}),tY=v.Rx().or(v.IX(v.Rx())).default([3,3,0,0]),tj=v.Z_().default("transparent").nullish(),tU=v.Ry({colorScheme:v.IX(v.Z_()).nullish(),linearColorScheme:v.IX(v.Z_()).nullish(),colorMapping:v.IM(v.Z_(),v.Z_()).nullish()}),tq=v.Ry({linearColorScheme:v.IX(v.Z_()).nullish()}),tJ=v.Ry({enable:v.O7().default(!0).nullish()}),tQ=v.Ry({enable:v.O7().default(!0).nullish(),border:v.O7().default(!0).nullish(),maxSize:v.Rx().default(1).nullish(),shapeType:v.Km(["circle","cross","diamond","square","arrow","arrow2Left","arrow2Right","wedge","thinTriangle","triangle","triangleUp","triangleDown","triangleRight","triangleLeft","stroke","star","wye","rect","arrowLeft","arrowRight","rectRound","roundLine"]).default("rectRound").nullish(),position:v.Km(["left","leftTop","leftBottom","lt","lb","top","topLeft","topRight","tl","tr","right","rightTop","rightBottom","rt","rb","bottom","bottomLeft","bottomRight","bl","br"]).default("bottom").nullish(),labelFontSize:v.Rx().default(12).nullish(),labelFontColor:v.Z_().default("#fff").nullish(),labelFontWeight:v.Rx().or(v.Z_()).default(400).nullish()}),t0=v.Ry({position:v.Km(["left","leftTop","leftBottom","lt","lb","top","topLeft","topRight","tl","tr","right","rightTop","rightBottom","rt","rb","bottom","bottomLeft","bottomRight","bl","br"]).default("bottom").nullish(),enable:v.O7().default(!0).nullish()}),t1=v.Ry({enable:v.O7().default(!0).nullish()}),t2=v.Ry({backgroundColor:tj.nullish(),borderColor:v.Z_().nullish(),bodyFontSize:v.Rx().nullish(),bodyFontColor:v.Z_().nullish(),bodyBackgroundColor:v.Z_().nullish(),hoverBodyBackgroundColor:v.Z_().nullish(),hoverBodyInlineBackgroundColor:v.Z_().nullish(),headerFontSize:v.Rx().nullish(),headerFontColor:v.Z_().nullish(),headerBackgroundColor:v.Z_().nullish(),hoverHeaderBackgroundColor:v.Z_().nullish(),hoverHeaderInlineBackgroundColor:v.Z_().nullish(),selectedBorderColor:v.Z_().nullish(),selectedBackgroundColor:v.Z_().nullish()}),t4=t2,t3=v.Ry({backgroundColor:tj.nullish(),label:tJ.nullish(),color:tU.nullish(),tooltip:t1.nullish(),legend:tQ.nullish(),xAxis:tV.nullish(),yAxis:t$.nullish(),crosshairLine:tG.nullish()}),t5=v.Ry({backgroundColor:tj.nullish(),label:tJ.nullish(),color:tU.nullish(),tooltip:t1.nullish(),legend:tQ.nullish(),xAxis:tV.nullish(),yAxis:t$.nullish(),crosshairRect:tK.nullish(),stackCornerRadius:tY.nullish()}),t7=t5,t8=t5,t6=v.Ry({backgroundColor:tj.nullish(),label:tJ.nullish(),color:tU.nullish(),tooltip:t1.nullish(),legend:tQ.nullish(),xAxis:tN.nullish(),yAxis:tH.nullish(),crosshairRect:tK.nullish(),stackCornerRadius:tY.nullish()}),t9=t6,ne=t6,nl=v.Ry({backgroundColor:tj.nullish(),label:tJ.nullish(),color:tU.nullish(),tooltip:t1.nullish(),legend:tQ.nullish(),xAxis:tV.nullish(),yAxis:t$.nullish(),crosshairLine:tG.nullish()}),ni=nl,nt=v.Ry({backgroundColor:tj.nullish(),label:tJ.nullish(),color:tU.nullish(),tooltip:t1.nullish(),legend:tQ.nullish(),dualChartType:v.IX(tv).or(tv).nullish(),alignTicks:v.IX(v.O7()).or(v.O7()).nullish(),primaryYAxis:v.IX(t$).or(t$).nullish(),secondaryYAxis:v.IX(t$).or(t$).nullish(),xAxis:tV.nullish(),crosshairRect:tK.nullish()}),nn=v.Ry({backgroundColor:tj.nullish(),label:tJ.nullish(),color:tU.nullish(),tooltip:t1.nullish(),legend:tQ.nullish(),xAxis:tN.nullish(),yAxis:t$.nullish(),crosshairLine:tG.nullish()}),nr=v.Ry({backgroundColor:tj.nullish(),label:tJ.nullish(),color:tU.nullish(),tooltip:t1.nullish(),legend:tQ.nullish()}),no=nr,na=v.Ry({backgroundColor:tj.nullish(),label:tJ.nullish(),color:tU.nullish(),tooltip:t1.nullish(),legend:tQ.nullish()}),ns=na,nd=na,nu=na,nc=na,nh=v.Ry({table:t2.nullish(),pivotTable:t4.nullish(),line:t3.nullish(),column:t5.nullish(),columnParallel:t7.nullish(),columnPercent:t8.nullish(),bar:t6.nullish(),barParallel:t9.nullish(),barPercent:ne.nullish(),area:nl.nullish(),areaPercent:ni.nullish(),scatter:nn.nullish(),dualAxis:nt.nullish(),rose:nr.nullish(),roseParallel:no.nullish(),pie:na.nullish(),donut:ns.nullish(),radar:nd.nullish(),funnel:nu.nullish(),heatmap:nc.nullish()}),nf=v.Ry({visible:v.O7().default(!0).nullish(),min:v.Rx().nullish(),max:v.Rx().nullish(),nice:v.O7().default(!0).nullish(),zero:v.O7().default(!0).nullish(),inverse:v.O7().default(!1).nullish(),log:v.O7().default(!1).nullish(),logBase:v.Rx().default(10).nullish(),labelAutoHide:v.O7().default(!0).nullish(),labelAutoHideGap:v.Rx().default(4).nullish(),labelAutoRotate:v.O7().default(!0).nullish(),labelAutoRotateAngleRange:v.IX(v.Rx()).default([0,-45,-90]).nullish(),labelAutoLimit:v.O7().default(!0).nullish(),labelAutoLimitLength:v.Rx().default(100).nullish(),label:v.Ry({visible:v.O7().default(!0).nullish(),labelColor:v.Z_().default("#797B85").nullish(),labelFontSize:v.Rx().default(12).nullish(),labelFontWeight:v.Rx().default(400).nullish(),labelAngle:v.Rx().default(0).nullish()}).nullish(),line:v.Ry({visible:v.O7().default(!0).nullish(),lineColor:v.Z_().default("rgba(54, 65, 89, 0.30)").nullish(),lineWidth:v.Rx().default(1).nullish()}).nullish(),tick:v.Ry({visible:v.O7().default(!0).nullish(),tickInside:v.O7().default(!1).nullish(),tickColor:v.Z_().default("rgba(54, 65, 89, 0.30)").nullish(),tickSize:v.Rx().default(4).nullish()}).nullish(),title:v.Ry({visible:v.O7().default(!1).nullish(),titleText:v.Z_().default("").nullish(),titleColor:v.Z_().default("#646A73").nullish(),titleFontSize:v.Rx().default(12).nullish(),titleFontWeight:v.Rx().default(400).nullish()}).nullish(),grid:v.Ry({visible:v.O7().default(!1).nullish(),gridColor:v.Z_().default("rgba(54, 65, 89, 0.15)").nullish(),gridWidth:v.Rx().default(.5).nullish()}).nullish()}),np=v.Ry({config:nh.nullish()}),ng=v.IM(v.Z_(),np).nullish(),nm=v.Z_(),nb=v.G0([v.Z_(),v.Rx(),v.Ry({field:v.Z_(),operator:v.Km(["=","==","!=",">","<",">=","<=","between"]).nullish(),op:v.Km(["=","==","!=",">","<",">=","<=","between"]).nullish(),value:v.G0([v.Z_(),v.Rx(),v.IX(v.G0([v.Z_(),v.Rx()]))])}),v.Ry({field:v.Z_(),operator:v.Km(["in","not in"]).nullish(),op:v.Km(["in","not in"]).nullish(),value:v.G0([v.Z_(),v.Rx(),v.IX(v.G0([v.Z_(),v.Rx()]))])})]),ny=v.IX(nb),nx=v.Ry({selector:v.G0([nb,ny]).nullish(),barVisible:v.O7().nullish(),barColor:v.Z_().nullish(),barColorOpacity:v.Rx().nullish(),barBorderColor:v.Z_().nullish(),barBorderWidth:v.Rx().nullish(),barBorderStyle:v.G0([v.i0("solid"),v.i0("dashed"),v.i0("dotted")]).nullish(),barRadius:v.G0([v.Rx(),v.IX(v.Rx())]).nullish()}),nC=v.Ry({selector:v.G0([nb,ny]).nullish(),pointVisible:v.O7().nullish(),pointSize:v.Rx().nullish(),pointColor:v.Z_().nullish(),pointColorOpacity:v.Rx().nullish(),pointBorderColor:v.Z_().nullish(),pointBorderWidth:v.Rx().nullish(),pointBorderStyle:v.G0([v.Km(["solid","dashed","dotted"])]).nullish()}),nv=v.Ry({selector:v.G0([nb,ny]).nullish(),lineVisible:v.O7().nullish(),lineSmooth:v.O7().nullish(),lineColor:v.Z_().nullish(),lineColorOpacity:v.Rx().nullish(),lineWidth:v.Rx().nullish(),lineStyle:v.G0([v.Km(["solid","dashed","dotted"])]).nullish()}),nR=v.Ry({selector:v.G0([nb,ny]).nullish(),areaVisible:v.O7().nullish(),areaColor:v.Z_().nullish(),areaColorOpacity:v.Rx().nullish()}),nA=v.Ry({barStyle:nx.or(v.IX(nx)).nullish(),pointStyle:nC.or(v.IX(nC)).nullish(),lineStyle:nv.or(v.IX(nv)).nullish(),areaStyle:nR.or(v.IX(nR)).nullish()}),nI=v.Ry({selector:v.G0([nb,ny]),text:v.Z_().or(v.IX(v.Z_())).nullish(),textColor:v.Z_().default("#ffffff").nullish(),textFontSize:v.Rx().default(12).nullish(),textFontWeight:v.Rx().default(400).nullish(),textAlign:v.Km(["left","right","center"]).default("center").nullish(),textBaseline:v.Km(["top","middle","bottom"]).default("middle").nullish(),textBackgroundVisible:v.O7().default(!0).nullish(),textBackgroundColor:v.Z_().default("#212121").nullish(),textBackgroundBorderColor:v.Z_().nullish(),textBackgroundBorderWidth:v.Rx().default(1).nullish(),textBackgroundBorderRadius:v.Rx().default(4).nullish(),textBackgroundPadding:v.Rx().nullish(),offsetY:v.Rx().default(0).nullish(),offsetX:v.Rx().default(0).nullish()}),nk=v.Ry({selector:v.G0([nb,ny]).nullish(),xValue:v.G0([v.Rx(),v.Z_(),v.IX(v.G0([v.Rx(),v.Z_()]))]).nullish(),text:v.Z_().or(v.IX(v.Z_())).nullish(),textPosition:v.Km(["outsideStart","outsideEnd","outsideMiddle","insideStart","insideMiddle","insideEnd"]).default("insideEnd").nullish(),textColor:v.Z_().default("#ffffff").nullish(),textFontSize:v.Rx().default(12).nullish(),textFontWeight:v.Rx().default(400).nullish(),textAlign:v.Km(["left","right","center"]).default("right").nullish(),textBaseline:v.Km(["top","middle","bottom"]).default("top").nullish(),textBackgroundVisible:v.O7().default(!0).nullish(),textBackgroundColor:v.Z_().default("#212121").nullish(),textBackgroundBorderColor:v.Z_().default("#212121").nullish(),textBackgroundBorderRadius:v.Rx().default(4).nullish(),textBackgroundBorderWidth:v.Rx().default(1).nullish(),textBackgroundPadding:v.Rx().default(2).nullish(),lineVisible:v.O7().default(!0).nullish(),lineColor:v.Z_().default("#212121").nullish(),lineWidth:v.Rx().default(1).nullish(),lineStyle:v.G0([v.i0("solid"),v.i0("dashed"),v.i0("dotted")]).default("dashed").nullish()}),nS=v.Ry({selector:v.G0([nb,ny]).nullish(),yValue:v.G0([v.Rx(),v.Z_(),v.IX(v.G0([v.Rx(),v.Z_()]))]).nullish(),text:v.Z_().or(v.IX(v.Z_())).nullish(),textPosition:v.Km(["outsideStart","outsideEnd","outsideMiddle","insideStart","insideMiddle","insideEnd"]).default("insideEnd").nullish(),textColor:v.Z_().default("#ffffff").nullish(),textFontSize:v.Rx().default(12).nullish(),textFontWeight:v.Rx().default(400).nullish(),textAlign:v.Km(["left","right","center"]).default("right").nullish(),textBaseline:v.Km(["top","middle","bottom"]).default("top").nullish(),lineVisible:v.O7().default(!0).nullish(),lineColor:v.Z_().default("#212121").nullish(),lineWidth:v.Rx().default(1).nullish(),lineStyle:v.G0([v.i0("solid"),v.i0("dashed"),v.i0("dotted")]).default("dashed").nullish(),textBackgroundVisible:v.O7().default(!0).nullish(),textBackgroundColor:v.Z_().default("#212121").nullish(),textBackgroundBorderColor:v.Z_().default("#212121").nullish(),textBackgroundBorderRadius:v.Rx().default(4).nullish(),textBackgroundBorderWidth:v.Rx().default(1).nullish(),textBackgroundPadding:v.Rx().default(2).nullish()}),n_=v.Ry({selector:v.G0([nb,ny]),textPosition:v.Km(["top","topRight","topLeft","bottom","bottomLeft","bottomRight","left","right"]).default("top").nullish(),text:v.Z_().or(v.IX(v.Z_())).nullish(),textColor:v.Z_().default("#ffffff").nullish(),textFontSize:v.Rx().default(12).nullish(),textFontWeight:v.Rx().default(400).nullish(),textAlign:v.Km(["left","right","center"]).default("center").nullish(),textBaseline:v.Km(["top","middle","bottom"]).default("top").nullish(),textBackgroundVisible:v.O7().default(!0).nullish(),textBackgroundColor:v.Z_().default("#191d24").nullish(),textBackgroundBorderColor:v.Z_().default("#191d24").nullish(),textBackgroundBorderWidth:v.Rx().default(1).nullish(),textBackgroundBorderRadius:v.Rx().default(4).nullish(),textBackgroundPadding:v.Rx().default(4).nullish(),areaColor:v.Z_().default("#888888").nullish(),areaColorOpacity:v.Rx().default(.15).nullish(),areaBorderColor:v.Z_().default("#888888").nullish(),areaBorderWidth:v.Rx().default(1).nullish(),areaBorderRadius:v.Rx().default(4).nullish(),outerPadding:v.Rx().default(4).nullish()}),nz=v.Ry({annotationPoint:nI.or(v.IX(nI)).nullish(),annotationVerticalLine:nk.or(v.IX(nk)).nullish(),annotationHorizontalLine:nS.or(v.IX(nS)).nullish(),annotationArea:n_.or(v.IX(n_)).nullish()}),nB=v.Ry({order:v.Km(["asc","desc"]).default("asc"),orderBy:v.Z_().nullish(),customOrder:v.IX(v.Yj()).nullish()}),nM=v.Ry({order:v.Km(["asc","desc"]).default("asc"),orderBy:v.Z_().nullish(),customOrder:v.IX(v.Yj()).nullish()}),nF=v.Ry({orderMapping:v.IM(v.Z_(),v.IX(v.Z_())).nullish()}),nP=v.Km(["zh-CN","en-US"]).default("zh-CN"),nL=v.Ry({chartType:v.i0("table"),dataset:tA.nullish(),dimensions:tS.nullish(),measures:tP.nullish(),backgroundColor:tj.nullish(),borderColor:v.Z_().nullish(),bodyFontSize:v.Rx().nullish(),bodyFontColor:v.Z_().nullish(),bodyBackgroundColor:v.Z_().nullish(),hoverBodyBackgroundColor:v.Z_().nullish(),hoverBodyInlineBackgroundColor:v.Z_().nullish(),headerFontSize:v.Rx().nullish(),headerFontColor:v.Z_().nullish(),headerBackgroundColor:v.Z_().nullish(),hoverHeaderBackgroundColor:v.Z_().nullish(),hoverHeaderInlineBackgroundColor:v.Z_().nullish(),selectedBorderColor:v.Z_().nullish(),selectedBackgroundColor:v.Z_().nullish(),theme:nm.nullish(),locale:nP.nullish()}),nT=v.Ry({chartType:v.i0("pivotTable"),dataset:tA.nullish(),dimensions:tS.nullish(),measures:tF.nullish(),backgroundColor:tj.nullish(),borderColor:v.Z_().nullish(),bodyFontSize:v.Rx().nullish(),bodyFontColor:v.Z_().nullish(),bodyBackgroundColor:v.Z_().nullish(),hoverBodyBackgroundColor:v.Z_().nullish(),hoverBodyInlineBackgroundColor:v.Z_().nullish(),headerFontSize:v.Rx().nullish(),headerFontColor:v.Z_().nullish(),headerBackgroundColor:v.Z_().nullish(),hoverHeaderBackgroundColor:v.Z_().nullish(),hoverHeaderInlineBackgroundColor:v.Z_().nullish(),selectedBorderColor:v.Z_().nullish(),selectedBackgroundColor:v.Z_().nullish(),theme:nm.nullish(),locale:nP.nullish()}),nW=v.Ry({chartType:v.i0("line"),dataset:tA.nullish(),encoding:tw.nullish(),dimensions:tS.nullish(),measures:tP.nullish(),backgroundColor:tj.nullish(),color:tU.nullish(),label:tJ.nullish(),legend:tQ.nullish(),tooltip:t1.nullish(),xAxis:tV.nullish(),yAxis:t$.nullish(),crosshairLine:tG.nullish(),sort:nB.nullish(),sortLegend:nM.nullish(),theme:nm.nullish(),pointStyle:v.IX(nC).or(nC).nullish(),lineStyle:v.IX(nv).or(nv).nullish(),annotationPoint:v.IX(nI).or(nI).nullish(),annotationVerticalLine:v.IX(nk).or(nk).nullish(),annotationHorizontalLine:v.IX(nS).or(nS).nullish(),annotationArea:v.IX(n_).or(n_).nullish(),locale:nP.nullish()}),nX=v.Ry({chartType:v.i0("column"),dataset:tA.nullish(),encoding:tw.nullish(),dimensions:tS.nullish(),measures:tP.nullish(),backgroundColor:tj.nullish(),color:tU.nullish(),label:tJ.nullish(),legend:tQ.nullish(),tooltip:t1.nullish(),xAxis:tV.nullish(),yAxis:t$.nullish(),crosshairRect:tK.nullish(),stackCornerRadius:tY.nullish(),theme:nm.nullish(),barStyle:v.IX(nx).or(nx).nullish(),annotationPoint:v.IX(nI).or(nI).nullish(),annotationVerticalLine:v.IX(nk).or(nk).nullish(),annotationHorizontalLine:v.IX(nS).or(nS).nullish(),annotationArea:v.IX(n_).or(n_).nullish(),locale:nP.nullish()}),nZ=v.Ry({chartType:v.i0("columnParallel"),dataset:tA.nullish(),encoding:tw.nullish(),dimensions:tS.nullish(),measures:tP.nullish(),backgroundColor:tj.nullish(),color:tU.nullish(),label:tJ.nullish(),legend:tQ.nullish(),tooltip:t1.nullish(),xAxis:tV.nullish(),yAxis:t$.nullish(),crosshairRect:tK.nullish(),stackCornerRadius:tY.nullish(),theme:nm.nullish(),barStyle:v.IX(nx).or(nx).nullish(),annotationPoint:v.IX(nI).or(nI).nullish(),annotationVerticalLine:v.IX(nk).or(nk).nullish(),annotationHorizontalLine:v.IX(nS).or(nS).nullish(),annotationArea:v.IX(n_).or(n_).nullish(),locale:nP.nullish()}),nO=v.Ry({chartType:v.i0("columnPercent"),dataset:tA.nullish(),encoding:tw.nullish(),dimensions:tS.nullish(),measures:tP.nullish(),backgroundColor:tj.nullish(),color:tU.nullish(),label:tJ.nullish(),legend:tQ.nullish(),tooltip:t1.nullish(),xAxis:tV.nullish(),yAxis:t$.nullish(),crosshairRect:tK.nullish(),stackCornerRadius:tY.nullish(),theme:nm.nullish(),barStyle:v.IX(nx).or(nx).nullish(),annotationPoint:v.IX(nI).or(nI).nullish(),annotationVerticalLine:v.IX(nk).or(nk).nullish(),annotationHorizontalLine:v.IX(nS).or(nS).nullish(),annotationArea:v.IX(n_).or(n_).nullish(),locale:nP.nullish()}),nD=v.Ry({chartType:v.i0("bar"),dataset:tA.nullish(),encoding:tw.nullish(),dimensions:tS.nullish(),measures:tP.nullish(),backgroundColor:tj.nullish(),color:tU.nullish(),label:tJ.nullish(),legend:tQ.nullish(),tooltip:t1.nullish(),xAxis:tN.nullish(),yAxis:tH.nullish(),crosshairRect:tK.nullish(),stackCornerRadius:tY.nullish(),theme:nm.nullish(),barStyle:v.IX(nx).or(nx).nullish(),annotationPoint:v.IX(nI).or(nI).nullish(),annotationVerticalLine:v.IX(nk).or(nk).nullish(),annotationHorizontalLine:v.IX(nS).or(nS).nullish(),annotationArea:v.IX(n_).or(n_).nullish(),locale:nP.nullish()}),nw=v.Ry({chartType:v.i0("barParallel"),dataset:tA.nullish(),encoding:tw.nullish(),dimensions:tS.nullish(),measures:tP.nullish(),backgroundColor:tj.nullish(),color:tU.nullish(),label:tJ.nullish(),legend:tQ.nullish(),tooltip:t1.nullish(),xAxis:tN.nullish(),yAxis:tH.nullish(),crosshairRect:tK.nullish(),stackCornerRadius:tY.nullish(),theme:nm.nullish(),barStyle:v.IX(nx).or(nx).nullish(),annotationPoint:v.IX(nI).or(nI).nullish(),annotationVerticalLine:v.IX(nk).or(nk).nullish(),annotationHorizontalLine:v.IX(nS).or(nS).nullish(),annotationArea:v.IX(n_).or(n_).nullish(),locale:nP.nullish()}),nE=v.Ry({chartType:v.i0("barPercent"),dataset:tA.nullish(),encoding:tw.nullish(),dimensions:tS.nullish(),measures:tP.nullish(),backgroundColor:tj.nullish(),color:tU.nullish(),label:tJ.nullish(),legend:tQ.nullish(),tooltip:t1.nullish(),xAxis:tN.nullish(),yAxis:tH.nullish(),crosshairRect:tK.nullish(),stackCornerRadius:tY.nullish(),theme:nm.nullish(),barStyle:v.IX(nx).or(nx).nullish(),annotationPoint:v.IX(nI).or(nI).nullish(),annotationVerticalLine:v.IX(nk).or(nk).nullish(),annotationHorizontalLine:v.IX(nS).or(nS).nullish(),annotationArea:v.IX(n_).or(n_).nullish(),locale:nP.nullish()}),nV=v.Ry({chartType:v.i0("area"),dataset:tA.nullish(),encoding:tw.nullish(),dimensions:tS.nullish(),measures:tP.nullish(),backgroundColor:tj.nullish(),color:tU.nullish(),label:tJ.nullish(),legend:tQ.nullish(),tooltip:t1.nullish(),xAxis:tV.nullish(),yAxis:t$.nullish(),crosshairLine:tG.nullish(),theme:nm.nullish(),pointStyle:v.IX(nC).or(nC).nullish(),lineStyle:v.IX(nv).or(nv).nullish(),areaStyle:v.IX(nR).or(nR).nullish(),annotationPoint:v.IX(nI).or(nI).nullish(),annotationVerticalLine:v.IX(nk).or(nk).nullish(),annotationHorizontalLine:v.IX(nS).or(nS).nullish(),annotationArea:v.IX(n_).or(n_).nullish(),locale:nP.nullish()}),nH=v.Ry({chartType:v.i0("areaPercent"),dataset:tA.nullish(),encoding:tw.nullish(),dimensions:tS.nullish(),measures:tP.nullish(),backgroundColor:tj.nullish(),color:tU.nullish(),label:tJ.nullish(),legend:tQ.nullish(),tooltip:t1.nullish(),xAxis:tV.nullish(),yAxis:t$.nullish(),crosshairLine:tG.nullish(),theme:nm.nullish(),pointStyle:v.IX(nC).or(nC).nullish(),lineStyle:v.IX(nv).or(nv).nullish(),areaStyle:v.IX(nR).or(nR).nullish(),annotationPoint:v.IX(nI).or(nI).nullish(),annotationVerticalLine:v.IX(nk).or(nk).nullish(),annotationHorizontalLine:v.IX(nS).or(nS).nullish(),annotationArea:v.IX(n_).or(n_).nullish(),locale:nP.nullish()}),nN=v.Ry({chartType:v.i0("scatter"),dataset:tA.nullish(),encoding:tw.nullish(),dimensions:tS.nullish(),measures:tP.nullish(),scatterMeasures:tX.nullish(),backgroundColor:tj.nullish(),color:tU.nullish(),label:tJ.nullish(),legend:tQ.nullish(),tooltip:t1.nullish(),xAxis:tN.nullish(),yAxis:t$.nullish(),crosshairLine:tG.nullish(),theme:nm.nullish(),pointStyle:v.IX(nC).or(nC).nullish(),annotationPoint:v.IX(nI).or(nI).nullish(),annotationVerticalLine:v.IX(nk).or(nk).nullish(),annotationHorizontalLine:v.IX(nS).or(nS).nullish(),annotationArea:v.IX(n_).or(n_).nullish(),locale:nP.nullish()}),n$=v.Ry({chartType:v.i0("dualAxis"),dataset:tA.nullish(),dimensions:tS.nullish(),measures:tP.nullish(),dualMeasures:tT.nullish(),dualChartType:v.IX(tv).or(tv).nullish(),alignTicks:v.IX(v.O7()).or(v.O7()).nullish(),primaryYAxis:v.IX(t$).or(t$).nullish(),secondaryYAxis:v.IX(t$).or(t$).nullish(),xAxis:tV.nullish(),backgroundColor:tj.nullish(),color:tU.nullish(),label:tJ.nullish(),legend:tQ.nullish(),tooltip:t1.nullish(),crosshairRect:tK.nullish(),sort:nB.nullish(),sortLegend:nM.nullish(),theme:nm.nullish(),barStyle:v.IX(nx).or(nx).nullish(),pointStyle:v.IX(nC).or(nC).nullish(),lineStyle:v.IX(nv).or(nv).nullish(),areaStyle:v.IX(nR).or(nR).nullish(),annotationPoint:v.IX(nI).or(nI).nullish(),annotationVerticalLine:v.IX(nk).or(nk).nullish(),annotationHorizontalLine:v.IX(nS).or(nS).nullish(),annotationArea:v.IX(n_).or(n_).nullish(),locale:nP.nullish()}),nG=v.Ry({chartType:v.i0("rose"),dataset:tA.nullish(),encoding:tw.nullish(),dimensions:tS.nullish(),measures:tP.nullish(),backgroundColor:tj.nullish(),color:tU.nullish(),label:tJ.nullish(),legend:tQ.nullish(),tooltip:t1.nullish(),theme:nm.nullish(),locale:nP.nullish()}),nK=v.Ry({chartType:v.i0("roseParallel"),dataset:tA.nullish(),encoding:tw.nullish(),dimensions:tS.nullish(),measures:tP.nullish(),backgroundColor:tj.nullish(),color:tU.nullish(),label:tJ.nullish(),legend:tQ.nullish(),tooltip:t1.nullish(),theme:nm.nullish(),locale:nP.nullish()}),nY=v.Ry({chartType:v.i0("pie"),dataset:tA.nullish(),encoding:tw.nullish(),dimensions:tS.nullish(),measures:tP.nullish(),backgroundColor:tj.nullish(),color:tU.nullish(),label:tJ.nullish(),legend:tQ.nullish(),tooltip:t1.nullish(),theme:nm.nullish(),locale:nP.nullish()}),nj=v.Ry({chartType:v.i0("donut"),dataset:tA.nullish(),encoding:tw.nullish(),dimensions:tS.nullish(),measures:tP.nullish(),backgroundColor:tj.nullish(),color:tU.nullish(),label:tJ.nullish(),legend:tQ.nullish(),tooltip:t1.nullish(),theme:nm.nullish(),locale:nP.nullish()}),nU=v.Ry({chartType:v.i0("radar"),dataset:tA.nullish(),encoding:tw.nullish(),dimensions:tS.nullish(),measures:tP.nullish(),backgroundColor:tj.nullish(),color:tU.nullish(),label:tJ.nullish(),legend:tQ.nullish(),tooltip:t1.nullish(),theme:nm.nullish(),locale:nP.nullish()}),nq=v.Ry({chartType:v.i0("funnel"),dataset:tA.nullish(),encoding:tw.nullish(),dimensions:tS.nullish(),measures:tP.nullish(),backgroundColor:tj.nullish(),color:tU.nullish(),label:tJ.nullish(),legend:t0.nullish(),tooltip:t1.nullish(),theme:nm.nullish(),locale:nP.nullish()}),nJ=v.Ry({chartType:v.i0("heatmap"),dataset:tA.nullish(),dimensions:tS.nullish(),measures:tP.nullish(),backgroundColor:tj.nullish(),color:tU.nullish(),label:tJ.nullish(),legend:t0.nullish(),tooltip:t1.nullish(),theme:nm.nullish(),locale:nP.nullish()}),nQ=v.VK("chartType",[nL,nT,nW,nX,nZ,nO,nD,nw,nE,nV,nH,nN,n$,nY,nj,nG,nK,nU,nq,nJ]),n0=v.Ry({chartType:tC,dataset:tA,datasetReshapeInfo:tD,dimensions:t_,measures:tP,encoding:tw,encodings:tE,config:nh,analysis:nF,theme:nm,markStyle:nA,customTheme:np,annotation:nz,locale:nP})}}]);
//# sourceMappingURL=35199.41c0e4e0.js.map