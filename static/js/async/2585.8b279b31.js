"use strict";(self.webpackChunkwebsite=self.webpackChunkwebsite||[]).push([["2585"],{36254:function(e,n,r){r.r(n),r.d(n,{default:()=>l});var s=r(31549),t=r(6603),i=r(91867);function a(e){let n=Object.assign({h1:"h1",a:"a",pre:"pre",code:"code",h2:"h2",h3:"h3",p:"p",ul:"ul",li:"li",div:"div"},(0,t.ah)(),e.components);return(0,s.jsxs)(s.Fragment,{children:[(0,s.jsxs)(n.h1,{id:"快速开始",children:[(0,s.jsx)(n.a,{className:"header-anchor","aria-hidden":"true",href:"#快速开始",children:"#"}),"快速开始"]}),"\n",(0,s.jsx)(n.pre,{children:(0,s.jsx)(n.code,{className:"language-bash",meta:"title=install",children:"npm install @visactor/vseed\n\n# optional\nnpm install @visactor/vchart\n\n# optional\nnpm install @visactor/vtable\n"})}),"\n",(0,s.jsxs)(n.h2,{id:"快速理解",children:[(0,s.jsx)(n.a,{className:"header-anchor","aria-hidden":"true",href:"#快速理解",children:"#"}),"快速理解"]}),"\n",(0,s.jsxs)(n.h3,{id:"vseed-dsl",children:[(0,s.jsx)(n.a,{className:"header-anchor","aria-hidden":"true",href:"#vseed-dsl",children:"#"}),"vseed DSL"]}),"\n",(0,s.jsx)(n.p,{children:"vseed 是一个面向分析领域的DSL, 封装了该领域常用的图表能力, 极大地提升分析式报表平台的搭建效率."}),"\n",(0,s.jsx)(n.p,{children:"一般情况下, 给定数据集和图表类型, 即可直接出图. 每类图表类型存在大量的默认约定逻辑."}),"\n",(0,s.jsx)(n.pre,{children:(0,s.jsx)(n.code,{className:"language-tsx",meta:"pure {5-12}",children:"import { VSeed } from '@visactor/vseed'\nregisterAll()\n\nconst vseed: VSeed = {\n  chartType: 'line',\n  dataset: [\n    { date: '2019', profit: 10, sales: 100 },\n    { date: '2020', profit: 30, sales: 200 },\n    { date: '2021', profit: 30, sales: 300 },\n    { date: '2022', profit: 50, sales: 400 },\n    { date: '2023', profit: 40, sales: 500 },\n  ],\n}\n"})}),"\n",(0,s.jsxs)(n.h3,{id:"builder",children:[(0,s.jsx)(n.a,{className:"header-anchor","aria-hidden":"true",href:"#builder",children:"#"}),"builder"]}),"\n",(0,s.jsx)(n.p,{children:"一个spec builder, 接收一个vseed, 输出一个vtable或vchart的spec, 可以基于builder的构建结果, 二次修改spec."}),"\n",(0,s.jsx)(n.p,{children:"极大地降低vtable、vchart的图表的配置复杂度, 并给予开发者极高的灵活度."}),"\n",(0,s.jsx)(n.pre,{children:(0,s.jsx)(n.code,{className:"language-tsx",meta:"pure {15,17}",children:"import { registerAll, VSeed, Builder } from '@visactor/vseed'\nregisterAll()\n\nconst vseed: VSeed = {\n  chartType: 'line',\n  dataset: [\n    { date: '2019', profit: 10, sales: 100 },\n    { date: '2020', profit: 30, sales: 200 },\n    { date: '2021', profit: 30, sales: 300 },\n    { date: '2022', profit: 50, sales: 400 },\n    { date: '2023', profit: 40, sales: 500 },\n  ],\n}\n\nconst builder = Builder.from(vseed)\n\nconst spec = builder.build()\n"})}),"\n",(0,s.jsxs)(n.h3,{id:"register",children:[(0,s.jsx)(n.a,{className:"header-anchor","aria-hidden":"true",href:"#register",children:"#"}),"register"]}),"\n",(0,s.jsx)(n.p,{children:"可以使用register注册特定图表类型"}),"\n",(0,s.jsxs)(n.ul,{children:["\n",(0,s.jsx)(n.li,{children:"registerAll 注册所有图表类型和深浅色主题"}),"\n",(0,s.jsx)(n.li,{children:"registerCustomTheme用于自定义主题."}),"\n"]}),"\n",(0,s.jsx)(n.pre,{children:(0,s.jsx)(n.code,{className:"language-tsx",meta:"pure {14}",children:"import { registerAll } from '@visactor/vseed'\nregisterAll()\n"})}),"\n",(0,s.jsxs)(n.h2,{id:"vchart-渲染",children:[(0,s.jsx)(n.a,{className:"header-anchor","aria-hidden":"true",href:"#vchart-渲染",children:"#"}),"VChart 渲染"]}),"\n",(0,s.jsxs)(n.div,{className:"rspress-directive tip",children:[(0,s.jsx)(n.div,{className:"rspress-directive-title",children:"TIP"}),(0,s.jsx)(n.div,{className:"rspress-directive-content",children:(0,s.jsx)(n.p,{children:"\n只需传入图表类型与数据, 即可直接出图"})})]}),"\n",(0,s.jsx)(i.Z,{code:"import { useRef, useEffect } from 'react'\nimport VChart from '@visactor/vchart'\nimport { registerAll, VSeed, Builder } from '@visactor/vseed'\nregisterAll()\n\nconst Demo = () => {\n  const ref = useRef<HTMLDivElement>(null)\n\n  useEffect(() => {\n    if (!ref.current) {\n      return\n    }\n\n    const vseed: VSeed = {\n      chartType: 'line',\n      dataset: [\n        { date: '2019', profit: 10, sales: 100 },\n        { date: '2020', profit: 30, sales: 200 },\n        { date: '2021', profit: 30, sales: 300 },\n        { date: '2022', profit: 50, sales: 400 },\n        { date: '2023', profit: 40, sales: 500 },\n      ],\n    }\n\n    const spec = Builder.from(vseed).build()\n\n    const vchart = new VChart(spec, { dom: ref.current })\n\n    vchart.renderSync()\n\n    return () => vchart.release()\n  })\n\n  return <div ref={ref} style={{ height: 260, width: '100%' }}></div>\n}\n\nexport default Demo",language:"tsx",direction:"vertical",editorPosition:"left"}),"\n",(0,s.jsxs)(n.h2,{id:"pivotchart-渲染",children:[(0,s.jsx)(n.a,{className:"header-anchor","aria-hidden":"true",href:"#pivotchart-渲染",children:"#"}),"PivotChart 渲染"]}),"\n",(0,s.jsxs)(n.div,{className:"rspress-directive tip",children:[(0,s.jsx)(n.div,{className:"rspress-directive-title",children:"TIP"}),(0,s.jsx)(n.div,{className:"rspress-directive-content",children:(0,s.jsx)(n.p,{children:"\n配置measures分组, 或维度透视, 即可渲染出透视图表"})})]}),"\n",(0,s.jsx)(i.Z,{code:"import { useRef, useEffect, memo } from 'react'\nimport VChart from '@visactor/vchart'\nimport { register, PivotChart, PivotChartConstructorOptions } from '@visactor/vtable'\nimport { registerAll, VSeed, Builder, UnfoldDimensionGroupId } from '@visactor/vseed'\n\nregister.chartModule('vchart', VChart)\nregisterAll()\n\nconst Demo = () => {\n  const ref = useRef<HTMLDivElement>(null)\n\n  useEffect(() => {\n    if (!ref.current) {\n      return\n    }\n\n    const vseed: VSeed = {\n      chartType: 'line',\n      dataset: [\n        { date: '2019', profit: 10, sales: 100 },\n        { date: '2020', profit: 30, sales: 200 },\n        { date: '2021', profit: 30, sales: 300 },\n        { date: '2022', profit: 50, sales: 400 },\n        { date: '2023', profit: 40, sales: 500 },\n      ],\n      dimensions: [{ id: 'date', alias: '日期' }],\n      measures: [\n        {\n          id: 'profit-group',\n          children: [{ id: 'profit', alias: '利润' }],\n        },\n        {\n          id: 'sales-group',\n          children: [{ id: 'sales', alias: '销售额' }],\n        },\n      ],\n    }\n\n    const spec = Builder.from(vseed).build()\n\n    const tableInstance = new PivotChart(ref.current, spec)\n\n    tableInstance.on('legend_item_click', (args) => {\n      console.log('LEGEND_ITEM_CLICK', args)\n      tableInstance.updateFilterRules([\n        {\n          filterKey: UnfoldDimensionGroupId,\n          filteredValues: args.value,\n        },\n      ])\n    })\n\n    return () => tableInstance.release()\n  })\n\n  return <div ref={ref} style={{ height: 260, width: '100%' }}></div>\n}\n\nexport default Demo",language:"tsx",direction:"vertical",editorPosition:"left"})]})}function d(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},{wrapper:n}=Object.assign({},(0,t.ah)(),e.components);return n?(0,s.jsx)(n,Object.assign({},e,{children:(0,s.jsx)(a,e)})):a(e)}let l=d;d.__RSPRESS_PAGE_META={},d.__RSPRESS_PAGE_META["zh-CN%2Fguide%2FquickStart.mdx"]={toc:[{id:"快速理解",text:"快速理解",depth:2},{id:"vseed-dsl",text:"vseed DSL",depth:3},{id:"builder",text:"builder",depth:3},{id:"register",text:"register",depth:3},{id:"vchart-渲染",text:"VChart 渲染",depth:2},{id:"pivotchart-渲染",text:"PivotChart 渲染",depth:2}],title:"快速开始",headingTitle:"快速开始",frontmatter:{pageType:"doc"}}}}]);
//# sourceMappingURL=2585.8b279b31.js.map