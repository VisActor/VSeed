"use strict";(self.webpackChunkwebsite=self.webpackChunkwebsite||[]).push([["3590"],{86460:function(e,s,d){d.r(s),d.d(s,{default:()=>a});var r=d(31549),n=d(6603);function i(e){let s=Object.assign({h1:"h1",a:"a",p:"p",code:"code",pre:"pre",h2:"h2",h3:"h3"},(0,n.ah)(),e.components);return(0,r.jsxs)(r.Fragment,{children:[(0,r.jsxs)(s.h1,{id:"脚本",children:[(0,r.jsx)(s.a,{className:"header-anchor","aria-hidden":"true",href:"#脚本",children:"#"}),"脚本"]}),"\n",(0,r.jsxs)(s.p,{children:["根目录的 ",(0,r.jsx)(s.code,{children:"package.json"})," 中定义的脚本如下:"]}),"\n",(0,r.jsx)(s.pre,{children:(0,r.jsx)(s.code,{className:"language-json",meta:'title="package.json"',children:'{\n  "scripts": {\n    "dev": "pnpm -r --color --parallel dev",\n    "dev:rsdoctor": "pnpm --filter=@visactor/vseed run dev:rsdoctor",\n    "build": "pnpm -r build",\n    "build:vseed": "pnpm --filter=@visactor/vseed run build",\n    "build:rsdoctor": "pnpm --filter=@visactor/vseed run build:rsdoctor",\n    "build:docs": "node ./scripts/build-docs.js",\n    "build:test": "node ./scripts/build-tests.mjs",\n    "build:canvasTest": "node ./scripts/build-tests-with-canvas.mjs",\n    "test": "pnpm --filter=@visactor/vseed test",\n    "rstest": "pnpm --filter=@visactor/vseed rstest",\n    "test:coverage": "pnpm --filter=@visactor/vseed test:coverage && node scripts/build-coverage-badge.mjs",\n    "publish:vseed": "pnpm run build:vseed && pnpm publish --filter=@visactor/vseed --access=public"\n  },\n}\n'})}),"\n",(0,r.jsxs)(s.h2,{id:"本地开发",children:[(0,r.jsx)(s.a,{className:"header-anchor","aria-hidden":"true",href:"#本地开发",children:"#"}),"本地开发"]}),"\n",(0,r.jsxs)(s.h3,{id:"dev",children:[(0,r.jsx)(s.a,{className:"header-anchor","aria-hidden":"true",href:"#dev",children:"#"}),"dev"]}),"\n",(0,r.jsx)(s.p,{children:"用于本地开发与调试"}),"\n",(0,r.jsxs)(s.p,{children:["同时启动 ",(0,r.jsx)(s.code,{children:"@visactor/vseed"})," 项目和 ",(0,r.jsx)(s.code,{children:"apps/website"})," 项目, 并监听文件变化,"]}),"\n",(0,r.jsx)(s.pre,{children:(0,r.jsx)(s.code,{className:"language-bash",children:"pnpm dev\n"})}),"\n",(0,r.jsxs)(s.h3,{id:"test",children:[(0,r.jsx)(s.a,{className:"header-anchor","aria-hidden":"true",href:"#test",children:"#"}),"test"]}),"\n",(0,r.jsx)(s.p,{children:"执行单元测试"}),"\n",(0,r.jsx)(s.pre,{children:(0,r.jsx)(s.code,{className:"language-bash",children:"pnpm test\n"})}),"\n",(0,r.jsxs)(s.h3,{id:"testcoverage",children:[(0,r.jsx)(s.a,{className:"header-anchor","aria-hidden":"true",href:"#testcoverage",children:"#"}),"test:coverage"]}),"\n",(0,r.jsx)(s.p,{children:"执行单元测试并生成覆盖率报告"}),"\n",(0,r.jsx)(s.pre,{children:(0,r.jsx)(s.code,{className:"language-bash",children:"pnpm test:coverage\n"})}),"\n",(0,r.jsxs)(s.h2,{id:"构建",children:[(0,r.jsx)(s.a,{className:"header-anchor","aria-hidden":"true",href:"#构建",children:"#"}),"构建"]}),"\n",(0,r.jsxs)(s.h3,{id:"build",children:[(0,r.jsx)(s.a,{className:"header-anchor","aria-hidden":"true",href:"#build",children:"#"}),"build"]}),"\n",(0,r.jsxs)(s.p,{children:["逐个构建 ",(0,r.jsx)(s.code,{children:"@visactor/vseed"})," 项目和 ",(0,r.jsx)(s.code,{children:"apps/website"})," 项目"]}),"\n",(0,r.jsx)(s.pre,{children:(0,r.jsx)(s.code,{className:"language-bash",children:"pnpm build\n"})}),"\n",(0,r.jsxs)(s.h3,{id:"buildvseed",children:[(0,r.jsx)(s.a,{className:"header-anchor","aria-hidden":"true",href:"#buildvseed",children:"#"}),"build:vseed"]}),"\n",(0,r.jsxs)(s.p,{children:["构建 ",(0,r.jsx)(s.code,{children:"@visactor/vseed"})," 项目"]}),"\n",(0,r.jsx)(s.pre,{children:(0,r.jsx)(s.code,{className:"language-bash",children:"pnpm build:vseed\n"})}),"\n",(0,r.jsxs)(s.h3,{id:"builddocs",children:[(0,r.jsx)(s.a,{className:"header-anchor","aria-hidden":"true",href:"#builddocs",children:"#"}),"build:docs"]}),"\n",(0,r.jsxs)(s.p,{children:["根据",(0,r.jsx)(s.code,{children:"vseed"}),"类型自动构建",(0,r.jsx)(s.code,{children:"配置项"}),"文档, 文档会自动生成到 ",(0,r.jsx)(s.code,{children:"apps/website/docs/[locale]/option"})," 目录下"]}),"\n",(0,r.jsx)(s.pre,{children:(0,r.jsx)(s.code,{className:"language-bash",children:"pnpm build:docs\n"})}),"\n",(0,r.jsxs)(s.h3,{id:"buildtest",children:[(0,r.jsx)(s.a,{className:"header-anchor","aria-hidden":"true",href:"#buildtest",children:"#"}),"build:test"]}),"\n",(0,r.jsxs)(s.p,{children:["构建 ",(0,r.jsx)(s.code,{children:"@visactor/vseed"})," 项目的测试代码, 测试代码会自动生成到 ",(0,r.jsx)(s.code,{children:"packages/vseed/test"})," 目录下, 每个用例包含",(0,r.jsx)(s.code,{children:"spec"})," 和 ",(0,r.jsx)(s.code,{children:"advancedVseed"})," 的快照"]}),"\n",(0,r.jsx)(s.pre,{children:(0,r.jsx)(s.code,{className:"language-bash",children:"pnpm build:test\n"})}),"\n",(0,r.jsxs)(s.h3,{id:"buildcanvastest",children:[(0,r.jsx)(s.a,{className:"header-anchor","aria-hidden":"true",href:"#buildcanvastest",children:"#"}),"build:canvasTest"]}),"\n",(0,r.jsxs)(s.p,{children:[(0,r.jsx)(s.code,{children:"build:test"}),"的基础上, 每个用例会创建图表实例, 因此可以获得更高的测试覆盖率."]}),"\n",(0,r.jsx)(s.pre,{children:(0,r.jsx)(s.code,{className:"language-bash",children:"pnpm build:canvasTest\n"})}),"\n",(0,r.jsxs)(s.h2,{id:"构建分析",children:[(0,r.jsx)(s.a,{className:"header-anchor","aria-hidden":"true",href:"#构建分析",children:"#"}),"构建分析"]}),"\n",(0,r.jsxs)(s.p,{children:["主要用于分析 ",(0,r.jsx)(s.code,{children:"@visactor/vseed"})," 项目的构建过程"]}),"\n",(0,r.jsxs)(s.h3,{id:"devrsdoctor",children:[(0,r.jsx)(s.a,{className:"header-anchor","aria-hidden":"true",href:"#devrsdoctor",children:"#"}),"dev:rsdoctor"]}),"\n",(0,r.jsxs)(s.p,{children:["调试时用于诊断和分析 ",(0,r.jsx)(s.code,{children:"@visactor/vseed"})," 项目的构建过程, 了解包体积、依赖关系等"]}),"\n",(0,r.jsx)(s.pre,{children:(0,r.jsx)(s.code,{className:"language-bash",children:"pnpm dev:rsdoctor\n"})}),"\n",(0,r.jsxs)(s.h3,{id:"buildrsdoctor",children:[(0,r.jsx)(s.a,{className:"header-anchor","aria-hidden":"true",href:"#buildrsdoctor",children:"#"}),"build:rsdoctor"]}),"\n",(0,r.jsxs)(s.p,{children:["构建时用于诊断和分析 ",(0,r.jsx)(s.code,{children:"@visactor/vseed"})," 项目的构建过程, 了解包体积、依赖关系等, 会自动打开esm,cjs,umd三种产物的分析页面"]}),"\n",(0,r.jsx)(s.pre,{children:(0,r.jsx)(s.code,{className:"language-bash",children:"pnpm build:rsdoctor\n"})}),"\n",(0,r.jsxs)(s.h2,{id:"发布",children:[(0,r.jsx)(s.a,{className:"header-anchor","aria-hidden":"true",href:"#发布",children:"#"}),"发布"]}),"\n",(0,r.jsxs)(s.h3,{id:"publishvseed",children:[(0,r.jsx)(s.a,{className:"header-anchor","aria-hidden":"true",href:"#publishvseed",children:"#"}),"publish:vseed"]}),"\n",(0,r.jsxs)(s.p,{children:["发布 ",(0,r.jsx)(s.code,{children:"@visactor/vseed"})," 项目到 npm  registry, 发布前会先构建项目"]}),"\n",(0,r.jsx)(s.pre,{children:(0,r.jsx)(s.code,{className:"language-bash",children:"pnpm publish:vseed\n"})})]})}function c(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},{wrapper:s}=Object.assign({},(0,n.ah)(),e.components);return s?(0,r.jsx)(s,Object.assign({},e,{children:(0,r.jsx)(i,e)})):i(e)}let a=c;c.__RSPRESS_PAGE_META={},c.__RSPRESS_PAGE_META["zh-CN%2Fdevelopment%2Fscripts.md"]={toc:[{id:"本地开发",text:"本地开发",depth:2},{id:"dev",text:"dev",depth:3},{id:"test",text:"test",depth:3},{id:"testcoverage",text:"test:coverage",depth:3},{id:"构建",text:"构建",depth:2},{id:"build",text:"build",depth:3},{id:"buildvseed",text:"build:vseed",depth:3},{id:"builddocs",text:"build:docs",depth:3},{id:"buildtest",text:"build:test",depth:3},{id:"buildcanvastest",text:"build:canvasTest",depth:3},{id:"构建分析",text:"构建分析",depth:2},{id:"devrsdoctor",text:"dev:rsdoctor",depth:3},{id:"buildrsdoctor",text:"build:rsdoctor",depth:3},{id:"发布",text:"发布",depth:2},{id:"publishvseed",text:"publish:vseed",depth:3}],title:"脚本",headingTitle:"脚本",frontmatter:{}}}}]);
//# sourceMappingURL=3590.0d82d5a1.js.map