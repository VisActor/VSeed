"use strict";(self.webpackChunkwebsite=self.webpackChunkwebsite||[]).push([["8327"],{24754:function(e,n,t){t.r(n),t.d(n,{default:()=>o});var r=t(31549),s=t(6603),a=t(89956);function i(e){let n=Object.assign({h1:"h1",a:"a",h2:"h2"},(0,s.ah)(),e.components);return(0,r.jsxs)(r.Fragment,{children:[(0,r.jsxs)(n.h1,{id:"分析功能",children:[(0,r.jsx)(n.a,{className:"header-anchor","aria-hidden":"true",href:"#分析功能",children:"#"}),"分析功能"]}),"\n",(0,r.jsxs)(n.h2,{id:"轴排序-与-图例排序",children:[(0,r.jsx)(n.a,{className:"header-anchor","aria-hidden":"true",href:"#轴排序-与-图例排序",children:"#"}),"轴排序 与 图例排序"]}),"\n",(0,r.jsx)(a.Z,{code:"import { useRef, useEffect, useState } from 'react'\nimport VChart from '@visactor/vchart'\nimport { ListTable, PivotTable } from '@visactor/vtable'\nimport { registerAll, VSeed, Builder, isTable, isPivotTable } from '@visactor/vseed'\nregisterAll()\n\nconst Demo = () => {\n  const ref = useRef<HTMLDivElement>(null)\n  const [order, setOrder] = useState('asc')\n  const [orderBy, setOrderBy] = useState('date')\n  const orderList = ['desc', 'asc']\n  const orderByList = ['date', 'profit', 'sales']\n\n  useEffect(() => {\n    if (!ref.current) {\n      return\n    }\n\n    const vseed: VSeed = {\n      chartType: 'barParallel',\n      dataset: [\n        { date: '2019', profit: 10, sales: 100 },\n        { date: '2020', profit: 30, sales: 200 },\n        { date: '2021', profit: 30, sales: 300 },\n        { date: '2022', profit: 50, sales: 400 },\n        { date: '2023', profit: 40, sales: 500 },\n      ],\n      sort: {\n        order,\n        orderBy,\n      },\n      sortLegend: {\n        order,\n      },\n    }\n    const builder = Builder.from(vseed)\n    const spec = builder.build()\n    console.log(builder.advancedVSeed.analysis)\n    if (isTable(vseed)) {\n      const tableInstance = new ListTable(ref.current, spec)\n      return () => tableInstance.release()\n    } else if (isPivotTable(vseed)) {\n      const tableInstance = new PivotTable(ref.current, spec)\n      return () => tableInstance.release()\n    } else {\n      const vchart = new VChart(spec, { dom: ref.current })\n      vchart.renderSync()\n      return () => vchart.release()\n    }\n  }, [orderBy, order])\n\n  return (\n    <div style={{ display: 'flex', flexDirection: 'column' }}>\n      <div>\n        {orderList.map((d) => {\n          return (\n            <span key={d} style={{ margin: '0 2px 0 0' }}>\n              <button\n                onClick={() => setOrder(d)}\n                style={{ fontSize: 10, padding: '0 2px', border: '1px solid #cccccc' }}\n              >\n                {d}\n              </button>\n            </span>\n          )\n        })}\n      </div>\n      <div>\n        {orderByList.map((d) => {\n          return (\n            <span key={d} style={{ margin: '0 2px 0 0' }}>\n              <button\n                onClick={() => setOrderBy(d)}\n                style={{ fontSize: 10, padding: '0 2px', border: '1px solid #cccccc' }}\n              >\n                {d}\n              </button>\n            </span>\n          )\n        })}\n      </div>\n      <div ref={ref} style={{ height: 260, width: '100%' }}></div>\n    </div>\n  )\n}\n\nexport default Demo",language:"tsx",direction:"vertical",editorPosition:"left"})]})}function d(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},{wrapper:n}=Object.assign({},(0,s.ah)(),e.components);return n?(0,r.jsx)(n,Object.assign({},e,{children:(0,r.jsx)(i,e)})):i(e)}let o=d;d.__RSPRESS_PAGE_META={},d.__RSPRESS_PAGE_META["zh-CN%2Fguide%2Fintro%2FdataAnalysis.mdx"]={toc:[{id:"轴排序-与-图例排序",text:"轴排序 与 图例排序",depth:2}],title:"分析功能",headingTitle:"分析功能",frontmatter:{pageType:"doc"}}}}]);
//# sourceMappingURL=8327.6b76afdd.js.map