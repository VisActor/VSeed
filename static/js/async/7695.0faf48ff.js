"use strict";(self.webpackChunkwebsite=self.webpackChunkwebsite||[]).push([["7695"],{96311:function(t,e,i){i.d(e,{Z:()=>eM});var r,n,s,o,a,l={};i.r(l),i.d(l,{BrowserRouter:()=>m.VK,Content:()=>m.VY,DataContext:()=>m.R0,Helmet:()=>m.ql,NoSSR:()=>m.ri,ThemeContext:()=>m.Ni,addLeadingSlash:()=>m.nY,isEqualPath:()=>m.pV,isProduction:()=>m.yv,matchPath:()=>m.LX,matchRoutes:()=>m.fp,normalizeHrefInRuntime:()=>m.AP,normalizeImagePath:()=>m.i6,normalizeRoutePath:()=>m.Tm,normalizeSlash:()=>m.Kw,pathnameToRouteService:()=>m.Ww,removeBase:()=>m.E9,removeTrailingSlash:()=>m.Qj,useDark:()=>m.e7,useI18n:()=>m.QT,useLang:()=>m.Jr,useLocation:()=>m.TH,useNavigate:()=>m.s0,usePageData:()=>m.Vi,useSearchParams:()=>m.lr,useVersion:()=>m.aw,useViewTransition:()=>m.n_,useWindowSize:()=>m.iP,withBase:()=>m.pJ});var u={};i.r(u),i.d(u,{AggregationType:()=>A.E,Aggregator:()=>B.jk,AvgAggregator:()=>B.ky,CountAggregator:()=>B.ZP,CustomAggregator:()=>B.Js,HierarchyState:()=>O.g,HighlightScope:()=>T.p,IconFuncTypeEnum:()=>D.cI,IconPosition:()=>D.q0,InteractionState:()=>T.F,InternalIconName:()=>D.up,MaxAggregator:()=>B.Fn,MinAggregator:()=>B.NF,NoneAggregator:()=>B.ld,Placement:()=>O.u,RecalculateAggregator:()=>B.U4,RecordAggregator:()=>B.hT,SortType:()=>A.F,SumAggregator:()=>B.__,cellStyleKeys:()=>E.n,indicatorSort:()=>B.vg,naturalSort:()=>B.SL,registeredAggregators:()=>B.YJ,sortBy:()=>B.MR,typeSort:()=>B.y4});var c={};i.r(c),i.d(c,{BaseTable:()=>N.D});var d={};i.r(d),i.d(d,{CachedDataSource:()=>F.Z,DataSource:()=>R.o2});var h={};i.r(h),i.d(h,{dateFormat:()=>U,numberFormat:()=>M});var p={};i.r(p),i.d(p,{CustomCellStylePlugin:()=>z.Wg,PluginManager:()=>k.Q});var f={};i.r(f),i.d(f,{Arc:()=>tc,CheckBox:()=>ty.J,Circle:()=>q,Container:()=>Q,Group:()=>tp,GroupElement:()=>X,Icon:()=>ti,Image:()=>tr,Line:()=>tf.x,Radio:()=>tb.Y,Rect:()=>ts,Tag:()=>th,Text:()=>ta,percentCalc:()=>tl});var y={};i.r(y),i.d(y,{CustomLayout:()=>f,DataStatistics:()=>h,EventTarget:()=>tj.R,Icon:()=>tU.J,ListTable:()=>C.T,ListTableSimple:()=>$,PIVOT_CHART_EVENT_TYPE:()=>tC.Z,PIVOT_TABLE_EVENT_TYPE:()=>tC.z,PivotChart:()=>G.z,PivotTable:()=>Z.I,PivotTableSimple:()=>W,TABLE_EVENT_TYPE:()=>tz.B,TYPES:()=>u,VArc:()=>tA.NP,VArea:()=>tA.q_,VCheckBox:()=>tx,VCircle:()=>tA.uU,VGlyph:()=>tA.rE,VGroup:()=>tA.qP,VImage:()=>tA.rV,VLine:()=>tA.EG,VPath:()=>tA.VA,VPolygon:()=>tA.sg,VRadio:()=>tP,VRect:()=>tA.bZ,VSymbol:()=>tA.p8,VTag:()=>tF,VText:()=>tA.Jj,clearGlobal:()=>tZ,core:()=>c,data:()=>d,getDataCellPath:()=>tE,getIcons:()=>t$,getTargetCell:()=>tL.J$,graphicUtil:()=>S.WN,jsx:()=>tR,plugins:()=>p,register:()=>P,registerAnimation:()=>tk.ph,registerAxis:()=>tk.R2,registerButtonCell:()=>V.ah,registerChartCell:()=>V.LQ,registerCheckboxCell:()=>V.yR,registerEmptyTip:()=>tk.Eg,registerImageCell:()=>V.pk,registerLegend:()=>tk.I,registerMenu:()=>tk.FD,registerProgressBarCell:()=>V.m4,registerRadioCell:()=>V.Jy,registerSparkLineCell:()=>V.dB,registerSwitchCell:()=>V.VT,registerTextCell:()=>V.ge,registerTitle:()=>tk._t,registerTooltip:()=>tk.Mh,registerVideoCell:()=>V.au,renderChart:()=>tg.pF,restoreMeasureText:()=>t_.sb,setCustomAlphabetCharSet:()=>t_.fg,textMeasure:()=>t_.QC,themes:()=>L,toBoxArray:()=>tM.JO,updateCell:()=>tm.wW,version:()=>tV});var b=i(31549),m=i(88021),g=i(44194),_=i.t(g,2),v=i(91021),w=i(84085),I=i(86961),S=i(91925),T=i(30350),E=i(87450),A=i(64399),O=i(79392),D=i(77568),B=i(56365),N=i(57506),R=i(48345),F=i(32921),x=i(5953),P=i(72289),L=i(84915);function M(t){return t=Object.assign({},{digitsAfterDecimal:2,scaler:1,thousandsSep:",",decimalSep:".",prefix:"",suffix:""},t),function(e){if(isNaN(e)||!isFinite(e))return"";let i=function(t,e,i){var r,n;let s=(t+="").split("."),o=s[0],a=s.length>1?i+s[1]:"";return r=o,n=e,(o=r.replace(/\d+/,function(t){return t.replace(/(\d)(?=(\d{3})+$)/g,function(t){return`${t}${n}`})}))+a}((t.scaler*e).toFixed(t.digitsAfterDecimal),t.thousandsSep,t.decimalSep);return`${t.prefix}${i}${t.suffix}`}}function U(t,e,i,r,n){null==i&&(i=!1),null==r&&(r=["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"]),null==n&&(n=["Sun","Mon","Tue","Wed","Thu","Fri","Sat"]);let s=i?"UTC":"",o=function(t){return`0${t}`.substring(0,2)};return function(i){let a=new Date(Date.parse(i[t]));return e.replace(/%(.)/g,function(t,e){switch(e){case"y":return a[`get${s}FullYear`]();case"m":return o(a[`get${s}Month`]()+1);case"n":return r[a[`get${s}Month`]()];case"d":return o(a[`get${s}Date`]());case"w":return n[a[`get${s}Day`]()];case"x":return a[`get${s}Day`]();case"H":return o(a[`get${s}Hours`]());case"M":return o(a[`get${s}Minutes`]());case"S":return o(a[`get${s}Seconds`]());default:return`%${e}`}})}}var k=i(91271),z=i(91430),C=i(33124),j=i(57647),V=i(23402);(0,V.ge)();class $ extends j.e{}var Z=i(83247),Y=i(10551);(0,V.ge)();class W extends Y.Z{}var G=i(7783),H=i(21054),K=i(43735);class q extends H.C{constructor(t){var e,i,r,n,s,o,a,l,u,c;let d=(0,K.Z)(t.boundsPadding),h=[null!=(i=null!=(e=t.marginTop)?e:d?t.boundsPadding[0]:t.boundsPadding)?i:0,null!=(n=null!=(r=t.marginRight)?r:d?t.boundsPadding[1]:t.boundsPadding)?n:0,null!=(a=null!=(s=t.marginBottom)?s:d?null!=(o=t.boundsPadding[2])?o:t.boundsPadding[0]:t.boundsPadding)?a:0,null!=(c=null!=(l=t.marginLeft)?l:d?null!=(u=t.boundsPadding[3])?u:t.boundsPadding[1]:t.boundsPadding)?c:0];t.boundsPadding=h,super(t)}}var J=i(53068);class Q extends J.ZA{constructor(t){var e,i,r,n,s,o,a,l,u,c,d,h,p,f;t.direction&&(t.flexDirection=t.direction),t.justifyContent&&("start"===t.justifyContent||"end"===t.justifyContent)&&(t.justifyContent="flex-"+t.justifyContent),t.alignItems&&("start"===t.alignItems||"end"===t.alignItems)&&(t.alignItems="flex-"+t.alignItems),t.alignContent&&("start"===t.alignContent||"end"===t.alignContent)&&(t.alignContent="flex-"+t.alignContent),t.display="flex",t.flexDirection||(t.flexDirection="row"),t.clip=!0,t.fill=null==(e=null==t?void 0:t.background)?void 0:e.fill,t.stroke=null==(i=null==t?void 0:t.background)?void 0:i.stroke,t.lineWidth=null==(r=null==t?void 0:t.background)?void 0:r.lineWidth,t.cornerRadius=null==(n=null==t?void 0:t.background)?void 0:n.cornerRadius;let y=(0,K.Z)(t.boundsPadding),b=[null!=(o=null!=(s=t.marginTop)?s:y?t.boundsPadding[0]:t.boundsPadding)?o:0,null!=(l=null!=(a=t.marginRight)?a:y?t.boundsPadding[1]:t.boundsPadding)?l:0,null!=(d=null!=(u=t.marginBottom)?u:y?null!=(c=t.boundsPadding[2])?c:t.boundsPadding[0]:t.boundsPadding)?d:0,null!=(f=null!=(h=t.marginLeft)?h:y?null!=(p=t.boundsPadding[3])?p:t.boundsPadding[1]:t.boundsPadding)?f:0];t.boundsPadding=b,super(t)}}class X extends Q{constructor(t){t.flexWrap="nowrap",super(t)}}var tt=i(19427),te=i(58853);class ti extends tt.E{constructor(t){var e,i,r,n,s,o,a,l,u,c,d,h;let p;(0,te.Z)(t.iconName)&&(p=x.U2()[t.iconName])&&(t.width=null!=(e=t.width)?e:p.width,t.height=null!=(i=t.height)?i:p.height,t.svg=p.svg,t.cursor=p.cursor),t.svg&&(t.image=t.svg);let f=(0,K.Z)(t.boundsPadding),y=[null!=(n=null!=(r=t.marginTop)?r:f?t.boundsPadding[0]:t.boundsPadding)?n:0,null!=(o=null!=(s=t.marginRight)?s:f?t.boundsPadding[1]:t.boundsPadding)?o:0,null!=(u=null!=(a=t.marginBottom)?a:f?null!=(l=t.boundsPadding[2])?l:t.boundsPadding[0]:t.boundsPadding)?u:0,null!=(h=null!=(c=t.marginLeft)?c:f?null!=(d=t.boundsPadding[3])?d:t.boundsPadding[1]:t.boundsPadding)?h:0];t.boundsPadding=y,super(t),this.cache=p}}class tr extends tt.E{constructor(t){var e,i,r,n,s,o,a,l,u,c;t.src&&(t.image=t.src),"circle"===t.shape&&(t.cornerRadius=t.width/2);let d=(0,K.Z)(t.boundsPadding),h=[null!=(i=null!=(e=t.marginTop)?e:d?t.boundsPadding[0]:t.boundsPadding)?i:0,null!=(n=null!=(r=t.marginRight)?r:d?t.boundsPadding[1]:t.boundsPadding)?n:0,null!=(a=null!=(s=t.marginBottom)?s:d?null!=(o=t.boundsPadding[2])?o:t.boundsPadding[0]:t.boundsPadding)?a:0,null!=(c=null!=(l=t.marginLeft)?l:d?null!=(u=t.boundsPadding[3])?u:t.boundsPadding[1]:t.boundsPadding)?c:0];t.boundsPadding=h,super(t)}}var tn=i(28651);class ts extends tn.U{constructor(t){var e,i,r,n,s,o,a,l,u,c;let d=(0,K.Z)(t.boundsPadding),h=[null!=(i=null!=(e=t.marginTop)?e:d?t.boundsPadding[0]:t.boundsPadding)?i:0,null!=(n=null!=(r=t.marginRight)?r:d?t.boundsPadding[1]:t.boundsPadding)?n:0,null!=(a=null!=(s=t.marginBottom)?s:d?null!=(o=t.boundsPadding[2])?o:t.boundsPadding[0]:t.boundsPadding)?a:0,null!=(c=null!=(l=t.marginLeft)?l:d?null!=(u=t.boundsPadding[3])?u:t.boundsPadding[1]:t.boundsPadding)?c:0];t.boundsPadding=h,super(t)}}var to=i(29411);class ta extends to.x{constructor(t){var e,i,r,n,s,o,a,l,u,c,d;t.textBaseline||(t.textBaseline="top");let h=(0,K.Z)(t.boundsPadding),p=[null!=(i=null!=(e=t.marginTop)?e:h?t.boundsPadding[0]:t.boundsPadding)?i:0,null!=(n=null!=(r=t.marginRight)?r:h?t.boundsPadding[1]:t.boundsPadding)?n:0,null!=(a=null!=(s=t.marginBottom)?s:h?null!=(o=t.boundsPadding[2])?o:t.boundsPadding[0]:t.boundsPadding)?a:0,null!=(c=null!=(l=t.marginLeft)?l:h?null!=(u=t.boundsPadding[3])?u:t.boundsPadding[1]:t.boundsPadding)?c:0];t.boundsPadding=p,t.fill=null!=(d=t.fill)?d:"#000",super(t)}getSize(t){this.AABBBounds.width()}}function tl(t,e=0){return{percent:t,delta:e}}var tu=i(11971);class tc extends tu.w{constructor(t){var e,i,r,n,s,o,a,l,u,c;let d=(0,K.Z)(t.boundsPadding),h=[null!=(i=null!=(e=t.marginTop)?e:d?t.boundsPadding[0]:t.boundsPadding)?i:0,null!=(n=null!=(r=t.marginRight)?r:d?t.boundsPadding[1]:t.boundsPadding)?n:0,null!=(a=null!=(s=t.marginBottom)?s:d?null!=(o=t.boundsPadding[2])?o:t.boundsPadding[0]:t.boundsPadding)?a:0,null!=(c=null!=(l=t.marginLeft)?l:d?null!=(u=t.boundsPadding[3])?u:t.boundsPadding[1]:t.boundsPadding)?c:0];t.boundsPadding=h,super(t)}}var td=i(46293);class th extends td.V{constructor(t){var e,i,r,n,s,o,a,l,u,c;let d=(0,K.Z)(t.boundsPadding),h=[null!=(i=null!=(e=t.marginTop)?e:d?t.boundsPadding[0]:t.boundsPadding)?i:0,null!=(n=null!=(r=t.marginRight)?r:d?t.boundsPadding[1]:t.boundsPadding)?n:0,null!=(a=null!=(s=t.marginBottom)?s:d?null!=(o=t.boundsPadding[2])?o:t.boundsPadding[0]:t.boundsPadding)?a:0,null!=(c=null!=(l=t.marginLeft)?l:d?null!=(u=t.boundsPadding[3])?u:t.boundsPadding[1]:t.boundsPadding)?c:0];t.boundsPadding=h,super(t)}getSize(t){this.AABBBounds.width()}}class tp extends J.ZA{constructor(t){var e,i,r,n,s,o,a,l,u,c;let d=(0,K.Z)(t.boundsPadding),h=[null!=(i=null!=(e=t.marginTop)?e:d?t.boundsPadding[0]:t.boundsPadding)?i:0,null!=(n=null!=(r=t.marginRight)?r:d?t.boundsPadding[1]:t.boundsPadding)?n:0,null!=(a=null!=(s=t.marginBottom)?s:d?null!=(o=t.boundsPadding[2])?o:t.boundsPadding[0]:t.boundsPadding)?a:0,null!=(c=null!=(l=t.marginLeft)?l:d?null!=(u=t.boundsPadding[3])?u:t.boundsPadding[1]:t.boundsPadding)?c:0];t.boundsPadding=h,super(t)}}var tf=i(73208),ty=i(74294),tb=i(66707),tm=i(9344),tg=i(31195),t_=i(26858),tv=i(85115),tw=i(50341),tI=i(53944),tS=i(17804),tT=i(42585);function tE(t,e,i){var r,n;let s=function(t){var e,i,r,n,s,o,a,l,u,c,d;let h,p,f,y,b={seqId:0},m={isPivotChart:!0};t.columnTree&&(!1!==t.indicatorsAsCol&&(f=(0,tw.VN)(t.columnTree,t.indicators)),h=new tI.KO(null!=(e=t.columnTree)?e:[],b)),t.rowTree&&(!1===t.indicatorsAsCol&&(y=(0,tw.VN)(t.rowTree,t.indicators)),p=new tI.KO(null!=(i=t.rowTree)?i:[],b));let g=(null==(r=p.dimensionKeys)?void 0:r.count)?p.dimensionKeys.valueArr():null!=(s=null==(n=t.rows)?void 0:n.reduce((t,e)=>("string"==typeof e?t.push(e):t.push(e.dimensionKey),t),[]))?s:[],_=(null==(o=h.dimensionKeys)?void 0:o.count)?h.dimensionKeys.valueArr():null!=(l=null==(a=t.columns)?void 0:a.reduce((t,e)=>("string"==typeof e?t.push(e):t.push(e.dimensionKey),t),[]))?l:[],v=null!=(c=null==(u=t.indicators)?void 0:u.reduce((t,e)=>("string"==typeof e?t.push(e):t.push(e.indicatorKey),t),[]))?c:[];return m.collectValuesBy=function(t,e,i){var r,n,s,o,a,l,u,c,d,h,p,f,y,b,m,g,_,v,w,I,S,T,E;let A={};for(let O=0,D=null==(r=t.indicators)?void 0:r.length;O<D;O++)if("string"!=typeof t.indicators[O]&&t.indicators[O].chartSpec)if(!1===t.indicatorsAsCol){let r=t.indicators[O];if(A[r.indicatorKey]={by:i,range:!0,sumBy:!1!==(null==(n=r.chartSpec)?void 0:n.stack)&&e.concat(null==(s=r.chartSpec)?void 0:s.xField)},r.chartSpec.series)r.chartSpec.series.forEach(t=>{var n,s,o,a,l,u,c,d,h,p,f,y,b,m,g,_;let v="string"==typeof t.xField?t.xField:t.xField[0];A[v]={by:e,type:"horizontal"!==t.direction?"xField":void 0,range:"horizontal"===t.direction,sortBy:"horizontal"!==t.direction?null!=(a=null==(o=null==(s=null==(n=null==t?void 0:t.data)?void 0:n.fields)?void 0:s[v])?void 0:o.domain)?a:null==(d=null==(c=null==(u=null==(l=r.chartSpec)?void 0:l.data)?void 0:u.fields)?void 0:c[v])?void 0:d.domain:void 0};let w=t.yField;A[w]={by:i,range:"horizontal"!==t.direction,sumBy:!1!==t.stack&&e.concat(null==t?void 0:t.xField),sortBy:"horizontal"===t.direction?null!=(y=null==(f=null==(p=null==(h=null==t?void 0:t.data)?void 0:h.fields)?void 0:p[w])?void 0:f.domain)?y:null==(_=null==(g=null==(m=null==(b=r.chartSpec)?void 0:b.data)?void 0:m.fields)?void 0:g[w])?void 0:_.domain:void 0}});else{let n="string"==typeof r.chartSpec.xField?r.chartSpec.xField:r.chartSpec.xField[0];A[n]={by:e,type:"horizontal"!==r.chartSpec.direction?"xField":void 0,range:"horizontal"===r.chartSpec.direction,sortBy:"horizontal"!==r.chartSpec.direction?null==(u=null==(l=null==(a=null==(o=r.chartSpec)?void 0:o.data)?void 0:a.fields)?void 0:l[n])?void 0:u.domain:void 0};let s=r.chartSpec.yField;A[s]={by:i,range:"horizontal"!==t.indicators[O].chartSpec.direction,sumBy:!1!==r.chartSpec.stack&&e.concat(null==(c=r.chartSpec)?void 0:c.xField),sortBy:"horizontal"===r.chartSpec.direction?null==(f=null==(p=null==(h=null==(d=r.chartSpec)?void 0:d.data)?void 0:h.fields)?void 0:p[s])?void 0:f.domain:void 0}}}else{let r=t.indicators[O];if(A[r.indicatorKey]={by:e,range:!0,sumBy:!1!==(null==(y=r.chartSpec)?void 0:y.stack)&&i.concat(null==(b=r.chartSpec)?void 0:b.yField)},r.chartSpec.series)r.chartSpec.series.forEach(t=>{var n,s,o,a,l,u,c,d,h,p,f,y,b,m,g,_;let v="string"==typeof t.yField?t.yField:t.yField[0];A[v]={by:i,type:"horizontal"===t.direction?"yField":void 0,range:"horizontal"!==t.direction,sortBy:"horizontal"===t.direction?null!=(a=null==(o=null==(s=null==(n=null==t?void 0:t.data)?void 0:n.fields)?void 0:s[v])?void 0:o.domain)?a:null==(d=null==(c=null==(u=null==(l=r.chartSpec)?void 0:l.data)?void 0:u.fields)?void 0:c[v])?void 0:d.domain:void 0};let w=t.xField;A[w]={by:e,range:"horizontal"===t.direction,sumBy:!1!==t.stack&&i.concat(null==t?void 0:t.yField),sortBy:"horizontal"!==t.direction?null!=(y=null==(f=null==(p=null==(h=null==t?void 0:t.data)?void 0:h.fields)?void 0:p[w])?void 0:f.domain)?y:null==(_=null==(g=null==(m=null==(b=r.chartSpec)?void 0:b.data)?void 0:m.fields)?void 0:g[w])?void 0:_.domain:void 0}});else{let n="string"==typeof r.chartSpec.yField?r.chartSpec.yField:r.chartSpec.yField[0];A[n]={by:i,type:"horizontal"===r.chartSpec.direction?"yField":void 0,range:"horizontal"!==r.chartSpec.direction,sortBy:"horizontal"===r.chartSpec.direction?null==(v=null==(_=null==(g=null==(m=r.chartSpec)?void 0:m.data)?void 0:g.fields)?void 0:_[n])?void 0:v.domain:void 0};let s=r.chartSpec.xField;A[s]={by:e,range:"horizontal"===t.indicators[O].chartSpec.direction,sumBy:!1!==r.chartSpec.stack&&i.concat(null==(w=r.chartSpec)?void 0:w.yField),sortBy:"horizontal"!==r.chartSpec.direction?null==(E=null==(T=null==(S=null==(I=r.chartSpec)?void 0:I.data)?void 0:S.fields)?void 0:T[s])?void 0:E.domain:void 0}}}return A}(t,_,g),m.aggregationRules=function(t){var e;let i=[];return null==(e=t.indicators)||e.forEach(e=>{var r,n;if("string"==typeof e)i.push({indicatorKey:e,field:e,aggregationType:A.E.RECORD});else if(null==(r=e.chartSpec)?void 0:r.series){let r=[];null==(n=e.chartSpec)||n.series.forEach(e=>{let i=!1===t.indicatorsAsCol?e.yField:e.xField;-1===r.indexOf(i)&&r.push(i)}),i.push({indicatorKey:e.indicatorKey,field:r,aggregationType:A.E.RECORD})}else{let r=!1===t.indicatorsAsCol?e.chartSpec.yField:e.chartSpec.xField;i.push({indicatorKey:e.indicatorKey,field:null!=r?r:e.indicatorKey,aggregationType:A.E.RECORD})}}),i}(t),{dataset:new tv.q(m,g,_,v,t.indicators,null==(d=t.indicatorsAsCol)||d,t.records,void 0,void 0,f||t.columnTree,y||t.rowTree,!0),columnDimensionTree:h,rowDimensionTree:p,layoutNodeId:b}}(t),o=s.columnDimensionTree,a=s.rowDimensionTree,l=!1,u=!1;t.columnTree&&t.indicatorsAsCol&&!o.dimensionKeys.contain(tT.ek)&&(l=!0),t.rowTree&&(t.indicatorsAsCol||a.dimensionKeys.contain(tT.ek)||(u=!0));let{dataset:c,layoutNodeId:d}=s;t.columnTree&&!l||(o=new tI.KO(null!=(r=c.colHeaderTree)?r:[],d)),t.rowTree&&!u||(a=new tI.KO(null!=(n=c.rowHeaderTree)?n:[],d));let h=new tS.z({options:t,layoutNodeId:d,internalProps:t,isPivotChart:()=>!0,pivotChartAxes:[],_selectedDataItemsInChart:[],_getActiveChartInstance:()=>({updateState:()=>{}})},c,o,a);for(let t=0;t<h.colCount;t++)for(let r=0;r<h.rowCount;r++){if(h.isHeader(t,r))continue;let n=h.getCellHeaderPaths(t,r),s=n.colHeaderPaths.map(t=>{var e;return null!=(e=t.indicatorKey)?e:t.value}),o=n.rowHeaderPaths.map(t=>{var e;return null!=(e=t.indicatorKey)?e:t.value}),a=c.getAggregator(h.indicatorsAsCol?o:o.slice(0,-1),h.indicatorsAsCol?s.slice(0,-1):s,h.getIndicatorKey(t,r)),l=function(t,e,i,r,n,s){if((0,K.Z)(t))for(let l=0;l<t.length;l++){var o,a;if(s?s(t[l],e):(o=t[l],a=e,JSON.stringify(o)===JSON.stringify(a)))return n.getCellHeaderPaths(i,r)}}(a.value?a.value():void 0,e,t,r,h,i);if(l)return l}}var tA=i(52812),tO=i(31535),tD=i(30756),tB=i(20672),tN=function(t,e){var i={};for(var r in t)Object.prototype.hasOwnProperty.call(t,r)&&0>e.indexOf(r)&&(i[r]=t[r]);if(null!=t&&"function"==typeof Object.getOwnPropertySymbols){var n=0;for(r=Object.getOwnPropertySymbols(t);n<r.length;n++)0>e.indexOf(r[n])&&Object.prototype.propertyIsEnumerable.call(t,r[n])&&(i[r[n]]=t[r[n]])}return i};function tR(t,e,...i){let r=e||{},{key:n,name:s,id:o,attribute:a,stateProxy:l,animation:u,timeline:c}=r,d=tN(r,["key","name","id","attribute","stateProxy","animation","timeline"]),h=t;(0,tD.Z)(t)&&(h=tB.i[t]);let p=[];i.length&&function t(e,i){if((0,tO.Z)(e))return e.forEach(e=>t(e,i));i.push(e)}(1===i.length?i[0]:i,p);let f="Group"===h.name?new h(a):h(e);if(function(t,e,i){let r,n=!1;switch(t.type){case"richtext":case"rich/image":break;case"rich/text":r=t.attribute||{},e[0]&&(r.text=e[0]);break;default:n=!0}n?(e.forEach(e=>{e&&t.add(e)}),Object.keys(i).forEach(e=>{let r=tA.Nv[e];r&&t.on(r,i[e])})):"richtext"===t.type&&(t.attribute.textConfig=e.map(t=>t.attribute).filter(t=>t))}(f,p,d),l&&(f.stateProxy=l),s&&(f.name=s),(0,tO.Z)(u)){let t=f.animate();c&&t.setTimeline(c),u.forEach(e=>{t[e[0]](...e.slice(1))})}return f}function tF(t){return new td.V(t?t.attribute:{})}function tx(t){return new ty.J(t?t.attribute:{})}function tP(t){return new tb.Y(t?t.attribute:{})}var tL=i(60317),tM=i(68483),tU=i(29330),tk=i(86838),tz=i(60530),tC=i(76023),tj=i(91071);(0,I.sTO)();let tV="1.19.10-alpha.1";function t$(){return x.U2()}function tZ(){P.clearAll()}A.E;var tY=i(62911);let tW=new Map;tW.set("rspress/runtime",l),tW.set("react",_),tW.set("@visactor/vchart",v),tW.set("@visactor/vseed",w),tW.set("@visactor/vtable",y),tW.set("@visactor/vquery",tY);let tG=function(t,e){if(!tW.has(t))throw Error("Module "+t+" not found");let i=tW.get(t);return e&&"object"==typeof i&&i.default||i};function tH(t,e){var i=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable})),i.push.apply(i,r)}return i}function tK(t){for(var e=1;e<arguments.length;e++){var i=null!=arguments[e]?arguments[e]:{};e%2?tH(Object(i),!0).forEach(function(e){var r;r=i[e],e in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(i)):tH(Object(i)).forEach(function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(i,e))})}return t}function tq(t,e){(null==e||e>t.length)&&(e=t.length);for(var i=0,r=Array(e);i<e;i++)r[i]=t[i];return r}function tJ(t,e){var i=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable})),i.push.apply(i,r)}return i}function tQ(t){for(var e=1;e<arguments.length;e++){var i=null!=arguments[e]?arguments[e]:{};e%2?tJ(Object(i),!0).forEach(function(e){var r;r=i[e],e in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(i)):tJ(Object(i)).forEach(function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(i,e))})}return t}function tX(t){return function e(){for(var i=this,r=arguments.length,n=Array(r),s=0;s<r;s++)n[s]=arguments[s];return n.length>=t.length?t.apply(this,n):function(){for(var t=arguments.length,r=Array(t),s=0;s<t;s++)r[s]=arguments[s];return e.apply(i,[].concat(n,r))}}}function t0(t){return({}).toString.call(t).includes("Object")}function t1(t){return"function"==typeof t}var t2=tX(function(t,e){throw Error(t[e]||t.default)})({initialIsRequired:"initial state is required",initialType:"initial state should be an object",initialContent:"initial state shouldn't be an empty object",handlerType:"handler should be an object or a function",handlersType:"all handlers should be a functions",selectorType:"selector should be a function",changeType:"provided value of changes should be an object",changeField:'it seams you want to change a field in the state which is not specified in the "initial" state',default:"an unknown error accured in `state-local` package"}),t3=function(t,e){return t0(e)||t2("changeType"),Object.keys(e).some(function(e){return!Object.prototype.hasOwnProperty.call(t,e)})&&t2("changeField"),e},t4=function(t){t1(t)||t2("selectorType")},t6=function(t){t1(t)||t0(t)||t2("handlerType"),t0(t)&&Object.values(t).some(function(t){return!t1(t)})&&t2("handlersType")},t8=function(t){t||t2("initialIsRequired"),t0(t)||t2("initialType"),Object.keys(t).length||t2("initialContent")};function t5(t,e){return t1(e)?e(t.current):e}function t9(t,e){return t.current=tQ(tQ({},t.current),e),e}function t7(t,e,i){return t1(e)?e(t.current):Object.keys(i).forEach(function(i){var r;return null==(r=e[i])?void 0:r.call(e,t.current[i])}),i}var et={configIsRequired:"the configuration object is required",configType:"the configuration object should be an object",default:"an unknown error accured in `@monaco-editor/loader` package",deprecation:"Deprecation warning!\n    You are using deprecated way of configuration.\n\n    Instead of using\n      monaco.config({ urls: { monacoBase: '...' } })\n    use\n      monaco.config({ paths: { vs: '...' } })\n\n    For more please check the link https://github.com/suren-atoyan/monaco-loader#config\n  "},ee=(o=function(t,e){throw Error(t[e]||t.default)},function t(){for(var e=this,i=arguments.length,r=Array(i),n=0;n<i;n++)r[n]=arguments[n];return r.length>=o.length?o.apply(this,r):function(){for(var i=arguments.length,n=Array(i),s=0;s<i;s++)n[s]=arguments[s];return t.apply(e,[].concat(r,n))}})(et);let ei=function(t){return(t||ee("configIsRequired"),({}).toString.call(t).includes("Object")||ee("configType"),t.urls)?(console.warn(et.deprecation),{paths:{vs:t.urls.monacoBase}}):t},er=function(){for(var t=arguments.length,e=Array(t),i=0;i<t;i++)e[i]=arguments[i];return function(t){return e.reduceRight(function(t,e){return e(t)},t)}};var en={type:"cancelation",msg:"operation is manually canceled"};let es=function(t){var e=!1,i=new Promise(function(i,r){t.then(function(t){return e?r(en):i(t)}),t.catch(r)});return i.cancel=function(){return e=!0},i};var eo=function(t){if(Array.isArray(t))return t}(a=({create:function(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};t8(t),t6(e);var i={current:t},r=tX(t7)(i,e),n=tX(t9)(i),s=tX(t3)(t),o=tX(t5)(i);return[function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:function(t){return t};return t4(t),t(i.current)},function(t){(function(){for(var t=arguments.length,e=Array(t),i=0;i<t;i++)e[i]=arguments[i];return function(t){return e.reduceRight(function(t,e){return e(t)},t)}})(r,n,s,o)(t)}]}}).create({config:{paths:{vs:"https://cdn.jsdelivr.net/npm/monaco-editor@0.52.2/min/vs"}},isInitialized:!1,resolve:null,reject:null,monaco:null}))||function(t,e){if("undefined"!=typeof Symbol&&Symbol.iterator in Object(t)){var i=[],r=!0,n=!1,s=void 0;try{for(var o,a=t[Symbol.iterator]();!(r=(o=a.next()).done)&&(i.push(o.value),i.length!==e);r=!0);}catch(t){n=!0,s=t}finally{try{r||null==a.return||a.return()}finally{if(n)throw s}}return i}}(a,2)||function(t,e){if(t){if("string"==typeof t)return tq(t,2);var i=Object.prototype.toString.call(t).slice(8,-1);if("Object"===i&&t.constructor&&(i=t.constructor.name),"Map"===i||"Set"===i)return Array.from(t);if("Arguments"===i||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(i))return tq(t,e)}}(a,2)||function(){throw TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}(),ea=eo[0],el=eo[1];function eu(t){return document.body.appendChild(t)}function ec(t){var e,i,r=ea(function(t){return{config:t.config,reject:t.reject}}),n=(e="".concat(r.config.paths.vs,"/loader.js"),i=document.createElement("script"),e&&(i.src=e),i);return n.onload=function(){return t()},n.onerror=r.reject,n}function ed(){var t=ea(function(t){return{config:t.config,resolve:t.resolve,reject:t.reject}}),e=window.require;e.config(t.config),e(["vs/editor/editor.main"],function(e){eh(e),t.resolve(e)},function(e){t.reject(e)})}function eh(t){ea().monaco||el({monaco:t})}var ep=new Promise(function(t,e){return el({resolve:t,reject:e})});let ef=function(){var t=ea(function(t){return{monaco:t.monaco,isInitialized:t.isInitialized,resolve:t.resolve}});if(!t.isInitialized){if(el({isInitialized:!0}),t.monaco)return t.resolve(t.monaco),es(ep);if(window.monaco&&window.monaco.editor)return eh(window.monaco),t.resolve(window.monaco),es(ep);er(eu,ec)(ed)}return es(ep)};var ey={wrapper:{display:"flex",position:"relative",textAlign:"initial"},fullWidth:{width:"100%"},hide:{display:"none"}},eb={display:"flex",height:"100%",width:"100%",justifyContent:"center",alignItems:"center"},em=function({children:t}){return g.createElement("div",{style:eb},t)},eg=(0,g.memo)(function({width:t,height:e,isEditorReady:i,loading:r,_ref:n,className:s,wrapperProps:o}){return g.createElement("section",{style:{...ey.wrapper,width:t,height:e},...o},!i&&g.createElement(em,null,r),g.createElement("div",{ref:n,style:{...ey.fullWidth,...!i&&ey.hide},className:s}))}),e_=function(t){(0,g.useEffect)(t,[])},ev=function(t,e,i=!0){let r=(0,g.useRef)(!0);(0,g.useEffect)(r.current||!i?()=>{r.current=!1}:t,e)};function ew(){}function eI(t,e,i,r){var n,s,o,a,l,u;return n=t,s=r,n.editor.getModel(eS(n,s))||(o=t,a=e,l=i,u=r,o.editor.createModel(a,l,u?eS(o,u):void 0))}function eS(t,e){return t.Uri.parse(e)}(0,g.memo)(function({original:t,modified:e,language:i,originalLanguage:r,modifiedLanguage:n,originalModelPath:s,modifiedModelPath:o,keepCurrentOriginalModel:a=!1,keepCurrentModifiedModel:l=!1,theme:u="light",loading:c="Loading...",options:d={},height:h="100%",width:p="100%",className:f,wrapperProps:y={},beforeMount:b=ew,onMount:m=ew}){let[_,v]=(0,g.useState)(!1),[w,I]=(0,g.useState)(!0),S=(0,g.useRef)(null),T=(0,g.useRef)(null),E=(0,g.useRef)(null),A=(0,g.useRef)(m),O=(0,g.useRef)(b),D=(0,g.useRef)(!1);e_(()=>{let t=ef();return t.then(t=>(T.current=t)&&I(!1)).catch(t=>t?.type!=="cancelation"&&console.error("Monaco initialization: error:",t)),()=>{let e;return S.current?(e=S.current?.getModel(),void(a||e?.original?.dispose(),l||e?.modified?.dispose(),S.current?.dispose())):t.cancel()}}),ev(()=>{if(S.current&&T.current){let e=S.current.getOriginalEditor(),n=eI(T.current,t||"",r||i||"text",s||"");n!==e.getModel()&&e.setModel(n)}},[s],_),ev(()=>{if(S.current&&T.current){let t=S.current.getModifiedEditor(),r=eI(T.current,e||"",n||i||"text",o||"");r!==t.getModel()&&t.setModel(r)}},[o],_),ev(()=>{let t=S.current.getModifiedEditor();t.getOption(T.current.editor.EditorOption.readOnly)?t.setValue(e||""):e!==t.getValue()&&(t.executeEdits("",[{range:t.getModel().getFullModelRange(),text:e||"",forceMoveMarkers:!0}]),t.pushUndoStop())},[e],_),ev(()=>{S.current?.getModel()?.original.setValue(t||"")},[t],_),ev(()=>{let{original:t,modified:e}=S.current.getModel();T.current.editor.setModelLanguage(t,r||i||"text"),T.current.editor.setModelLanguage(e,n||i||"text")},[i,r,n],_),ev(()=>{T.current?.editor.setTheme(u)},[u],_),ev(()=>{S.current?.updateOptions(d)},[d],_);let B=(0,g.useCallback)(()=>{if(!T.current)return;O.current(T.current);let a=eI(T.current,t||"",r||i||"text",s||""),l=eI(T.current,e||"",n||i||"text",o||"");S.current?.setModel({original:a,modified:l})},[i,e,n,t,r,s,o]),N=(0,g.useCallback)(()=>{!D.current&&E.current&&(S.current=T.current.editor.createDiffEditor(E.current,{automaticLayout:!0,...d}),B(),T.current?.editor.setTheme(u),v(!0),D.current=!0)},[d,u,B]);return(0,g.useEffect)(()=>{_&&A.current(S.current,T.current)},[_]),(0,g.useEffect)(()=>{w||_||N()},[w,_,N]),g.createElement(eg,{width:p,height:h,isEditorReady:_,loading:c,_ref:E,className:f,wrapperProps:y})});var eT=function(t){let e=(0,g.useRef)();return(0,g.useEffect)(()=>{e.current=t},[t]),e.current},eE=new Map,eA=(0,g.memo)(function({defaultValue:t,defaultLanguage:e,defaultPath:i,value:r,language:n,path:s,theme:o="light",line:a,loading:l="Loading...",options:u={},overrideServices:c={},saveViewState:d=!0,keepCurrentModel:h=!1,width:p="100%",height:f="100%",className:y,wrapperProps:b={},beforeMount:m=ew,onMount:_=ew,onChange:v,onValidate:w=ew}){let[I,S]=(0,g.useState)(!1),[T,E]=(0,g.useState)(!0),A=(0,g.useRef)(null),O=(0,g.useRef)(null),D=(0,g.useRef)(null),B=(0,g.useRef)(_),N=(0,g.useRef)(m),R=(0,g.useRef)(),F=(0,g.useRef)(r),x=eT(s),P=(0,g.useRef)(!1),L=(0,g.useRef)(!1);e_(()=>{let t=ef();return t.then(t=>(A.current=t)&&E(!1)).catch(t=>t?.type!=="cancelation"&&console.error("Monaco initialization: error:",t)),()=>O.current?void(R.current?.dispose(),h?d&&eE.set(s,O.current.saveViewState()):O.current.getModel()?.dispose(),O.current.dispose()):t.cancel()}),ev(()=>{let o=eI(A.current,t||r||"",e||n||"",s||i||"");o!==O.current?.getModel()&&(d&&eE.set(x,O.current?.saveViewState()),O.current?.setModel(o),d&&O.current?.restoreViewState(eE.get(s)))},[s],I),ev(()=>{O.current?.updateOptions(u)},[u],I),ev(()=>{O.current&&void 0!==r&&(O.current.getOption(A.current.editor.EditorOption.readOnly)?O.current.setValue(r):r!==O.current.getValue()&&(L.current=!0,O.current.executeEdits("",[{range:O.current.getModel().getFullModelRange(),text:r,forceMoveMarkers:!0}]),O.current.pushUndoStop(),L.current=!1))},[r],I),ev(()=>{let t=O.current?.getModel();t&&n&&A.current?.editor.setModelLanguage(t,n)},[n],I),ev(()=>{void 0!==a&&O.current?.revealLine(a)},[a],I),ev(()=>{A.current?.editor.setTheme(o)},[o],I);let M=(0,g.useCallback)(()=>{if(!(!D.current||!A.current)&&!P.current){N.current(A.current);let l=s||i,h=eI(A.current,r||t||"",e||n||"",l||"");O.current=A.current?.editor.create(D.current,{model:h,automaticLayout:!0,...u},c),d&&O.current.restoreViewState(eE.get(l)),A.current.editor.setTheme(o),void 0!==a&&O.current.revealLine(a),S(!0),P.current=!0}},[t,e,i,r,n,s,u,c,d,o,a]);return(0,g.useEffect)(()=>{I&&B.current(O.current,A.current)},[I]),(0,g.useEffect)(()=>{T||I||M()},[T,I,M]),F.current=r,(0,g.useEffect)(()=>{I&&v&&(R.current?.dispose(),R.current=O.current?.onDidChangeModelContent(t=>{L.current||v(O.current.getValue(),t)}))},[I,v]),(0,g.useEffect)(()=>{if(I){let t=A.current.editor.onDidChangeMarkers(t=>{let e=O.current.getModel()?.uri;if(e&&t.find(t=>t.path===e.path)){let t=A.current.editor.getModelMarkers({resource:e});w?.(t)}});return()=>{t?.dispose()}}return()=>{}},[I,w]),g.createElement(eg,{width:p,height:f,isEditorReady:I,loading:l,_ref:D,className:y,wrapperProps:b})});function eO(t){let{options:e,className:i="",theme:r,...n}=t||{},s=(0,m.e7)(),o=(0,g.useMemo)(()=>r||(s?"vs-dark":"light"),[r,s]);return(0,b.jsx)("div",{className:`rspress-playground-editor ${i}`,children:(0,b.jsx)(eA,{...n,theme:o,options:{minimap:{enabled:!0,autohide:!0},fontSize:14,lineNumbersMinChars:7,scrollBeyondLastLine:!1,automaticLayout:!0,wordBasedSuggestions:!0,quickSuggestions:!0,scrollbar:{verticalScrollbarSize:8,horizontalScrollbarSize:8},scrollPredominantAxis:!1,...e}})})}function eD(t,e){return{type:"VariableDeclaration",declarations:[{type:"VariableDeclarator",id:"string"==typeof t?{type:"Identifier",name:t}:t,init:e}],kind:"const"}}function eB(t){return{type:"Identifier",name:t}}function eN(t,e){return{type:"ObjectProperty",key:eB(t),computed:!1,shorthand:t===e,value:eB(e)}}function eR(t,e){return{type:"CallExpression",callee:{type:"Identifier",name:"__get_import"},arguments:[{type:"StringLiteral",value:t},{type:"BooleanLiteral",value:!!e}]}}async function eF(){let t=await fetch("https://cdnjs.cloudflare.com/ajax/libs/babel-standalone/7.22.20/babel.min.js"),e=await t.text(),i=Function("exports","module","require",`with(exports, module, require) {${e}}`),r={};return i(r,{exports:r},()=>{}),r}n=(r=ei({paths:{vs:"https://cdnjs.cloudflare.com/ajax/libs/monaco-editor/0.43.0/min/vs"}})).monaco,s=function(t,e){if(null==t)return{};var i,r,n=function(t,e){if(null==t)return{};var i,r,n={},s=Object.keys(t);for(r=0;r<s.length;r++)i=s[r],e.indexOf(i)>=0||(n[i]=t[i]);return n}(t,e);if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(t);for(r=0;r<s.length;r++)i=s[r],!(e.indexOf(i)>=0)&&Object.prototype.propertyIsEnumerable.call(t,i)&&(n[i]=t[i])}return n}(r,["monaco"]),el(function(t){return{config:function t(e,i){return Object.keys(i).forEach(function(r){i[r]instanceof Object&&e[r]&&Object.assign(i[r],t(e[r],i[r]))}),tK(tK({},e),i)}(t.config,s),monaco:n}});let ex=null;async function eP(){if(window.Babel)return window.Babel;if(ex)return ex;ex=eF();try{let t=await ex;return window.Babel=t,t}catch(t){throw ex=null,t}}class eL extends g.Component{static getDerivedStateFromError(t){return{error:t,comp:null}}waitCompile(t){this.timer&&clearTimeout(this.timer),this.timer=window.setTimeout(()=>{this.timer=null,this.doCompile(t)},800)}async doCompile(t){let{language:e,getImport:i}=this.props,r=await eP();try{let n=[[r.availablePresets.react],[r.availablePresets.env,{modules:"commonjs"}]];("tsx"===e||"ts"===e)&&n.unshift([r.availablePresets.typescript,{allExtensions:!0,isTSX:"tsx"===e}]);let s=r.transform(t,{sourceType:"module",sourceMaps:"inline",presets:n,plugins:[{pre(){this.hasReactImported=!1},visitor:{ImportDeclaration(t){let e=t.node.source.value,i=[],r=[];for(let n of t.node.specifiers)"React"===n.local.name&&(this.hasReactImported=!0),"ImportDefaultSpecifier"===n.type&&i.push(eD(n.local.name,eR(e,!0))),"ImportNamespaceSpecifier"===n.type&&i.push(eD(n.local.name,eR(e))),"ImportSpecifier"===n.type&&("name"in n.imported&&n.imported.name!==n.local.name?r.push([n.imported.name,n.local.name]):r.push(n.local.name));r.length>0&&i.push(eD({type:"ObjectPattern",properties:r.map(t=>Array.isArray(t)?eN(t[0],t[1]):eN(t,t))},eR(e))),t.replaceWithMultiple(i)}},post(t){this.hasReactImported||t.ast.program.body.unshift(eD("React",eR("react",!0)))}}]});if(t!==this.props.code||!s||!s.code)return;let o={};if(Function("__get_import","exports",s.code)(i,o),o.default)return void this.setState({error:void 0,comp:g.createElement(o.default)});this.setState({error:Error("No default export")})}catch(e){if(t!==this.props.code)return;console.error(e),this.setState({error:e})}}componentDidCatch(t,e){console.error(t),console.error(e)}componentDidMount(){this.doCompile(this.props.code)}componentDidUpdate(t){t.code!==this.props.code&&this.waitCompile(this.props.code)}render(){let{className:t="",code:e,language:i,getImport:r,...n}=this.props,{error:s,comp:o}=this.state;return(0,b.jsxs)("div",{className:`rspress-playground-runner ${t}`,...n,children:[o,s&&(0,b.jsx)("pre",{className:"rspress-playground-error",children:s.message})]})}constructor(t){var e;super(t),(e="timer")in this?Object.defineProperty(this,e,{value:null,enumerable:!0,configurable:!0,writable:!0}):this[e]=null,this.state={error:void 0,comp:null},this.doCompile=this.doCompile.bind(this),this.waitCompile=this.waitCompile.bind(this)}}function eM(t){let{code:e,language:i,className:r="",direction:n,editorPosition:s,renderChildren:o,...a}=t,l=function(t){let{page:e}=(0,m.Vi)(),{frontmatter:i={}}=e,{playgroundDirection:r}=i;return t.direction?t.direction:r?r:"horizontal"}(t),[u,c]=(0,g.useState)(e),d=(0,g.useCallback)(t=>{c(t||"")},[]),h="horizontal"===l&&"left"===s,p=["rspress-playground",`rspress-playground-${l}`,`rspress-playground-reverse-${h?"y":"n"}`,r].join(" ");return(0,b.jsxs)("div",{className:p,...a,children:[(0,b.jsx)(eL,{language:i,code:u,getImport:tG}),(0,b.jsx)(eO,{value:u,onChange:d,language:"tsx"===i||"ts"===i?"typescript":"javascript",beforeMount:t=>{t.languages.typescript.typescriptDefaults.setDiagnosticsOptions({noSemanticValidation:!0,noSyntaxValidation:!0,noSuggestionDiagnostics:!0})}}),null==o?void 0:o(t,u,l)]})}},2371:function(t,e,i){let r,n,s,o,a,l,u,c,d,h,p,f,y,b,m,g,_,v;function w(t,e,i,r){return new(i||(i=Promise))(function(n,s){function o(t){try{l(r.next(t))}catch(t){s(t)}}function a(t){try{l(r.throw(t))}catch(t){s(t)}}function l(t){var e;t.done?n(t.value):((e=t.value)instanceof i?e:new i(function(t){t(e)})).then(o,a)}l((r=r.apply(t,e||[])).next())})}i.d(e,{sq:()=>oe,Dn:()=>ol,kw:()=>sW,ak:()=>s2});function I(t){return this instanceof I?(this.v=t,this):new I(t)}function S(t,e,i){if(!Symbol.asyncIterator)throw TypeError("Symbol.asyncIterator is not defined.");var r,n=i.apply(t,e||[]),s=[];return r=Object.create(("function"==typeof AsyncIterator?AsyncIterator:Object).prototype),o("next"),o("throw"),o("return",function(t){return function(e){return Promise.resolve(e).then(t,u)}}),r[Symbol.asyncIterator]=function(){return this},r;function o(t,e){n[t]&&(r[t]=function(e){return new Promise(function(i,r){s.push([t,e,i,r])>1||a(t,e)})},e&&(r[t]=e(r[t])))}function a(t,e){try{var i;(i=n[t](e)).value instanceof I?Promise.resolve(i.value.v).then(l,u):c(s[0][2],i)}catch(t){c(s[0][3],t)}}function l(t){a("next",t)}function u(t){a("throw",t)}function c(t,e){t(e),s.shift(),s.length&&a(s[0][0],s[0][1])}}function T(t){var e,i;return e={},r("next"),r("throw",function(t){throw t}),r("return"),e[Symbol.iterator]=function(){return this},e;function r(r,n){e[r]=t[r]?function(e){return(i=!i)?{value:I(t[r](e)),done:!1}:n?n(e):e}:n}}function E(t){if(!Symbol.asyncIterator)throw TypeError("Symbol.asyncIterator is not defined.");var e,i=t[Symbol.asyncIterator];return i?i.call(t):(t=function(t){var e="function"==typeof Symbol&&Symbol.iterator,i=e&&t[e],r=0;if(i)return i.call(t);if(t&&"number"==typeof t.length)return{next:function(){return t&&r>=t.length&&(t=void 0),{value:t&&t[r++],done:!t}}};throw TypeError(e?"Object is not iterable.":"Symbol.iterator is not defined.")}(t),e={},r("next"),r("throw"),r("return"),e[Symbol.asyncIterator]=function(){return this},e);function r(i){e[i]=t[i]&&function(e){return new Promise(function(r,n){var s,o,a;s=r,o=n,a=(e=t[i](e)).done,Promise.resolve(e.value).then(function(t){s({value:t,done:a})},o)})}}}(n6=nZ||(nZ={}))[n6.NONE=0]="NONE",n6[n6.Null=1]="Null",n6[n6.Int=2]="Int",n6[n6.Float=3]="Float",n6[n6.Binary=4]="Binary",n6[n6.Utf8=5]="Utf8",n6[n6.Bool=6]="Bool",n6[n6.Decimal=7]="Decimal",n6[n6.Date=8]="Date",n6[n6.Time=9]="Time",n6[n6.Timestamp=10]="Timestamp",n6[n6.Interval=11]="Interval",n6[n6.List=12]="List",n6[n6.Struct=13]="Struct",n6[n6.Union=14]="Union",n6[n6.FixedSizeBinary=15]="FixedSizeBinary",n6[n6.FixedSizeList=16]="FixedSizeList",n6[n6.Map=17]="Map",n6[n6.Duration=18]="Duration",n6[n6.LargeBinary=19]="LargeBinary",n6[n6.LargeUtf8=20]="LargeUtf8",n6[n6.Dictionary=-1]="Dictionary",n6[n6.Int8=-2]="Int8",n6[n6.Int16=-3]="Int16",n6[n6.Int32=-4]="Int32",n6[n6.Int64=-5]="Int64",n6[n6.Uint8=-6]="Uint8",n6[n6.Uint16=-7]="Uint16",n6[n6.Uint32=-8]="Uint32",n6[n6.Uint64=-9]="Uint64",n6[n6.Float16=-10]="Float16",n6[n6.Float32=-11]="Float32",n6[n6.Float64=-12]="Float64",n6[n6.DateDay=-13]="DateDay",n6[n6.DateMillisecond=-14]="DateMillisecond",n6[n6.TimestampSecond=-15]="TimestampSecond",n6[n6.TimestampMillisecond=-16]="TimestampMillisecond",n6[n6.TimestampMicrosecond=-17]="TimestampMicrosecond",n6[n6.TimestampNanosecond=-18]="TimestampNanosecond",n6[n6.TimeSecond=-19]="TimeSecond",n6[n6.TimeMillisecond=-20]="TimeMillisecond",n6[n6.TimeMicrosecond=-21]="TimeMicrosecond",n6[n6.TimeNanosecond=-22]="TimeNanosecond",n6[n6.DenseUnion=-23]="DenseUnion",n6[n6.SparseUnion=-24]="SparseUnion",n6[n6.IntervalDayTime=-25]="IntervalDayTime",n6[n6.IntervalYearMonth=-26]="IntervalYearMonth",n6[n6.DurationSecond=-27]="DurationSecond",n6[n6.DurationMillisecond=-28]="DurationMillisecond",n6[n6.DurationMicrosecond=-29]="DurationMicrosecond",n6[n6.DurationNanosecond=-30]="DurationNanosecond",(n8=nY||(nY={}))[n8.OFFSET=0]="OFFSET",n8[n8.DATA=1]="DATA",n8[n8.VALIDITY=2]="VALIDITY",n8[n8.TYPE=3]="TYPE";let A=void 0;function O(t){if(null===t)return"null";if(t===A)return"undefined";switch(typeof t){case"number":case"bigint":return`${t}`;case"string":return`"${t}"`}return"function"==typeof t[Symbol.toPrimitive]?t[Symbol.toPrimitive]("string"):ArrayBuffer.isView(t)?t instanceof BigInt64Array||t instanceof BigUint64Array?`[${[...t].map(t=>O(t))}]`:`[${t}]`:ArrayBuffer.isView(t)?`[${t}]`:JSON.stringify(t,(t,e)=>"bigint"==typeof e?`${e}`:e)}let D=new TextDecoder("utf-8"),B=t=>D.decode(t),N=new TextEncoder,R=t=>N.encode(t),F=t=>"number"==typeof t,x=t=>"boolean"==typeof t,P=t=>"function"==typeof t,L=t=>null!=t&&Object(t)===t,M=t=>L(t)&&P(t.then),U=t=>L(t)&&P(t[Symbol.iterator]),k=t=>L(t)&&P(t[Symbol.asyncIterator]),z=t=>L(t)&&L(t.schema),C=t=>L(t)&&"done"in t&&"value"in t,j=t=>L(t)&&P(t.stat)&&F(t.fd),V=t=>L(t)&&Y(t.body),$=t=>"_getDOMStream"in t&&"_getNodeStream"in t,Z=t=>L(t)&&P(t.abort)&&P(t.getWriter)&&!$(t),Y=t=>L(t)&&P(t.cancel)&&P(t.getReader)&&!$(t),W=t=>L(t)&&P(t.end)&&P(t.write)&&x(t.writable)&&!$(t),G=t=>L(t)&&P(t.read)&&P(t.pipe)&&x(t.readable)&&!$(t),H=t=>L(t)&&P(t.clear)&&P(t.bytes)&&P(t.position)&&P(t.setPosition)&&P(t.capacity)&&P(t.getBufferIdentifier)&&P(t.createLong),K="undefined"!=typeof SharedArrayBuffer?SharedArrayBuffer:ArrayBuffer;function q(t,e,i=0,r=e.byteLength){let n=t.byteLength,s=new Uint8Array(t.buffer,t.byteOffset,n),o=new Uint8Array(e.buffer,e.byteOffset,Math.min(r,n));return s.set(o,i),t}function J(t,e){let i,r,n,s=function(t){let e,i,r,n,s=t[0]?[t[0]]:[];for(let o,a,l=0,u=0,c=t.length;++l<c;){if(o=s[u],a=t[l],!o||!a||o.buffer!==a.buffer||a.byteOffset<o.byteOffset||({byteOffset:e,byteLength:r}=o,{byteOffset:i,byteLength:n}=a,e+r<i||i+n<e)){a&&(s[++u]=a);continue}s[u]=new Uint8Array(o.buffer,e,i-e+n)}return s}(t),o=s.reduce((t,e)=>t+e.byteLength,0),a=0,l=-1,u=Math.min(e||Number.POSITIVE_INFINITY,o);for(let t=s.length;++l<t;){if(r=(i=s[l]).subarray(0,Math.min(i.length,u-a)),u<=a+r.length){r.length<i.length?s[l]=i.subarray(r.length):r.length===i.length&&l++,n?q(n,r,a):n=r;break}q(n||(n=new Uint8Array(u)),r,a),a+=r.length}return[n||new Uint8Array(0),s.slice(l),o-(n?n.byteLength:0)]}function Q(t,e){let i=C(e)?e.value:e;return i instanceof t?t===Uint8Array?new t(i.buffer,i.byteOffset,i.byteLength):i:i?("string"==typeof i&&(i=R(i)),i instanceof ArrayBuffer||i instanceof K)?new t(i):H(i)?Q(t,i.bytes()):ArrayBuffer.isView(i)?i.byteLength<=0?new t(0):new t(i.buffer,i.byteOffset,i.byteLength/t.BYTES_PER_ELEMENT):t.from(i):new t(0)}let X=t=>Q(Int32Array,t),tt=t=>Q(BigInt64Array,t),te=t=>Q(Uint8Array,t),ti=t=>(t.next(),t),tr=t=>(function*(t,e){let i=function*(t){yield t},r="string"==typeof e||ArrayBuffer.isView(e)||e instanceof ArrayBuffer||e instanceof K?i(e):U(e)?e:i(e);return yield*ti(function*(e){let i=null;do i=e.next((yield Q(t,i)));while(!i.done)}(r[Symbol.iterator]())),new t})(Uint8Array,t),tn=t=>(function t(e,i){return S(this,arguments,function*(){if(M(i))return yield I((yield I((yield*T(E(t(e,(yield I(i)))))))));let r=function(t){return S(this,arguments,function*(){yield yield I((yield I(t)))})},n="string"==typeof i||ArrayBuffer.isView(i)||i instanceof ArrayBuffer||i instanceof K?r(i):U(i)?function(t){return S(this,arguments,function*(){yield I((yield*T(E(ti(function*(t){let e=null;do e=t.next((yield null==e?void 0:e.value));while(!e.done)}(t[Symbol.iterator]()))))))})}(i):k(i)?i:r(i);return yield I((yield*T(E(ti(function(t){return S(this,arguments,function*(){let i=null;do i=yield I(t.next((yield yield I(Q(e,i)))));while(!i.done)})}(n[Symbol.asyncIterator]())))))),yield I(new e)})})(Uint8Array,t);function ts(t,e,i){if(0!==t){i=i.slice(0,e);for(let e=-1,r=i.length;++e<r;)i[e]+=t}return i.subarray(0,e)}function to(t){if("bigint"==typeof t&&(t<Number.MIN_SAFE_INTEGER||t>Number.MAX_SAFE_INTEGER))throw TypeError(`${t} is not safe to convert to a number.`);return Number(t)}function ta(t,e){return to(t/e)+to(t%e)/to(e)}let tl=Symbol.for("isArrowBigNum");function tu(t,...e){return 0===e.length?Object.setPrototypeOf(Q(this.TypedArray,t),this.constructor.prototype):Object.setPrototypeOf(new this.TypedArray(t,...e),this.constructor.prototype)}function tc(...t){return tu.apply(this,t)}function td(...t){return tu.apply(this,t)}function th(...t){return tu.apply(this,t)}tu.prototype[tl]=!0,tu.prototype.toJSON=function(){return`"${ty(this)}"`},tu.prototype.valueOf=function(t){return tf(this,t)},tu.prototype.toString=function(){return ty(this)},tu.prototype[Symbol.toPrimitive]=function(t="default"){switch(t){case"number":return tf(this);case"string":break;case"default":var e;return e=this,8===e.byteLength?new e.BigIntArray(e.buffer,e.byteOffset,1)[0]:ty(e)}return ty(this)},Object.setPrototypeOf(tc.prototype,Object.create(Int32Array.prototype)),Object.setPrototypeOf(td.prototype,Object.create(Uint32Array.prototype)),Object.setPrototypeOf(th.prototype,Object.create(Uint32Array.prototype)),Object.assign(tc.prototype,tu.prototype,{constructor:tc,signed:!0,TypedArray:Int32Array,BigIntArray:BigInt64Array}),Object.assign(td.prototype,tu.prototype,{constructor:td,signed:!1,TypedArray:Uint32Array,BigIntArray:BigUint64Array}),Object.assign(th.prototype,tu.prototype,{constructor:th,signed:!0,TypedArray:Uint32Array,BigIntArray:BigUint64Array});let tp=BigInt(0x100000000)*BigInt(0x100000000)-BigInt(1);function tf(t,e){let{buffer:i,byteOffset:r,byteLength:n,signed:s}=t,o=new BigUint64Array(i,r,n/8),a=s&&o.at(-1)&BigInt(1)<<BigInt(63),l=BigInt(0),u=0;if(a){for(let t of o)l|=(t^tp)*(BigInt(1)<<BigInt(64*u++));l*=BigInt(-1),l-=BigInt(1)}else for(let t of o)l|=t*(BigInt(1)<<BigInt(64*u++));if("number"==typeof e){let t=BigInt(Math.pow(10,e)),i=l/t,r=l%t;return to(i)+to(r)/to(t)}return to(l)}function ty(t){if(8===t.byteLength){let e=new t.BigIntArray(t.buffer,t.byteOffset,1);return`${e[0]}`}if(!t.signed)return tb(t);let e=new Uint16Array(t.buffer,t.byteOffset,t.byteLength/2);if(new Int16Array([e.at(-1)])[0]>=0)return tb(t);e=e.slice();let i=1;for(let t=0;t<e.length;t++){let r=e[t],n=~r+i;e[t]=n,i&=0===r}let r=tb(e);return`-${r}`}function tb(t){let e="",i=new Uint32Array(2),r=new Uint16Array(t.buffer,t.byteOffset,t.byteLength/2),n=new Uint32Array((r=new Uint16Array(r).reverse()).buffer),s=-1,o=r.length-1;do{for(i[0]=r[s=0];s<o;)r[s++]=i[1]=i[0]/10,i[0]=(i[0]-10*i[1]<<16)+r[s];r[s]=i[1]=i[0]/10,i[0]=i[0]-10*i[1],e=`${i[0]}${e}`}while(n[0]||n[1]||n[2]||n[3]);return null!=e?e:"0"}class tm{static new(t,e){switch(e){case!0:return new tc(t);case!1:return new td(t)}switch(t.constructor){case Int8Array:case Int16Array:case Int32Array:case BigInt64Array:return new tc(t)}return 16===t.byteLength?new th(t):new td(t)}static signed(t){return new tc(t)}static unsigned(t){return new td(t)}static decimal(t){return new th(t)}constructor(t,e){return tm.new(t,e)}}(n5=nW||(nW={}))[n5.HALF=0]="HALF",n5[n5.SINGLE=1]="SINGLE",n5[n5.DOUBLE=2]="DOUBLE",(n9=nG||(nG={}))[n9.SECOND=0]="SECOND",n9[n9.MILLISECOND=1]="MILLISECOND",n9[n9.MICROSECOND=2]="MICROSECOND",n9[n9.NANOSECOND=3]="NANOSECOND",(n7=nH||(nH={}))[n7.DAY=0]="DAY",n7[n7.MILLISECOND=1]="MILLISECOND",(st=nK||(nK={}))[st.YEAR_MONTH=0]="YEAR_MONTH",st[st.DAY_TIME=1]="DAY_TIME",st[st.MONTH_DAY_NANO=2]="MONTH_DAY_NANO",(se=nq||(nq={}))[se.Sparse=0]="Sparse",se[se.Dense=1]="Dense";class tg{static isNull(t){return(null==t?void 0:t.typeId)===nZ.Null}static isInt(t){return(null==t?void 0:t.typeId)===nZ.Int}static isFloat(t){return(null==t?void 0:t.typeId)===nZ.Float}static isBinary(t){return(null==t?void 0:t.typeId)===nZ.Binary}static isLargeBinary(t){return(null==t?void 0:t.typeId)===nZ.LargeBinary}static isUtf8(t){return(null==t?void 0:t.typeId)===nZ.Utf8}static isLargeUtf8(t){return(null==t?void 0:t.typeId)===nZ.LargeUtf8}static isBool(t){return(null==t?void 0:t.typeId)===nZ.Bool}static isDecimal(t){return(null==t?void 0:t.typeId)===nZ.Decimal}static isDate(t){return(null==t?void 0:t.typeId)===nZ.Date}static isTime(t){return(null==t?void 0:t.typeId)===nZ.Time}static isTimestamp(t){return(null==t?void 0:t.typeId)===nZ.Timestamp}static isInterval(t){return(null==t?void 0:t.typeId)===nZ.Interval}static isDuration(t){return(null==t?void 0:t.typeId)===nZ.Duration}static isList(t){return(null==t?void 0:t.typeId)===nZ.List}static isStruct(t){return(null==t?void 0:t.typeId)===nZ.Struct}static isUnion(t){return(null==t?void 0:t.typeId)===nZ.Union}static isFixedSizeBinary(t){return(null==t?void 0:t.typeId)===nZ.FixedSizeBinary}static isFixedSizeList(t){return(null==t?void 0:t.typeId)===nZ.FixedSizeList}static isMap(t){return(null==t?void 0:t.typeId)===nZ.Map}static isDictionary(t){return(null==t?void 0:t.typeId)===nZ.Dictionary}static isDenseUnion(t){return tg.isUnion(t)&&t.mode===nq.Dense}static isSparseUnion(t){return tg.isUnion(t)&&t.mode===nq.Sparse}constructor(t){this.typeId=t}}tg[Symbol.toStringTag]=((si=tg.prototype).children=null,si.ArrayType=Array,si.OffsetArrayType=Int32Array,si[Symbol.toStringTag]="DataType");class t_ extends tg{constructor(){super(nZ.Null)}toString(){return"Null"}}t_[Symbol.toStringTag]=t_.prototype[Symbol.toStringTag]="Null";class tv extends tg{constructor(t,e){super(nZ.Int),this.isSigned=t,this.bitWidth=e}get ArrayType(){switch(this.bitWidth){case 8:return this.isSigned?Int8Array:Uint8Array;case 16:return this.isSigned?Int16Array:Uint16Array;case 32:return this.isSigned?Int32Array:Uint32Array;case 64:return this.isSigned?BigInt64Array:BigUint64Array}throw Error(`Unrecognized ${this[Symbol.toStringTag]} type`)}toString(){return`${this.isSigned?"I":"Ui"}nt${this.bitWidth}`}}tv[Symbol.toStringTag]=((sr=tv.prototype).isSigned=null,sr.bitWidth=null,sr[Symbol.toStringTag]="Int");class tw extends tv{constructor(){super(!0,32)}get ArrayType(){return Int32Array}}Object.defineProperty((class extends tv{constructor(){super(!0,8)}get ArrayType(){return Int8Array}}).prototype,"ArrayType",{value:Int8Array}),Object.defineProperty((class extends tv{constructor(){super(!0,16)}get ArrayType(){return Int16Array}}).prototype,"ArrayType",{value:Int16Array}),Object.defineProperty(tw.prototype,"ArrayType",{value:Int32Array}),Object.defineProperty((class extends tv{constructor(){super(!0,64)}get ArrayType(){return BigInt64Array}}).prototype,"ArrayType",{value:BigInt64Array}),Object.defineProperty((class extends tv{constructor(){super(!1,8)}get ArrayType(){return Uint8Array}}).prototype,"ArrayType",{value:Uint8Array}),Object.defineProperty((class extends tv{constructor(){super(!1,16)}get ArrayType(){return Uint16Array}}).prototype,"ArrayType",{value:Uint16Array}),Object.defineProperty((class extends tv{constructor(){super(!1,32)}get ArrayType(){return Uint32Array}}).prototype,"ArrayType",{value:Uint32Array}),Object.defineProperty((class extends tv{constructor(){super(!1,64)}get ArrayType(){return BigUint64Array}}).prototype,"ArrayType",{value:BigUint64Array});class tI extends tg{constructor(t){super(nZ.Float),this.precision=t}get ArrayType(){switch(this.precision){case nW.HALF:return Uint16Array;case nW.SINGLE:return Float32Array;case nW.DOUBLE:return Float64Array}throw Error(`Unrecognized ${this[Symbol.toStringTag]} type`)}toString(){return`Float${this.precision<<5||16}`}}tI[Symbol.toStringTag]=((sn=tI.prototype).precision=null,sn[Symbol.toStringTag]="Float"),Object.defineProperty((class extends tI{constructor(){super(nW.HALF)}}).prototype,"ArrayType",{value:Uint16Array}),Object.defineProperty((class extends tI{constructor(){super(nW.SINGLE)}}).prototype,"ArrayType",{value:Float32Array}),Object.defineProperty((class extends tI{constructor(){super(nW.DOUBLE)}}).prototype,"ArrayType",{value:Float64Array});class tS extends tg{constructor(){super(nZ.Binary)}toString(){return"Binary"}}tS[Symbol.toStringTag]=((ss=tS.prototype).ArrayType=Uint8Array,ss[Symbol.toStringTag]="Binary");class tT extends tg{constructor(){super(nZ.LargeBinary)}toString(){return"LargeBinary"}}tT[Symbol.toStringTag]=((so=tT.prototype).ArrayType=Uint8Array,so.OffsetArrayType=BigInt64Array,so[Symbol.toStringTag]="LargeBinary");class tE extends tg{constructor(){super(nZ.Utf8)}toString(){return"Utf8"}}tE[Symbol.toStringTag]=((sa=tE.prototype).ArrayType=Uint8Array,sa[Symbol.toStringTag]="Utf8");class tA extends tg{constructor(){super(nZ.LargeUtf8)}toString(){return"LargeUtf8"}}tA[Symbol.toStringTag]=((sl=tA.prototype).ArrayType=Uint8Array,sl.OffsetArrayType=BigInt64Array,sl[Symbol.toStringTag]="LargeUtf8");class tO extends tg{constructor(){super(nZ.Bool)}toString(){return"Bool"}}tO[Symbol.toStringTag]=((su=tO.prototype).ArrayType=Uint8Array,su[Symbol.toStringTag]="Bool");class tD extends tg{constructor(t,e,i=128){super(nZ.Decimal),this.scale=t,this.precision=e,this.bitWidth=i}toString(){return`Decimal[${this.precision}e${this.scale>0?"+":""}${this.scale}]`}}tD[Symbol.toStringTag]=((sc=tD.prototype).scale=null,sc.precision=null,sc.ArrayType=Uint32Array,sc[Symbol.toStringTag]="Decimal");class tB extends tg{constructor(t){super(nZ.Date),this.unit=t}toString(){return`Date${(this.unit+1)*32}<${nH[this.unit]}>`}get ArrayType(){return this.unit===nH.DAY?Int32Array:BigInt64Array}}tB[Symbol.toStringTag]=((sd=tB.prototype).unit=null,sd[Symbol.toStringTag]="Date");class tN extends tg{constructor(t,e){super(nZ.Time),this.unit=t,this.bitWidth=e}toString(){return`Time${this.bitWidth}<${nG[this.unit]}>`}get ArrayType(){switch(this.bitWidth){case 32:return Int32Array;case 64:return BigInt64Array}throw Error(`Unrecognized ${this[Symbol.toStringTag]} type`)}}tN[Symbol.toStringTag]=((sh=tN.prototype).unit=null,sh.bitWidth=null,sh[Symbol.toStringTag]="Time");class tR extends tg{constructor(t,e){super(nZ.Timestamp),this.unit=t,this.timezone=e}toString(){return`Timestamp<${nG[this.unit]}${this.timezone?`, ${this.timezone}`:""}>`}}tR[Symbol.toStringTag]=((sp=tR.prototype).unit=null,sp.timezone=null,sp.ArrayType=BigInt64Array,sp[Symbol.toStringTag]="Timestamp");class tF extends tg{constructor(t){super(nZ.Interval),this.unit=t}toString(){return`Interval<${nK[this.unit]}>`}}tF[Symbol.toStringTag]=((sf=tF.prototype).unit=null,sf.ArrayType=Int32Array,sf[Symbol.toStringTag]="Interval");class tx extends tg{constructor(t){super(nZ.Duration),this.unit=t}toString(){return`Duration<${nG[this.unit]}>`}}tx[Symbol.toStringTag]=((sy=tx.prototype).unit=null,sy.ArrayType=BigInt64Array,sy[Symbol.toStringTag]="Duration");class tP extends tg{constructor(t){super(nZ.List),this.children=[t]}toString(){return`List<${this.valueType}>`}get valueType(){return this.children[0].type}get valueField(){return this.children[0]}get ArrayType(){return this.valueType.ArrayType}}tP[Symbol.toStringTag]=((sb=tP.prototype).children=null,sb[Symbol.toStringTag]="List");class tL extends tg{constructor(t){super(nZ.Struct),this.children=t}toString(){return`Struct<{${this.children.map(t=>`${t.name}:${t.type}`).join(", ")}}>`}}tL[Symbol.toStringTag]=((sm=tL.prototype).children=null,sm[Symbol.toStringTag]="Struct");class tM extends tg{constructor(t,e,i){super(nZ.Union),this.mode=t,this.children=i,this.typeIds=e=Int32Array.from(e),this.typeIdToChildIndex=e.reduce((t,e,i)=>(t[e]=i)&&t||t,Object.create(null))}toString(){return`${this[Symbol.toStringTag]}<${this.children.map(t=>`${t.type}`).join(" | ")}>`}}tM[Symbol.toStringTag]=((sg=tM.prototype).mode=null,sg.typeIds=null,sg.children=null,sg.typeIdToChildIndex=null,sg.ArrayType=Int8Array,sg[Symbol.toStringTag]="Union");class tU extends tg{constructor(t){super(nZ.FixedSizeBinary),this.byteWidth=t}toString(){return`FixedSizeBinary[${this.byteWidth}]`}}tU[Symbol.toStringTag]=((s_=tU.prototype).byteWidth=null,s_.ArrayType=Uint8Array,s_[Symbol.toStringTag]="FixedSizeBinary");class tk extends tg{constructor(t,e){super(nZ.FixedSizeList),this.listSize=t,this.children=[e]}get valueType(){return this.children[0].type}get valueField(){return this.children[0]}get ArrayType(){return this.valueType.ArrayType}toString(){return`FixedSizeList[${this.listSize}]<${this.valueType}>`}}tk[Symbol.toStringTag]=((sv=tk.prototype).children=null,sv.listSize=null,sv[Symbol.toStringTag]="FixedSizeList");class tz extends tg{constructor(t,e=!1){var i,r,n;if(super(nZ.Map),this.children=[t],this.keysSorted=e,t&&(t.name="entries",null==(i=null==t?void 0:t.type)?void 0:i.children)){let e=null==(r=null==t?void 0:t.type)?void 0:r.children[0];e&&(e.name="key");let i=null==(n=null==t?void 0:t.type)?void 0:n.children[1];i&&(i.name="value")}}get keyType(){return this.children[0].type.children[0].type}get valueType(){return this.children[0].type.children[1].type}get childType(){return this.children[0].type}toString(){return`Map<{${this.children[0].type.children.map(t=>`${t.name}:${t.type}`).join(", ")}}>`}}tz[Symbol.toStringTag]=((sw=tz.prototype).children=null,sw.keysSorted=null,sw[Symbol.toStringTag]="Map_");let tC=(n=-1,()=>++n);class tj extends tg{constructor(t,e,i,r){super(nZ.Dictionary),this.indices=e,this.dictionary=t,this.isOrdered=r||!1,this.id=null==i?tC():to(i)}get children(){return this.dictionary.children}get valueType(){return this.dictionary}get ArrayType(){return this.dictionary.ArrayType}toString(){return`Dictionary<${this.indices}, ${this.dictionary}>`}}function tV(t){switch(t.typeId){case nZ.Decimal:return t.bitWidth/32;case nZ.Interval:return 1+t.unit;case nZ.FixedSizeList:return t.listSize;case nZ.FixedSizeBinary:return t.byteWidth;default:return 1}}tj[Symbol.toStringTag]=((sI=tj.prototype).id=null,sI.indices=null,sI.isOrdered=null,sI.dictionary=null,sI[Symbol.toStringTag]="Dictionary");class t${visitMany(t,...e){return t.map((t,i)=>this.visit(t,...e.map(t=>t[i])))}visit(...t){return this.getVisitFn(t[0],!1).apply(this,t)}getVisitFn(t,e=!0){return function(t,e,i=!0){return"number"==typeof e?tZ(t,e,i):"string"==typeof e&&e in nZ?tZ(t,nZ[e],i):e&&e instanceof tg?tZ(t,tY(e),i):(null==e?void 0:e.type)&&e.type instanceof tg?tZ(t,tY(e.type),i):tZ(t,nZ.NONE,i)}(this,t,e)}getVisitFnByTypeId(t,e=!0){return tZ(this,t,e)}visitNull(t,...e){return null}visitBool(t,...e){return null}visitInt(t,...e){return null}visitFloat(t,...e){return null}visitUtf8(t,...e){return null}visitLargeUtf8(t,...e){return null}visitBinary(t,...e){return null}visitLargeBinary(t,...e){return null}visitFixedSizeBinary(t,...e){return null}visitDate(t,...e){return null}visitTimestamp(t,...e){return null}visitTime(t,...e){return null}visitDecimal(t,...e){return null}visitList(t,...e){return null}visitStruct(t,...e){return null}visitUnion(t,...e){return null}visitDictionary(t,...e){return null}visitInterval(t,...e){return null}visitDuration(t,...e){return null}visitFixedSizeList(t,...e){return null}visitMap(t,...e){return null}}function tZ(t,e,i=!0){let r=null;switch(e){case nZ.Null:r=t.visitNull;break;case nZ.Bool:r=t.visitBool;break;case nZ.Int:r=t.visitInt;break;case nZ.Int8:r=t.visitInt8||t.visitInt;break;case nZ.Int16:r=t.visitInt16||t.visitInt;break;case nZ.Int32:r=t.visitInt32||t.visitInt;break;case nZ.Int64:r=t.visitInt64||t.visitInt;break;case nZ.Uint8:r=t.visitUint8||t.visitInt;break;case nZ.Uint16:r=t.visitUint16||t.visitInt;break;case nZ.Uint32:r=t.visitUint32||t.visitInt;break;case nZ.Uint64:r=t.visitUint64||t.visitInt;break;case nZ.Float:r=t.visitFloat;break;case nZ.Float16:r=t.visitFloat16||t.visitFloat;break;case nZ.Float32:r=t.visitFloat32||t.visitFloat;break;case nZ.Float64:r=t.visitFloat64||t.visitFloat;break;case nZ.Utf8:r=t.visitUtf8;break;case nZ.LargeUtf8:r=t.visitLargeUtf8;break;case nZ.Binary:r=t.visitBinary;break;case nZ.LargeBinary:r=t.visitLargeBinary;break;case nZ.FixedSizeBinary:r=t.visitFixedSizeBinary;break;case nZ.Date:r=t.visitDate;break;case nZ.DateDay:r=t.visitDateDay||t.visitDate;break;case nZ.DateMillisecond:r=t.visitDateMillisecond||t.visitDate;break;case nZ.Timestamp:r=t.visitTimestamp;break;case nZ.TimestampSecond:r=t.visitTimestampSecond||t.visitTimestamp;break;case nZ.TimestampMillisecond:r=t.visitTimestampMillisecond||t.visitTimestamp;break;case nZ.TimestampMicrosecond:r=t.visitTimestampMicrosecond||t.visitTimestamp;break;case nZ.TimestampNanosecond:r=t.visitTimestampNanosecond||t.visitTimestamp;break;case nZ.Time:r=t.visitTime;break;case nZ.TimeSecond:r=t.visitTimeSecond||t.visitTime;break;case nZ.TimeMillisecond:r=t.visitTimeMillisecond||t.visitTime;break;case nZ.TimeMicrosecond:r=t.visitTimeMicrosecond||t.visitTime;break;case nZ.TimeNanosecond:r=t.visitTimeNanosecond||t.visitTime;break;case nZ.Decimal:r=t.visitDecimal;break;case nZ.List:r=t.visitList;break;case nZ.Struct:r=t.visitStruct;break;case nZ.Union:r=t.visitUnion;break;case nZ.DenseUnion:r=t.visitDenseUnion||t.visitUnion;break;case nZ.SparseUnion:r=t.visitSparseUnion||t.visitUnion;break;case nZ.Dictionary:r=t.visitDictionary;break;case nZ.Interval:r=t.visitInterval;break;case nZ.IntervalDayTime:r=t.visitIntervalDayTime||t.visitInterval;break;case nZ.IntervalYearMonth:r=t.visitIntervalYearMonth||t.visitInterval;break;case nZ.Duration:r=t.visitDuration;break;case nZ.DurationSecond:r=t.visitDurationSecond||t.visitDuration;break;case nZ.DurationMillisecond:r=t.visitDurationMillisecond||t.visitDuration;break;case nZ.DurationMicrosecond:r=t.visitDurationMicrosecond||t.visitDuration;break;case nZ.DurationNanosecond:r=t.visitDurationNanosecond||t.visitDuration;break;case nZ.FixedSizeList:r=t.visitFixedSizeList;break;case nZ.Map:r=t.visitMap}if("function"==typeof r)return r;if(!i)return()=>null;throw Error(`Unrecognized type '${nZ[e]}'`)}function tY(t){switch(t.typeId){case nZ.Null:return nZ.Null;case nZ.Int:{let{bitWidth:e,isSigned:i}=t;switch(e){case 8:return i?nZ.Int8:nZ.Uint8;case 16:return i?nZ.Int16:nZ.Uint16;case 32:return i?nZ.Int32:nZ.Uint32;case 64:return i?nZ.Int64:nZ.Uint64}return nZ.Int}case nZ.Float:switch(t.precision){case nW.HALF:return nZ.Float16;case nW.SINGLE:return nZ.Float32;case nW.DOUBLE:return nZ.Float64}return nZ.Float;case nZ.Binary:return nZ.Binary;case nZ.LargeBinary:return nZ.LargeBinary;case nZ.Utf8:return nZ.Utf8;case nZ.LargeUtf8:return nZ.LargeUtf8;case nZ.Bool:return nZ.Bool;case nZ.Decimal:return nZ.Decimal;case nZ.Time:switch(t.unit){case nG.SECOND:return nZ.TimeSecond;case nG.MILLISECOND:return nZ.TimeMillisecond;case nG.MICROSECOND:return nZ.TimeMicrosecond;case nG.NANOSECOND:return nZ.TimeNanosecond}return nZ.Time;case nZ.Timestamp:switch(t.unit){case nG.SECOND:return nZ.TimestampSecond;case nG.MILLISECOND:return nZ.TimestampMillisecond;case nG.MICROSECOND:return nZ.TimestampMicrosecond;case nG.NANOSECOND:return nZ.TimestampNanosecond}return nZ.Timestamp;case nZ.Date:switch(t.unit){case nH.DAY:return nZ.DateDay;case nH.MILLISECOND:return nZ.DateMillisecond}return nZ.Date;case nZ.Interval:switch(t.unit){case nK.DAY_TIME:return nZ.IntervalDayTime;case nK.YEAR_MONTH:return nZ.IntervalYearMonth}return nZ.Interval;case nZ.Duration:switch(t.unit){case nG.SECOND:return nZ.DurationSecond;case nG.MILLISECOND:return nZ.DurationMillisecond;case nG.MICROSECOND:return nZ.DurationMicrosecond;case nG.NANOSECOND:return nZ.DurationNanosecond}return nZ.Duration;case nZ.Map:return nZ.Map;case nZ.List:return nZ.List;case nZ.Struct:return nZ.Struct;case nZ.Union:switch(t.mode){case nq.Dense:return nZ.DenseUnion;case nq.Sparse:return nZ.SparseUnion}return nZ.Union;case nZ.FixedSizeBinary:return nZ.FixedSizeBinary;case nZ.FixedSizeList:return nZ.FixedSizeList;case nZ.Dictionary:return nZ.Dictionary}throw Error(`Unrecognized type '${nZ[t.typeId]}'`)}t$.prototype.visitInt8=null,t$.prototype.visitInt16=null,t$.prototype.visitInt32=null,t$.prototype.visitInt64=null,t$.prototype.visitUint8=null,t$.prototype.visitUint16=null,t$.prototype.visitUint32=null,t$.prototype.visitUint64=null,t$.prototype.visitFloat16=null,t$.prototype.visitFloat32=null,t$.prototype.visitFloat64=null,t$.prototype.visitDateDay=null,t$.prototype.visitDateMillisecond=null,t$.prototype.visitTimestampSecond=null,t$.prototype.visitTimestampMillisecond=null,t$.prototype.visitTimestampMicrosecond=null,t$.prototype.visitTimestampNanosecond=null,t$.prototype.visitTimeSecond=null,t$.prototype.visitTimeMillisecond=null,t$.prototype.visitTimeMicrosecond=null,t$.prototype.visitTimeNanosecond=null,t$.prototype.visitDenseUnion=null,t$.prototype.visitSparseUnion=null,t$.prototype.visitIntervalDayTime=null,t$.prototype.visitIntervalYearMonth=null,t$.prototype.visitDuration=null,t$.prototype.visitDurationSecond=null,t$.prototype.visitDurationMillisecond=null,t$.prototype.visitDurationMicrosecond=null,t$.prototype.visitDurationNanosecond=null;let tW=new Float64Array(1),tG=new Uint32Array(tW.buffer);function tH(t){let e=(31744&t)>>10,i=(1023&t)/1024,r=Math.pow(-1,(32768&t)>>15);switch(e){case 31:return r*(i?Number.NaN:1/0);case 0:return r*(i?6103515625e-14*i:0)}return r*Math.pow(2,e-15)*(1+i)}class tK extends t${}function tq(t){return(e,i,r)=>{if(e.setValid(i,null!=r))return t(e,i,r)}}let tJ=(t,e,i)=>{t[e]=Math.floor(i/864e5)},tQ=(t,e,i,r)=>{if(i+1<e.length){let n=to(e[i]),s=to(e[i+1]);t.set(r.subarray(0,s-n),n)}},tX=({values:t},e,i)=>{t[e]=i},t0=({values:t},e,i)=>{t[e]=i},t1=({values:t},e,i)=>{t[e]=function(t){if(t!=t)return 32256;tW[0]=t;let e=(0x80000000&tG[1])>>16&65535,i=0x7ff00000&tG[1],r=0;return i>=0x40f00000?tG[0]>0?i=31744:(i=(0x7c000000&i)>>16,r=(1048575&tG[1])>>10):i<=0x3f000000?(r=1048576+((r=1048576+(1048575&tG[1]))<<(i>>20)-998)>>21,i=0):(i=i-0x3f000000>>10,r=(1048575&tG[1])+512>>10),e|i|65535&r}(i)},t2=({values:t},e,i)=>{tJ(t,e,i.valueOf())},t3=({values:t},e,i)=>{t[e]=BigInt(i)},t4=({values:t,valueOffsets:e},i,r)=>tQ(t,e,i,r),t6=({values:t,valueOffsets:e},i,r)=>tQ(t,e,i,R(r)),t8=({values:t},e,i)=>{t[e]=BigInt(i/1e3)},t5=({values:t},e,i)=>{t[e]=BigInt(i)},t9=({values:t},e,i)=>{t[e]=BigInt(1e3*i)},t7=({values:t},e,i)=>{t[e]=BigInt(1e6*i)},et=({values:t},e,i)=>{t[e]=i},ee=({values:t},e,i)=>{t[e]=i},ei=({values:t},e,i)=>{t[e]=i},er=({values:t},e,i)=>{t[e]=i},en=(t,e)=>(i,r,n,s)=>r&&i(r,t,e[s]),es=(t,e)=>(i,r,n,s)=>r&&i(r,t,e.get(s)),eo=(t,e)=>(i,r,n,s)=>r&&i(r,t,e.get(n.name)),ea=(t,e)=>(i,r,n,s)=>r&&i(r,t,e[n.name]),el=(t,e,i)=>{let r=t.type.typeIdToChildIndex[t.typeIds[e]],n=t.children[r];eb.visit(n,t.valueOffsets[e],i)},eu=(t,e,i)=>{let r=t.type.typeIdToChildIndex[t.typeIds[e]],n=t.children[r];eb.visit(n,e,i)},ec=({values:t},e,i)=>{t.set(i.subarray(0,2),2*e)},ed=({values:t},e,i)=>{t[e]=12*i[0]+i[1]%12},eh=({values:t},e,i)=>{t[e]=i},ep=({values:t},e,i)=>{t[e]=i},ef=({values:t},e,i)=>{t[e]=i},ey=({values:t},e,i)=>{t[e]=i};tK.prototype.visitBool=tq(({offset:t,values:e},i,r)=>{let n=t+i;r?e[n>>3]|=1<<n%8:e[n>>3]&=~(1<<n%8)}),tK.prototype.visitInt=tq(tX),tK.prototype.visitInt8=tq(tX),tK.prototype.visitInt16=tq(tX),tK.prototype.visitInt32=tq(tX),tK.prototype.visitInt64=tq(tX),tK.prototype.visitUint8=tq(tX),tK.prototype.visitUint16=tq(tX),tK.prototype.visitUint32=tq(tX),tK.prototype.visitUint64=tq(tX),tK.prototype.visitFloat=tq((t,e,i)=>{switch(t.type.precision){case nW.HALF:return t1(t,e,i);case nW.SINGLE:case nW.DOUBLE:return t0(t,e,i)}}),tK.prototype.visitFloat16=tq(t1),tK.prototype.visitFloat32=tq(t0),tK.prototype.visitFloat64=tq(t0),tK.prototype.visitUtf8=tq(t6),tK.prototype.visitLargeUtf8=tq(t6),tK.prototype.visitBinary=tq(t4),tK.prototype.visitLargeBinary=tq(t4),tK.prototype.visitFixedSizeBinary=tq(({stride:t,values:e},i,r)=>{e.set(r.subarray(0,t),t*i)}),tK.prototype.visitDate=tq((t,e,i)=>{t.type.unit===nH.DAY?t2(t,e,i):t3(t,e,i)}),tK.prototype.visitDateDay=tq(t2),tK.prototype.visitDateMillisecond=tq(t3),tK.prototype.visitTimestamp=tq((t,e,i)=>{switch(t.type.unit){case nG.SECOND:return t8(t,e,i);case nG.MILLISECOND:return t5(t,e,i);case nG.MICROSECOND:return t9(t,e,i);case nG.NANOSECOND:return t7(t,e,i)}}),tK.prototype.visitTimestampSecond=tq(t8),tK.prototype.visitTimestampMillisecond=tq(t5),tK.prototype.visitTimestampMicrosecond=tq(t9),tK.prototype.visitTimestampNanosecond=tq(t7),tK.prototype.visitTime=tq((t,e,i)=>{switch(t.type.unit){case nG.SECOND:return et(t,e,i);case nG.MILLISECOND:return ee(t,e,i);case nG.MICROSECOND:return ei(t,e,i);case nG.NANOSECOND:return er(t,e,i)}}),tK.prototype.visitTimeSecond=tq(et),tK.prototype.visitTimeMillisecond=tq(ee),tK.prototype.visitTimeMicrosecond=tq(ei),tK.prototype.visitTimeNanosecond=tq(er),tK.prototype.visitDecimal=tq(({values:t,stride:e},i,r)=>{t.set(r.subarray(0,e),e*i)}),tK.prototype.visitList=tq((t,e,i)=>{let r=t.children[0],n=t.valueOffsets,s=eb.getVisitFn(r);if(Array.isArray(i))for(let t=-1,o=n[e],a=n[e+1];o<a;)s(r,o++,i[++t]);else for(let t=-1,o=n[e],a=n[e+1];o<a;)s(r,o++,i.get(++t))}),tK.prototype.visitStruct=tq((t,e,i)=>{let r=t.type.children.map(t=>eb.getVisitFn(t.type)),n=i instanceof Map?eo(e,i):i instanceof iE?es(e,i):Array.isArray(i)?en(e,i):ea(e,i);t.type.children.forEach((e,i)=>n(r[i],t.children[i],e,i))}),tK.prototype.visitUnion=tq((t,e,i)=>{t.type.mode===nq.Dense?el(t,e,i):eu(t,e,i)}),tK.prototype.visitDenseUnion=tq(el),tK.prototype.visitSparseUnion=tq(eu),tK.prototype.visitDictionary=tq((t,e,i)=>{var r;null==(r=t.dictionary)||r.set(t.values[e],i)}),tK.prototype.visitInterval=tq((t,e,i)=>{t.type.unit===nK.DAY_TIME?ec(t,e,i):ed(t,e,i)}),tK.prototype.visitIntervalDayTime=tq(ec),tK.prototype.visitIntervalYearMonth=tq(ed),tK.prototype.visitDuration=tq((t,e,i)=>{switch(t.type.unit){case nG.SECOND:return eh(t,e,i);case nG.MILLISECOND:return ep(t,e,i);case nG.MICROSECOND:return ef(t,e,i);case nG.NANOSECOND:return ey(t,e,i)}}),tK.prototype.visitDurationSecond=tq(eh),tK.prototype.visitDurationMillisecond=tq(ep),tK.prototype.visitDurationMicrosecond=tq(ef),tK.prototype.visitDurationNanosecond=tq(ey),tK.prototype.visitFixedSizeList=tq((t,e,i)=>{let{stride:r}=t,n=t.children[0],s=eb.getVisitFn(n);if(Array.isArray(i))for(let t=-1,o=e*r;++t<r;)s(n,o+t,i[t]);else for(let t=-1,o=e*r;++t<r;)s(n,o+t,i.get(t))}),tK.prototype.visitMap=tq((t,e,i)=>{let r=t.children[0],{valueOffsets:n}=t,s=eb.getVisitFn(r),{[e]:o,[e+1]:a}=n;for(let t of i instanceof Map?i.entries():Object.entries(i))if(s(r,o,t),++o>=a)break});let eb=new tK,em=Symbol.for("parent"),eg=Symbol.for("rowIndex");class e_{constructor(t,e){return this[em]=t,this[eg]=e,new Proxy(this,new ew)}toArray(){return Object.values(this.toJSON())}toJSON(){let t=this[eg],e=this[em],i=e.type.children,r={};for(let n=-1,s=i.length;++n<s;)r[i[n].name]=eH.visit(e.children[n],t);return r}toString(){return`{${[...this].map(([t,e])=>`${O(t)}: ${O(e)}`).join(", ")}}`}[Symbol.for("nodejs.util.inspect.custom")](){return this.toString()}[Symbol.iterator](){return new ev(this[em],this[eg])}}class ev{constructor(t,e){this.childIndex=0,this.children=t.children,this.rowIndex=e,this.childFields=t.type.children,this.numChildren=this.childFields.length}[Symbol.iterator](){return this}next(){let t=this.childIndex;return t<this.numChildren?(this.childIndex=t+1,{done:!1,value:[this.childFields[t].name,eH.visit(this.children[t],this.rowIndex)]}):{done:!0,value:null}}}Object.defineProperties(e_.prototype,{[Symbol.toStringTag]:{enumerable:!1,configurable:!1,value:"Row"},[em]:{writable:!0,enumerable:!1,configurable:!1,value:null},[eg]:{writable:!0,enumerable:!1,configurable:!1,value:-1}});class ew{isExtensible(){return!1}deleteProperty(){return!1}preventExtensions(){return!0}ownKeys(t){return t[em].type.children.map(t=>t.name)}has(t,e){return -1!==t[em].type.children.findIndex(t=>t.name===e)}getOwnPropertyDescriptor(t,e){if(-1!==t[em].type.children.findIndex(t=>t.name===e))return{writable:!0,enumerable:!0,configurable:!0}}get(t,e){if(Reflect.has(t,e))return t[e];let i=t[em].type.children.findIndex(t=>t.name===e);if(-1!==i){let r=eH.visit(t[em].children[i],t[eg]);return Reflect.set(t,e,r),r}}set(t,e,i){let r=t[em].type.children.findIndex(t=>t.name===e);return -1!==r?(eb.visit(t[em].children[r],t[eg],i),Reflect.set(t,e,i)):(!!Reflect.has(t,e)||"symbol"==typeof e)&&Reflect.set(t,e,i)}}class eI extends t${}function eS(t){return(e,i)=>e.getValid(i)?t(e,i):null}let eT=(t,e)=>864e5*t[e],eE=(t,e,i)=>{if(i+1>=e.length)return null;let r=to(e[i]),n=to(e[i+1]);return t.subarray(r,n)},eA=({values:t},e)=>eT(t,e),eO=({values:t},e)=>to(t[e]),eD=({stride:t,values:e},i)=>e[t*i],eB=({values:t},e)=>t[e],eN=({values:t,valueOffsets:e},i)=>eE(t,e,i),eR=({values:t,valueOffsets:e},i)=>{let r=eE(t,e,i);return null!==r?B(r):null},eF=({values:t},e)=>1e3*to(t[e]),ex=({values:t},e)=>to(t[e]),eP=({values:t},e)=>ta(t[e],BigInt(1e3)),eL=({values:t},e)=>ta(t[e],BigInt(1e6)),eM=({values:t},e)=>t[e],eU=({values:t},e)=>t[e],ek=({values:t},e)=>t[e],ez=({values:t},e)=>t[e],eC=(t,e)=>{let i=t.type.typeIdToChildIndex[t.typeIds[e]],r=t.children[i];return eH.visit(r,t.valueOffsets[e])},ej=(t,e)=>{let i=t.type.typeIdToChildIndex[t.typeIds[e]],r=t.children[i];return eH.visit(r,e)},eV=({values:t},e)=>t.subarray(2*e,2*(e+1)),e$=({values:t},e)=>{let i=t[e],r=new Int32Array(2);return r[0]=Math.trunc(i/12),r[1]=Math.trunc(i%12),r},eZ=({values:t},e)=>t[e],eY=({values:t},e)=>t[e],eW=({values:t},e)=>t[e],eG=({values:t},e)=>t[e];eI.prototype.visitNull=eS((t,e)=>null),eI.prototype.visitBool=eS(({offset:t,values:e},i)=>{let r=t+i;return(e[r>>3]&1<<r%8)!=0}),eI.prototype.visitInt=eS(({values:t},e)=>t[e]),eI.prototype.visitInt8=eS(eD),eI.prototype.visitInt16=eS(eD),eI.prototype.visitInt32=eS(eD),eI.prototype.visitInt64=eS(eB),eI.prototype.visitUint8=eS(eD),eI.prototype.visitUint16=eS(eD),eI.prototype.visitUint32=eS(eD),eI.prototype.visitUint64=eS(eB),eI.prototype.visitFloat=eS(({type:t,values:e},i)=>t.precision!==nW.HALF?e[i]:tH(e[i])),eI.prototype.visitFloat16=eS(({stride:t,values:e},i)=>tH(e[t*i])),eI.prototype.visitFloat32=eS(eD),eI.prototype.visitFloat64=eS(eD),eI.prototype.visitUtf8=eS(eR),eI.prototype.visitLargeUtf8=eS(eR),eI.prototype.visitBinary=eS(eN),eI.prototype.visitLargeBinary=eS(eN),eI.prototype.visitFixedSizeBinary=eS(({stride:t,values:e},i)=>e.subarray(t*i,t*(i+1))),eI.prototype.visitDate=eS((t,e)=>t.type.unit===nH.DAY?eA(t,e):eO(t,e)),eI.prototype.visitDateDay=eS(eA),eI.prototype.visitDateMillisecond=eS(eO),eI.prototype.visitTimestamp=eS((t,e)=>{switch(t.type.unit){case nG.SECOND:return eF(t,e);case nG.MILLISECOND:return ex(t,e);case nG.MICROSECOND:return eP(t,e);case nG.NANOSECOND:return eL(t,e)}}),eI.prototype.visitTimestampSecond=eS(eF),eI.prototype.visitTimestampMillisecond=eS(ex),eI.prototype.visitTimestampMicrosecond=eS(eP),eI.prototype.visitTimestampNanosecond=eS(eL),eI.prototype.visitTime=eS((t,e)=>{switch(t.type.unit){case nG.SECOND:return eM(t,e);case nG.MILLISECOND:return eU(t,e);case nG.MICROSECOND:return ek(t,e);case nG.NANOSECOND:return ez(t,e)}}),eI.prototype.visitTimeSecond=eS(eM),eI.prototype.visitTimeMillisecond=eS(eU),eI.prototype.visitTimeMicrosecond=eS(ek),eI.prototype.visitTimeNanosecond=eS(ez),eI.prototype.visitDecimal=eS(({values:t,stride:e},i)=>tm.decimal(t.subarray(e*i,e*(i+1)))),eI.prototype.visitList=eS((t,e)=>{let{valueOffsets:i,stride:r,children:n}=t,{[e*r]:s,[e*r+1]:o}=i;return new iE([n[0].slice(s,o-s)])}),eI.prototype.visitStruct=eS((t,e)=>new e_(t,e)),eI.prototype.visitUnion=eS((t,e)=>t.type.mode===nq.Dense?eC(t,e):ej(t,e)),eI.prototype.visitDenseUnion=eS(eC),eI.prototype.visitSparseUnion=eS(ej),eI.prototype.visitDictionary=eS((t,e)=>{var i;return null==(i=t.dictionary)?void 0:i.get(t.values[e])}),eI.prototype.visitInterval=eS((t,e)=>t.type.unit===nK.DAY_TIME?eV(t,e):e$(t,e)),eI.prototype.visitIntervalDayTime=eS(eV),eI.prototype.visitIntervalYearMonth=eS(e$),eI.prototype.visitDuration=eS((t,e)=>{switch(t.type.unit){case nG.SECOND:return eZ(t,e);case nG.MILLISECOND:return eY(t,e);case nG.MICROSECOND:return eW(t,e);case nG.NANOSECOND:return eG(t,e)}}),eI.prototype.visitDurationSecond=eS(eZ),eI.prototype.visitDurationMillisecond=eS(eY),eI.prototype.visitDurationMicrosecond=eS(eW),eI.prototype.visitDurationNanosecond=eS(eG),eI.prototype.visitFixedSizeList=eS((t,e)=>{let{stride:i,children:r}=t;return new iE([r[0].slice(e*i,i)])}),eI.prototype.visitMap=eS((t,e)=>{let{valueOffsets:i,children:r}=t,{[e]:n,[e+1]:s}=i;return new eX(r[0].slice(n,s-n))});let eH=new eI,eK=Symbol.for("keys"),eq=Symbol.for("vals"),eJ=Symbol.for("kKeysAsStrings"),eQ=Symbol.for("_kKeysAsStrings");class eX{constructor(t){return this[eK]=new iE([t.children[0]]).memoize(),this[eq]=t.children[1],new Proxy(this,new e1)}get[eJ](){return this[eQ]||(this[eQ]=Array.from(this[eK].toArray(),String))}[Symbol.iterator](){return new e0(this[eK],this[eq])}get size(){return this[eK].length}toArray(){return Object.values(this.toJSON())}toJSON(){let t=this[eK],e=this[eq],i={};for(let r=-1,n=t.length;++r<n;)i[t.get(r)]=eH.visit(e,r);return i}toString(){return`{${[...this].map(([t,e])=>`${O(t)}: ${O(e)}`).join(", ")}}`}[Symbol.for("nodejs.util.inspect.custom")](){return this.toString()}}class e0{constructor(t,e){this.keys=t,this.vals=e,this.keyIndex=0,this.numKeys=t.length}[Symbol.iterator](){return this}next(){let t=this.keyIndex;return t===this.numKeys?{done:!0,value:null}:(this.keyIndex++,{done:!1,value:[this.keys.get(t),eH.visit(this.vals,t)]})}}class e1{isExtensible(){return!1}deleteProperty(){return!1}preventExtensions(){return!0}ownKeys(t){return t[eJ]}has(t,e){return t[eJ].includes(e)}getOwnPropertyDescriptor(t,e){if(-1!==t[eJ].indexOf(e))return{writable:!0,enumerable:!0,configurable:!0}}get(t,e){if(Reflect.has(t,e))return t[e];let i=t[eJ].indexOf(e);if(-1!==i){let r=eH.visit(Reflect.get(t,eq),i);return Reflect.set(t,e,r),r}}set(t,e,i){let r=t[eJ].indexOf(e);return -1!==r?(eb.visit(Reflect.get(t,eq),r,i),Reflect.set(t,e,i)):!!Reflect.has(t,e)&&Reflect.set(t,e,i)}}function e2(t,e,i,n){let{length:s=0}=t,o="number"!=typeof e?0:e,a="number"!=typeof i?s:i;return o<0&&(o=(o%s+s)%s),a<0&&(a=(a%s+s)%s),a<o&&(r=o,o=a,a=r),a>s&&(a=s),n?n(t,o,a):[o,a]}Object.defineProperties(eX.prototype,{[Symbol.toStringTag]:{enumerable:!1,configurable:!1,value:"Row"},[eK]:{writable:!0,enumerable:!1,configurable:!1,value:null},[eq]:{writable:!0,enumerable:!1,configurable:!1,value:null},[eQ]:{writable:!0,enumerable:!1,configurable:!1,value:null}});let e3=(t,e)=>t<0?e+t:t,e4=t=>t!=t;function e6(t){if("object"!=typeof t||null===t)return e4(t)?e4:e=>e===t;if(t instanceof Date){let e=t.valueOf();return t=>t instanceof Date&&t.valueOf()===e}return ArrayBuffer.isView(t)?e=>!!e&&function(t,e){let i=0,r=t.length;if(r!==e.length)return!1;if(r>0)do if(t[i]!==e[i])return!1;while(++i<r);return!0}(t,e):t instanceof Map?function(t){let e=-1,i=[];for(let r of t.values())i[++e]=e6(r);return e8(i)}(t):Array.isArray(t)?function(t){let e=[];for(let i=-1,r=t.length;++i<r;)e[i]=e6(t[i]);return e8(e)}(t):t instanceof iE?function(t){let e=[];for(let i=-1,r=t.length;++i<r;)e[i]=e6(t.get(i));return e8(e)}(t):function(t,e=!1){let i=Object.keys(t);if(!e&&0===i.length)return()=>!1;let r=[];for(let e=-1,n=i.length;++e<n;)r[e]=e6(t[i[e]]);return e8(r,i)}(t,!0)}function e8(t,e){return i=>{if(!i||"object"!=typeof i)return!1;switch(i.constructor){case Array:var r=t,n=i;let s=r.length;if(n.length!==s)return!1;for(let t=-1;++t<s;)if(!r[t](n[t]))return!1;return!0;case Map:return e5(t,i,i.keys());case eX:case e_:case Object:case void 0:return e5(t,i,e||Object.keys(i))}return i instanceof iE&&function(t,e){let i=t.length;if(e.length!==i)return!1;for(let r=-1;++r<i;)if(!t[r](e.get(r)))return!1;return!0}(t,i)}}function e5(t,e,i){let r=i[Symbol.iterator](),n=e instanceof Map?e.keys():Object.keys(e)[Symbol.iterator](),s=e instanceof Map?e.values():Object.values(e)[Symbol.iterator](),o=0,a=t.length,l=s.next(),u=r.next(),c=n.next();for(;o<a&&!u.done&&!c.done&&!l.done&&u.value===c.value&&t[o](l.value);++o,u=r.next(),c=n.next(),l=s.next());return o===a&&!!u.done&&!!c.done&&!!l.done||(r.return&&r.return(),n.return&&n.return(),s.return&&s.return(),!1)}class e9{constructor(t=0,e){this.numChunks=t,this.getChunkIterator=e,this.chunkIndex=0,this.chunkIterator=this.getChunkIterator(0)}next(){for(;this.chunkIndex<this.numChunks;){let t=this.chunkIterator.next();if(!t.done)return t;++this.chunkIndex<this.numChunks&&(this.chunkIterator=this.getChunkIterator(this.chunkIndex))}return{done:!0,value:null}}[Symbol.iterator](){return this}}function e7(t){return t.reduce((t,e)=>t+e.nullCount,0)}function it(t){return t.reduce((t,e,i)=>(t[i+1]=t[i]+e.length,t),new Uint32Array(t.length+1))}function ie(t,e,i,r){let n=[];for(let s=-1,o=t.length;++s<o;){let o=t[s],a=e[s],{length:l}=o;if(a>=r)break;if(i>=a+l)continue;if(a>=i&&a+l<=r){n.push(o);continue}let u=Math.max(0,i-a),c=Math.min(r-a,l);n.push(o.slice(u,c-u))}return 0===n.length&&n.push(t[0].slice(0,0)),n}function ii(t,e,i,r){let n=0,s=0,o=e.length-1;do{if(n>=o-1)return i<e[o]?r(t,n,i-e[n]):null;i<e[s=n+Math.trunc((o-n)*.5)]?o=s:n=s}while(n<o)}function ir(t,e){return t.getValid(e)}function is(t){function e(e,i,r){return t(e[i],r)}return function(t){return ii(this.data,this._offsets,t,e)}}function io(t){let e;function i(i,r,n){return t(i[r],n,e)}return function(t,r){let n=this.data;e=r;let s=ii(n,this._offsets,t,i);return e=void 0,s}}function ia(t){let e;function i(i,r,n){let s=n,o=0,a=0;for(let n=r-1,l=i.length;++n<l;){let r=i[n];if(~(o=t(r,e,s)))return a+o;s=0,a+=r.length}return -1}return function(t,r){e=t;let n=this.data,s="number"!=typeof r?i(n,0,0):ii(n,this._offsets,r,i);return e=void 0,s}}function il(t,e,i,r){return(i&1<<r)!=0}function iu(t,e,i,r){return(i&1<<r)>>r}function ic(t,e,i){let r=i.byteLength+7&-8;if(t>0||i.byteLength<r){let n=new Uint8Array(r);return n.set(t%8==0?i.subarray(t>>3):id(new ih(i,t,e,null,il)).subarray(0,r)),n}return i}function id(t){let e=[],i=0,r=0,n=0;for(let s of t)s&&(n|=1<<r),8==++r&&(e[i++]=n,n=r=0);(0===i||r>0)&&(e[i++]=n);let s=new Uint8Array(e.length+7&-8);return s.set(e),s}class ih{constructor(t,e,i,r,n){this.bytes=t,this.length=i,this.context=r,this.get=n,this.bit=e%8,this.byteIndex=e>>3,this.byte=t[this.byteIndex++],this.index=0}next(){return this.index<this.length?(8===this.bit&&(this.bit=0,this.byte=this.bytes[this.byteIndex++]),{value:this.get(this.context,this.index++,this.byte,this.bit++)}):{done:!0,value:null}}[Symbol.iterator](){return this}}function ip(t){let e=Math.trunc(t);return e-=e>>>1&0x55555555,((e=(0x33333333&e)+(e>>>2&0x33333333))+(e>>>4)&0xf0f0f0f)*0x1010101>>>24}class iy extends t${}function ib(t,e,i){if(void 0===e)return -1;if(null===e)switch(t.typeId){case nZ.Union:case nZ.Dictionary:break;default:let{nullBitmap:r}=t;if(!r||t.nullCount<=0)return -1;let n=0;for(let e of new ih(r,t.offset+(i||0),t.length,r,il)){if(!e)return n;++n}return -1}let s=eH.getVisitFn(t),o=e6(e);for(let e=(i||0)-1,r=t.length;++e<r;)if(o(s(t,e)))return e;return -1}function im(t,e,i){let r=eH.getVisitFn(t),n=e6(e);for(let e=(i||0)-1,s=t.length;++e<s;)if(n(r(t,e)))return e;return -1}iy.prototype.visitNull=function(t,e){return null===e&&t.length>0?0:-1},iy.prototype.visitBool=ib,iy.prototype.visitInt=ib,iy.prototype.visitInt8=ib,iy.prototype.visitInt16=ib,iy.prototype.visitInt32=ib,iy.prototype.visitInt64=ib,iy.prototype.visitUint8=ib,iy.prototype.visitUint16=ib,iy.prototype.visitUint32=ib,iy.prototype.visitUint64=ib,iy.prototype.visitFloat=ib,iy.prototype.visitFloat16=ib,iy.prototype.visitFloat32=ib,iy.prototype.visitFloat64=ib,iy.prototype.visitUtf8=ib,iy.prototype.visitLargeUtf8=ib,iy.prototype.visitBinary=ib,iy.prototype.visitLargeBinary=ib,iy.prototype.visitFixedSizeBinary=ib,iy.prototype.visitDate=ib,iy.prototype.visitDateDay=ib,iy.prototype.visitDateMillisecond=ib,iy.prototype.visitTimestamp=ib,iy.prototype.visitTimestampSecond=ib,iy.prototype.visitTimestampMillisecond=ib,iy.prototype.visitTimestampMicrosecond=ib,iy.prototype.visitTimestampNanosecond=ib,iy.prototype.visitTime=ib,iy.prototype.visitTimeSecond=ib,iy.prototype.visitTimeMillisecond=ib,iy.prototype.visitTimeMicrosecond=ib,iy.prototype.visitTimeNanosecond=ib,iy.prototype.visitDecimal=ib,iy.prototype.visitList=ib,iy.prototype.visitStruct=ib,iy.prototype.visitUnion=ib,iy.prototype.visitDenseUnion=im,iy.prototype.visitSparseUnion=im,iy.prototype.visitDictionary=ib,iy.prototype.visitInterval=ib,iy.prototype.visitIntervalDayTime=ib,iy.prototype.visitIntervalYearMonth=ib,iy.prototype.visitDuration=ib,iy.prototype.visitDurationSecond=ib,iy.prototype.visitDurationMillisecond=ib,iy.prototype.visitDurationMicrosecond=ib,iy.prototype.visitDurationNanosecond=ib,iy.prototype.visitFixedSizeList=ib,iy.prototype.visitMap=ib;let ig=new iy;class i_ extends t${}function iv(t){let{type:e}=t;if(0===t.nullCount&&1===t.stride&&(tg.isInt(e)&&64!==e.bitWidth||tg.isTime(e)&&64!==e.bitWidth||tg.isFloat(e)&&e.precision!==nW.HALF))return new e9(t.data.length,e=>{let i=t.data[e];return i.values.subarray(0,i.length)[Symbol.iterator]()});let i=0;return new e9(t.data.length,e=>{let r=t.data[e].length,n=t.slice(i,i+r);return i+=r,new iw(n)})}class iw{constructor(t){this.vector=t,this.index=0}next(){return this.index<this.vector.length?{value:this.vector.get(this.index++)}:{done:!0,value:null}}[Symbol.iterator](){return this}}i_.prototype.visitNull=iv,i_.prototype.visitBool=iv,i_.prototype.visitInt=iv,i_.prototype.visitInt8=iv,i_.prototype.visitInt16=iv,i_.prototype.visitInt32=iv,i_.prototype.visitInt64=iv,i_.prototype.visitUint8=iv,i_.prototype.visitUint16=iv,i_.prototype.visitUint32=iv,i_.prototype.visitUint64=iv,i_.prototype.visitFloat=iv,i_.prototype.visitFloat16=iv,i_.prototype.visitFloat32=iv,i_.prototype.visitFloat64=iv,i_.prototype.visitUtf8=iv,i_.prototype.visitLargeUtf8=iv,i_.prototype.visitBinary=iv,i_.prototype.visitLargeBinary=iv,i_.prototype.visitFixedSizeBinary=iv,i_.prototype.visitDate=iv,i_.prototype.visitDateDay=iv,i_.prototype.visitDateMillisecond=iv,i_.prototype.visitTimestamp=iv,i_.prototype.visitTimestampSecond=iv,i_.prototype.visitTimestampMillisecond=iv,i_.prototype.visitTimestampMicrosecond=iv,i_.prototype.visitTimestampNanosecond=iv,i_.prototype.visitTime=iv,i_.prototype.visitTimeSecond=iv,i_.prototype.visitTimeMillisecond=iv,i_.prototype.visitTimeMicrosecond=iv,i_.prototype.visitTimeNanosecond=iv,i_.prototype.visitDecimal=iv,i_.prototype.visitList=iv,i_.prototype.visitStruct=iv,i_.prototype.visitUnion=iv,i_.prototype.visitDenseUnion=iv,i_.prototype.visitSparseUnion=iv,i_.prototype.visitDictionary=iv,i_.prototype.visitInterval=iv,i_.prototype.visitIntervalDayTime=iv,i_.prototype.visitIntervalYearMonth=iv,i_.prototype.visitDuration=iv,i_.prototype.visitDurationSecond=iv,i_.prototype.visitDurationMillisecond=iv,i_.prototype.visitDurationMicrosecond=iv,i_.prototype.visitDurationNanosecond=iv,i_.prototype.visitFixedSizeList=iv,i_.prototype.visitMap=iv;let iI=new i_,iS={},iT={};class iE{constructor(t){var e,i,r;let n=t[0]instanceof iE?t.flatMap(t=>t.data):t;if(0===n.length||n.some(t=>!(t instanceof iO)))throw TypeError("Vector constructor expects an Array of Data instances.");let s=null==(e=n[0])?void 0:e.type;switch(n.length){case 0:this._offsets=[0];break;case 1:{let{get:t,set:e,indexOf:i}=iS[s.typeId],r=n[0];this.isValid=t=>ir(r,t),this.get=e=>t(r,e),this.set=(t,i)=>e(r,t,i),this.indexOf=t=>i(r,t),this._offsets=[0,r.length];break}default:Object.setPrototypeOf(this,iT[s.typeId]),this._offsets=it(n)}this.data=n,this.type=s,this.stride=tV(s),this.numChildren=null!=(r=null==(i=s.children)?void 0:i.length)?r:0,this.length=this._offsets.at(-1)}get byteLength(){return this.data.reduce((t,e)=>t+e.byteLength,0)}get nullable(){return this.data.some(t=>t.nullable)}get nullCount(){return e7(this.data)}get ArrayType(){return this.type.ArrayType}get[Symbol.toStringTag](){return`${this.VectorName}<${this.type[Symbol.toStringTag]}>`}get VectorName(){return`${nZ[this.type.typeId]}Vector`}isValid(t){return!1}get(t){return null}at(t){return this.get(e3(t,this.length))}set(t,e){}indexOf(t,e){return -1}includes(t,e){return this.indexOf(t,e)>-1}[Symbol.iterator](){return iI.visit(this)}concat(...t){return new iE(this.data.concat(t.flatMap(t=>t.data).flat(Number.POSITIVE_INFINITY)))}slice(t,e){return new iE(e2(this,t,e,({data:t,_offsets:e},i,r)=>ie(t,e,i,r)))}toJSON(){return[...this]}toArray(){let{type:t,data:e,length:i,stride:r,ArrayType:n}=this;switch(t.typeId){case nZ.Int:case nZ.Float:case nZ.Decimal:case nZ.Time:case nZ.Timestamp:switch(e.length){case 0:return new n;case 1:return e[0].values.subarray(0,i*r);default:return e.reduce((t,{values:e,length:i})=>(t.array.set(e.subarray(0,i*r),t.offset),t.offset+=i*r,t),{array:new n(i*r),offset:0}).array}}return[...this]}toString(){return`[${[...this].join(",")}]`}getChild(t){var e;return this.getChildAt(null==(e=this.type.children)?void 0:e.findIndex(e=>e.name===t))}getChildAt(t){return t>-1&&t<this.numChildren?new iE(this.data.map(({children:e})=>e[t])):null}get isMemoized(){return!!tg.isDictionary(this.type)&&this.data[0].dictionary.isMemoized}memoize(){if(tg.isDictionary(this.type)){let t=new iA(this.data[0].dictionary);return new iE(this.data.map(e=>{let i=e.clone();return i.dictionary=t,i}))}return new iA(this)}unmemoize(){if(tg.isDictionary(this.type)&&this.isMemoized){let t=this.data[0].dictionary.unmemoize();return new iE(this.data.map(e=>{let i=e.clone();return i.dictionary=t,i}))}return this}}iE[Symbol.toStringTag]=(t=>{for(let e of(t.type=tg.prototype,t.data=[],t.length=0,t.stride=1,t.numChildren=0,t._offsets=new Uint32Array([0]),t[Symbol.isConcatSpreadable]=!0,Object.keys(nZ).map(t=>nZ[t]).filter(t=>"number"==typeof t&&t!==nZ.NONE))){let i=eH.getVisitFnByTypeId(e),r=eb.getVisitFnByTypeId(e),n=ig.getVisitFnByTypeId(e);iS[e]={get:i,set:r,indexOf:n},iT[e]=Object.create(t,{isValid:{value:is(ir)},get:{value:is(eH.getVisitFnByTypeId(e))},set:{value:io(eb.getVisitFnByTypeId(e))},indexOf:{value:ia(ig.getVisitFnByTypeId(e))}})}return"Vector"})(iE.prototype);class iA extends iE{constructor(t){super(t.data);let e=this.get,i=this.set,r=this.slice,n=Array(this.length);Object.defineProperty(this,"get",{value(t){let i=n[t];if(void 0!==i)return i;let r=e.call(this,t);return n[t]=r,r}}),Object.defineProperty(this,"set",{value(t,e){i.call(this,t,e),n[t]=e}}),Object.defineProperty(this,"slice",{value:(t,e)=>new iA(r.call(this,t,e))}),Object.defineProperty(this,"isMemoized",{value:!0}),Object.defineProperty(this,"unmemoize",{value:()=>new iE(this.data)}),Object.defineProperty(this,"memoize",{value:()=>this})}}class iO{get typeId(){return this.type.typeId}get ArrayType(){return this.type.ArrayType}get buffers(){return[this.valueOffsets,this.values,this.nullBitmap,this.typeIds]}get nullable(){if(0!==this._nullCount){let{type:t}=this;return tg.isSparseUnion(t)?this.children.some(t=>t.nullable):tg.isDenseUnion(t)?this.children.some(t=>t.nullable):this.nullBitmap&&this.nullBitmap.byteLength>0}return!0}get byteLength(){let t=0,{valueOffsets:e,values:i,nullBitmap:r,typeIds:n}=this;return e&&(t+=e.byteLength),i&&(t+=i.byteLength),r&&(t+=r.byteLength),n&&(t+=n.byteLength),this.children.reduce((t,e)=>t+e.byteLength,t)}get nullCount(){let t;if(tg.isUnion(this.type))return this.children.reduce((t,e)=>t+e.nullCount,0);let e=this._nullCount;return e<=-1&&(t=this.nullBitmap)&&(this._nullCount=e=0===t.length?0:this.length-function t(e,i,r){if(r-i<=0)return 0;if(r-i<8){let t=0;for(let n of new ih(e,i,r-i,e,iu))t+=n;return t}let n=r>>3<<3,s=i+(i%8==0?0:8-i%8);return t(e,i,s)+t(e,n,r)+function(t,e,i){let r=0,n=Math.trunc(e),s=new DataView(t.buffer,t.byteOffset,t.byteLength),o=void 0===i?t.byteLength:n+i;for(;o-n>=4;)r+=ip(s.getUint32(n)),n+=4;for(;o-n>=2;)r+=ip(s.getUint16(n)),n+=2;for(;o-n>=1;)r+=ip(s.getUint8(n)),n+=1;return r}(e,s>>3,n-s>>3)}(t,this.offset,this.offset+this.length)),e}constructor(t,e,i,r,n,s=[],o){let a;this.type=t,this.children=s,this.dictionary=o,this.offset=Math.floor(Math.max(e||0,0)),this.length=Math.floor(Math.max(i||0,0)),this._nullCount=Math.floor(Math.max(r||0,-1)),n instanceof iO?(this.stride=n.stride,this.values=n.values,this.typeIds=n.typeIds,this.nullBitmap=n.nullBitmap,this.valueOffsets=n.valueOffsets):(this.stride=tV(t),n&&((a=n[0])&&(this.valueOffsets=a),(a=n[1])&&(this.values=a),(a=n[2])&&(this.nullBitmap=a),(a=n[3])&&(this.typeIds=a)))}getValid(t){let{type:e}=this;if(tg.isUnion(e)){let i=this.children[e.typeIdToChildIndex[this.typeIds[t]]],r=e.mode===nq.Dense?this.valueOffsets[t]:t;return i.getValid(r)}if(this.nullable&&this.nullCount>0){let e=this.offset+t;return(this.nullBitmap[e>>3]&1<<e%8)!=0}return!0}setValid(t,e){let i,{type:r}=this;if(tg.isUnion(r)){let n=this.children[r.typeIdToChildIndex[this.typeIds[t]]],s=r.mode===nq.Dense?this.valueOffsets[t]:t;i=n.getValid(s),n.setValid(s,e)}else{let{nullBitmap:r}=this,{offset:n,length:s}=this,o=n+t,a=1<<o%8,l=o>>3;(!r||r.byteLength<=l)&&(r=new Uint8Array((n+s+63&-64)>>3).fill(255),this.nullCount>0?(r.set(ic(n,s,this.nullBitmap),0),Object.assign(this,{nullBitmap:r})):Object.assign(this,{nullBitmap:r,_nullCount:0}));let u=r[l];i=(u&a)!=0,r[l]=e?u|a:u&~a}return!!e!==i&&(this._nullCount=this.nullCount+(e?-1:1)),e}clone(t=this.type,e=this.offset,i=this.length,r=this._nullCount,n=this,s=this.children){return new iO(t,e,i,r,n,s,this.dictionary)}slice(t,e){let{stride:i,typeId:r,children:n}=this,s=(0===this._nullCount)-1,o=16===r?i:1,a=this._sliceBuffers(t,e,i,r);return this.clone(this.type,this.offset+t,e,s,a,0===n.length||this.valueOffsets?n:this._sliceChildren(n,o*t,o*e))}_changeLengthAndBackfillNullBitmap(t){if(this.typeId===nZ.Null)return this.clone(this.type,0,t,0);let{length:e,nullCount:i}=this,r=new Uint8Array((t+63&-64)>>3).fill(255,0,e>>3);r[e>>3]=(1<<e-(-8&e))-1,i>0&&r.set(ic(this.offset,e,this.nullBitmap),0);let n=this.buffers;return n[nY.VALIDITY]=r,this.clone(this.type,0,t,i+(t-e),n)}_sliceBuffers(t,e,i,r){let n,{buffers:s}=this;return(n=s[nY.TYPE])&&(s[nY.TYPE]=n.subarray(t,t+e)),(n=s[nY.OFFSET])&&(s[nY.OFFSET]=n.subarray(t,t+e+1))||(n=s[nY.DATA])&&(s[nY.DATA]=6===r?n:n.subarray(i*t,i*(t+e))),s}_sliceChildren(t,e,i){return t.map(t=>t.slice(e,i))}}iO.prototype.children=Object.freeze([]);class iD extends t${visit(t){return this.getVisitFn(t.type).call(this,t)}visitNull(t){let{type:e,offset:i=0,length:r=0}=t;return new iO(e,i,r,r)}visitBool(t){let{type:e,offset:i=0}=t,r=te(t.nullBitmap),n=Q(e.ArrayType,t.data),{length:s=n.length>>3,nullCount:o=t.nullBitmap?-1:0}=t;return new iO(e,i,s,o,[void 0,n,r])}visitInt(t){let{type:e,offset:i=0}=t,r=te(t.nullBitmap),n=Q(e.ArrayType,t.data),{length:s=n.length,nullCount:o=t.nullBitmap?-1:0}=t;return new iO(e,i,s,o,[void 0,n,r])}visitFloat(t){let{type:e,offset:i=0}=t,r=te(t.nullBitmap),n=Q(e.ArrayType,t.data),{length:s=n.length,nullCount:o=t.nullBitmap?-1:0}=t;return new iO(e,i,s,o,[void 0,n,r])}visitUtf8(t){let{type:e,offset:i=0}=t,r=te(t.data),n=te(t.nullBitmap),s=X(t.valueOffsets),{length:o=s.length-1,nullCount:a=t.nullBitmap?-1:0}=t;return new iO(e,i,o,a,[s,r,n])}visitLargeUtf8(t){let{type:e,offset:i=0}=t,r=te(t.data),n=te(t.nullBitmap),s=tt(t.valueOffsets),{length:o=s.length-1,nullCount:a=t.nullBitmap?-1:0}=t;return new iO(e,i,o,a,[s,r,n])}visitBinary(t){let{type:e,offset:i=0}=t,r=te(t.data),n=te(t.nullBitmap),s=X(t.valueOffsets),{length:o=s.length-1,nullCount:a=t.nullBitmap?-1:0}=t;return new iO(e,i,o,a,[s,r,n])}visitLargeBinary(t){let{type:e,offset:i=0}=t,r=te(t.data),n=te(t.nullBitmap),s=tt(t.valueOffsets),{length:o=s.length-1,nullCount:a=t.nullBitmap?-1:0}=t;return new iO(e,i,o,a,[s,r,n])}visitFixedSizeBinary(t){let{type:e,offset:i=0}=t,r=te(t.nullBitmap),n=Q(e.ArrayType,t.data),{length:s=n.length/tV(e),nullCount:o=t.nullBitmap?-1:0}=t;return new iO(e,i,s,o,[void 0,n,r])}visitDate(t){let{type:e,offset:i=0}=t,r=te(t.nullBitmap),n=Q(e.ArrayType,t.data),{length:s=n.length/tV(e),nullCount:o=t.nullBitmap?-1:0}=t;return new iO(e,i,s,o,[void 0,n,r])}visitTimestamp(t){let{type:e,offset:i=0}=t,r=te(t.nullBitmap),n=Q(e.ArrayType,t.data),{length:s=n.length/tV(e),nullCount:o=t.nullBitmap?-1:0}=t;return new iO(e,i,s,o,[void 0,n,r])}visitTime(t){let{type:e,offset:i=0}=t,r=te(t.nullBitmap),n=Q(e.ArrayType,t.data),{length:s=n.length/tV(e),nullCount:o=t.nullBitmap?-1:0}=t;return new iO(e,i,s,o,[void 0,n,r])}visitDecimal(t){let{type:e,offset:i=0}=t,r=te(t.nullBitmap),n=Q(e.ArrayType,t.data),{length:s=n.length/tV(e),nullCount:o=t.nullBitmap?-1:0}=t;return new iO(e,i,s,o,[void 0,n,r])}visitList(t){let{type:e,offset:i=0,child:r}=t,n=te(t.nullBitmap),s=X(t.valueOffsets),{length:o=s.length-1,nullCount:a=t.nullBitmap?-1:0}=t;return new iO(e,i,o,a,[s,void 0,n],[r])}visitStruct(t){let{type:e,offset:i=0,children:r=[]}=t,n=te(t.nullBitmap),{length:s=r.reduce((t,{length:e})=>Math.max(t,e),0),nullCount:o=t.nullBitmap?-1:0}=t;return new iO(e,i,s,o,[void 0,void 0,n],r)}visitUnion(t){let{type:e,offset:i=0,children:r=[]}=t,n=Q(e.ArrayType,t.typeIds),{length:s=n.length,nullCount:o=-1}=t;return tg.isSparseUnion(e)?new iO(e,i,s,o,[void 0,void 0,void 0,n],r):new iO(e,i,s,o,[X(t.valueOffsets),void 0,void 0,n],r)}visitDictionary(t){let{type:e,offset:i=0}=t,r=te(t.nullBitmap),n=Q(e.indices.ArrayType,t.data),{dictionary:s=new iE([new iD().visit({type:e.dictionary})])}=t,{length:o=n.length,nullCount:a=t.nullBitmap?-1:0}=t;return new iO(e,i,o,a,[void 0,n,r],[],s)}visitInterval(t){let{type:e,offset:i=0}=t,r=te(t.nullBitmap),n=Q(e.ArrayType,t.data),{length:s=n.length/tV(e),nullCount:o=t.nullBitmap?-1:0}=t;return new iO(e,i,s,o,[void 0,n,r])}visitDuration(t){let{type:e,offset:i=0}=t,r=te(t.nullBitmap),n=Q(e.ArrayType,t.data),{length:s=n.length,nullCount:o=t.nullBitmap?-1:0}=t;return new iO(e,i,s,o,[void 0,n,r])}visitFixedSizeList(t){let{type:e,offset:i=0,child:r=new iD().visit({type:e.valueType})}=t,n=te(t.nullBitmap),{length:s=r.length/tV(e),nullCount:o=t.nullBitmap?-1:0}=t;return new iO(e,i,s,o,[void 0,void 0,n],[r])}visitMap(t){let{type:e,offset:i=0,child:r=new iD().visit({type:e.childType})}=t,n=te(t.nullBitmap),s=X(t.valueOffsets),{length:o=s.length-1,nullCount:a=t.nullBitmap?-1:0}=t;return new iO(e,i,o,a,[s,void 0,n],[r])}}let iB=new iD;function iN(t){return iB.visit(t)}(sS=nJ||(nJ={}))[sS.NONE=0]="NONE",sS[sS.Schema=1]="Schema",sS[sS.DictionaryBatch=2]="DictionaryBatch",sS[sS.RecordBatch=3]="RecordBatch",sS[sS.Tensor=4]="Tensor",sS[sS.SparseTensor=5]="SparseTensor";class iR{constructor(){this.bb=null,this.bb_pos=0}__init(t,e){return this.bb_pos=t,this.bb=e,this}offset(){return this.bb.readInt64(this.bb_pos)}metaDataLength(){return this.bb.readInt32(this.bb_pos+8)}bodyLength(){return this.bb.readInt64(this.bb_pos+16)}static sizeOf(){return 24}static createBlock(t,e,i,r){return t.prep(8,24),t.writeInt64(BigInt(null!=r?r:0)),t.pad(4),t.writeInt32(i),t.writeInt64(BigInt(null!=e?e:0)),t.offset()}}let iF=new Int32Array(2),ix=new Float32Array(iF.buffer),iP=new Float64Array(iF.buffer),iL=1===new Uint16Array(new Uint8Array([1,0]).buffer)[0];(sT=nQ||(nQ={}))[sT.UTF8_BYTES=1]="UTF8_BYTES",sT[sT.UTF16_STRING=2]="UTF16_STRING";class iM{constructor(t){this.bytes_=t,this.position_=0,this.text_decoder_=new TextDecoder}static allocate(t){return new iM(new Uint8Array(t))}clear(){this.position_=0}bytes(){return this.bytes_}position(){return this.position_}setPosition(t){this.position_=t}capacity(){return this.bytes_.length}readInt8(t){return this.readUint8(t)<<24>>24}readUint8(t){return this.bytes_[t]}readInt16(t){return this.readUint16(t)<<16>>16}readUint16(t){return this.bytes_[t]|this.bytes_[t+1]<<8}readInt32(t){return this.bytes_[t]|this.bytes_[t+1]<<8|this.bytes_[t+2]<<16|this.bytes_[t+3]<<24}readUint32(t){return this.readInt32(t)>>>0}readInt64(t){return BigInt.asIntN(64,BigInt(this.readUint32(t))+(BigInt(this.readUint32(t+4))<<BigInt(32)))}readUint64(t){return BigInt.asUintN(64,BigInt(this.readUint32(t))+(BigInt(this.readUint32(t+4))<<BigInt(32)))}readFloat32(t){return iF["0"]=this.readInt32(t),ix["0"]}readFloat64(t){return iF[+!iL]=this.readInt32(t),iF[+!!iL]=this.readInt32(t+4),iP["0"]}writeInt8(t,e){this.bytes_[t]=e}writeUint8(t,e){this.bytes_[t]=e}writeInt16(t,e){this.bytes_[t]=e,this.bytes_[t+1]=e>>8}writeUint16(t,e){this.bytes_[t]=e,this.bytes_[t+1]=e>>8}writeInt32(t,e){this.bytes_[t]=e,this.bytes_[t+1]=e>>8,this.bytes_[t+2]=e>>16,this.bytes_[t+3]=e>>24}writeUint32(t,e){this.bytes_[t]=e,this.bytes_[t+1]=e>>8,this.bytes_[t+2]=e>>16,this.bytes_[t+3]=e>>24}writeInt64(t,e){this.writeInt32(t,Number(BigInt.asIntN(32,e))),this.writeInt32(t+4,Number(BigInt.asIntN(32,e>>BigInt(32))))}writeUint64(t,e){this.writeUint32(t,Number(BigInt.asUintN(32,e))),this.writeUint32(t+4,Number(BigInt.asUintN(32,e>>BigInt(32))))}writeFloat32(t,e){ix["0"]=e,this.writeInt32(t,iF["0"])}writeFloat64(t,e){iP["0"]=e,this.writeInt32(t,iF[+!iL]),this.writeInt32(t+4,iF[+!!iL])}getBufferIdentifier(){if(this.bytes_.length<this.position_+4+4)throw Error("FlatBuffers: ByteBuffer is too short to contain an identifier.");let t="";for(let e=0;e<4;e++)t+=String.fromCharCode(this.readInt8(this.position_+4+e));return t}__offset(t,e){let i=t-this.readInt32(t);return e<this.readInt16(i)?this.readInt16(i+e):0}__union(t,e){return t.bb_pos=e+this.readInt32(e),t.bb=this,t}__string(t,e){t+=this.readInt32(t);let i=this.readInt32(t);t+=4;let r=this.bytes_.subarray(t,t+i);return e===nQ.UTF8_BYTES?r:this.text_decoder_.decode(r)}__union_with_string(t,e){return"string"==typeof t?this.__string(e):this.__union(t,e)}__indirect(t){return t+this.readInt32(t)}__vector(t){return t+this.readInt32(t)+4}__vector_len(t){return this.readInt32(t+this.readInt32(t))}__has_identifier(t){if(4!=t.length)throw Error("FlatBuffers: file identifier must be length 4");for(let e=0;e<4;e++)if(t.charCodeAt(e)!=this.readInt8(this.position()+4+e))return!1;return!0}createScalarList(t,e){let i=[];for(let r=0;r<e;++r){let e=t(r);null!==e&&i.push(e)}return i}createObjList(t,e){let i=[];for(let r=0;r<e;++r){let e=t(r);null!==e&&i.push(e.unpack())}return i}}class iU{constructor(t){let e;this.minalign=1,this.vtable=null,this.vtable_in_use=0,this.isNested=!1,this.object_start=0,this.vtables=[],this.vector_num_elems=0,this.force_defaults=!1,this.string_maps=null,this.text_encoder=new TextEncoder,e=t||1024,this.bb=iM.allocate(e),this.space=e}clear(){this.bb.clear(),this.space=this.bb.capacity(),this.minalign=1,this.vtable=null,this.vtable_in_use=0,this.isNested=!1,this.object_start=0,this.vtables=[],this.vector_num_elems=0,this.force_defaults=!1,this.string_maps=null}forceDefaults(t){this.force_defaults=t}dataBuffer(){return this.bb}asUint8Array(){return this.bb.bytes().subarray(this.bb.position(),this.bb.position()+this.offset())}prep(t,e){t>this.minalign&&(this.minalign=t);let i=~(this.bb.capacity()-this.space+e)+1&t-1;for(;this.space<i+t+e;){let t=this.bb.capacity();this.bb=iU.growByteBuffer(this.bb),this.space+=this.bb.capacity()-t}this.pad(i)}pad(t){for(let e=0;e<t;e++)this.bb.writeInt8(--this.space,0)}writeInt8(t){this.bb.writeInt8(this.space-=1,t)}writeInt16(t){this.bb.writeInt16(this.space-=2,t)}writeInt32(t){this.bb.writeInt32(this.space-=4,t)}writeInt64(t){this.bb.writeInt64(this.space-=8,t)}writeFloat32(t){this.bb.writeFloat32(this.space-=4,t)}writeFloat64(t){this.bb.writeFloat64(this.space-=8,t)}addInt8(t){this.prep(1,0),this.writeInt8(t)}addInt16(t){this.prep(2,0),this.writeInt16(t)}addInt32(t){this.prep(4,0),this.writeInt32(t)}addInt64(t){this.prep(8,0),this.writeInt64(t)}addFloat32(t){this.prep(4,0),this.writeFloat32(t)}addFloat64(t){this.prep(8,0),this.writeFloat64(t)}addFieldInt8(t,e,i){(this.force_defaults||e!=i)&&(this.addInt8(e),this.slot(t))}addFieldInt16(t,e,i){(this.force_defaults||e!=i)&&(this.addInt16(e),this.slot(t))}addFieldInt32(t,e,i){(this.force_defaults||e!=i)&&(this.addInt32(e),this.slot(t))}addFieldInt64(t,e,i){(this.force_defaults||e!==i)&&(this.addInt64(e),this.slot(t))}addFieldFloat32(t,e,i){(this.force_defaults||e!=i)&&(this.addFloat32(e),this.slot(t))}addFieldFloat64(t,e,i){(this.force_defaults||e!=i)&&(this.addFloat64(e),this.slot(t))}addFieldOffset(t,e,i){(this.force_defaults||e!=i)&&(this.addOffset(e),this.slot(t))}addFieldStruct(t,e,i){e!=i&&(this.nested(e),this.slot(t))}nested(t){if(t!=this.offset())throw TypeError("FlatBuffers: struct must be serialized inline.")}notNested(){if(this.isNested)throw TypeError("FlatBuffers: object serialization must not be nested.")}slot(t){null!==this.vtable&&(this.vtable[t]=this.offset())}offset(){return this.bb.capacity()-this.space}static growByteBuffer(t){let e=t.capacity();if(0xc0000000&e)throw Error("FlatBuffers: cannot grow buffer beyond 2 gigabytes.");let i=e<<1,r=iM.allocate(i);return r.setPosition(i-e),r.bytes().set(t.bytes(),i-e),r}addOffset(t){this.prep(4,0),this.writeInt32(this.offset()-t+4)}startObject(t){this.notNested(),null==this.vtable&&(this.vtable=[]),this.vtable_in_use=t;for(let e=0;e<t;e++)this.vtable[e]=0;this.isNested=!0,this.object_start=this.offset()}endObject(){if(null==this.vtable||!this.isNested)throw Error("FlatBuffers: endObject called without startObject");this.addInt32(0);let t=this.offset(),e=this.vtable_in_use-1;for(;e>=0&&0==this.vtable[e];e--);let i=e+1;for(;e>=0;e--)this.addInt16(0!=this.vtable[e]?t-this.vtable[e]:0);this.addInt16(t-this.object_start);let r=(i+2)*2;this.addInt16(r);let n=0,s=this.space;t:for(e=0;e<this.vtables.length;e++){let t=this.bb.capacity()-this.vtables[e];if(r==this.bb.readInt16(t)){for(let e=2;e<r;e+=2)if(this.bb.readInt16(s+e)!=this.bb.readInt16(t+e))continue t;n=this.vtables[e];break}}return n?(this.space=this.bb.capacity()-t,this.bb.writeInt32(this.space,n-t)):(this.vtables.push(this.offset()),this.bb.writeInt32(this.bb.capacity()-t,this.offset()-t)),this.isNested=!1,t}finish(t,e,i){let r=4*!!i;if(e){if(this.prep(this.minalign,8+r),4!=e.length)throw TypeError("FlatBuffers: file identifier must be length 4");for(let t=3;t>=0;t--)this.writeInt8(e.charCodeAt(t))}this.prep(this.minalign,4+r),this.addOffset(t),r&&this.addInt32(this.bb.capacity()-this.space),this.bb.setPosition(this.space)}finishSizePrefixed(t,e){this.finish(t,e,!0)}requiredField(t,e){let i=this.bb.capacity()-t,r=i-this.bb.readInt32(i);if(!(e<this.bb.readInt16(r)&&0!=this.bb.readInt16(r+e)))throw TypeError("FlatBuffers: field "+e+" must be set")}startVector(t,e,i){this.notNested(),this.vector_num_elems=e,this.prep(4,t*e),this.prep(i,t*e)}endVector(){return this.writeInt32(this.vector_num_elems),this.offset()}createSharedString(t){if(!t)return 0;if(this.string_maps||(this.string_maps=new Map),this.string_maps.has(t))return this.string_maps.get(t);let e=this.createString(t);return this.string_maps.set(t,e),e}createString(t){let e;return null==t?0:(e=t instanceof Uint8Array?t:this.text_encoder.encode(t),this.addInt8(0),this.startVector(1,e.length,1),this.bb.setPosition(this.space-=e.length),this.bb.bytes().set(e,this.space),this.endVector())}createByteVector(t){return null==t?0:(this.startVector(1,t.length,1),this.bb.setPosition(this.space-=t.length),this.bb.bytes().set(t,this.space),this.endVector())}createObjectOffset(t){return null===t?0:"string"==typeof t?this.createString(t):t.pack(this)}createObjectOffsetList(t){let e=[];for(let i=0;i<t.length;++i){let r=t[i];if(null!==r)e.push(this.createObjectOffset(r));else throw TypeError("FlatBuffers: Argument for createObjectOffsetList cannot contain null.")}return e}createStructOffsetList(t,e){return e(this,t.length),this.createObjectOffsetList(t.slice().reverse()),this.endVector()}}class ik{constructor(){this.bb=null,this.bb_pos=0}__init(t,e){return this.bb_pos=t,this.bb=e,this}static getRootAsKeyValue(t,e){return(e||new ik).__init(t.readInt32(t.position())+t.position(),t)}static getSizePrefixedRootAsKeyValue(t,e){return t.setPosition(t.position()+4),(e||new ik).__init(t.readInt32(t.position())+t.position(),t)}key(t){let e=this.bb.__offset(this.bb_pos,4);return e?this.bb.__string(this.bb_pos+e,t):null}value(t){let e=this.bb.__offset(this.bb_pos,6);return e?this.bb.__string(this.bb_pos+e,t):null}static startKeyValue(t){t.startObject(2)}static addKey(t,e){t.addFieldOffset(0,e,0)}static addValue(t,e){t.addFieldOffset(1,e,0)}static endKeyValue(t){return t.endObject()}static createKeyValue(t,e,i){return ik.startKeyValue(t),ik.addKey(t,e),ik.addValue(t,i),ik.endKeyValue(t)}}(sE=nX||(nX={}))[sE.V1=0]="V1",sE[sE.V2=1]="V2",sE[sE.V3=2]="V3",sE[sE.V4=3]="V4",sE[sE.V5=4]="V5",(sA=n0||(n0={}))[sA.Little=0]="Little",sA[sA.Big=1]="Big",(sO=n1||(n1={}))[sO.DenseArray=0]="DenseArray";class iz{constructor(){this.bb=null,this.bb_pos=0}__init(t,e){return this.bb_pos=t,this.bb=e,this}static getRootAsInt(t,e){return(e||new iz).__init(t.readInt32(t.position())+t.position(),t)}static getSizePrefixedRootAsInt(t,e){return t.setPosition(t.position()+4),(e||new iz).__init(t.readInt32(t.position())+t.position(),t)}bitWidth(){let t=this.bb.__offset(this.bb_pos,4);return t?this.bb.readInt32(this.bb_pos+t):0}isSigned(){let t=this.bb.__offset(this.bb_pos,6);return!!t&&!!this.bb.readInt8(this.bb_pos+t)}static startInt(t){t.startObject(2)}static addBitWidth(t,e){t.addFieldInt32(0,e,0)}static addIsSigned(t,e){t.addFieldInt8(1,+e,0)}static endInt(t){return t.endObject()}static createInt(t,e,i){return iz.startInt(t),iz.addBitWidth(t,e),iz.addIsSigned(t,i),iz.endInt(t)}}class iC{constructor(){this.bb=null,this.bb_pos=0}__init(t,e){return this.bb_pos=t,this.bb=e,this}static getRootAsDictionaryEncoding(t,e){return(e||new iC).__init(t.readInt32(t.position())+t.position(),t)}static getSizePrefixedRootAsDictionaryEncoding(t,e){return t.setPosition(t.position()+4),(e||new iC).__init(t.readInt32(t.position())+t.position(),t)}id(){let t=this.bb.__offset(this.bb_pos,4);return t?this.bb.readInt64(this.bb_pos+t):BigInt("0")}indexType(t){let e=this.bb.__offset(this.bb_pos,6);return e?(t||new iz).__init(this.bb.__indirect(this.bb_pos+e),this.bb):null}isOrdered(){let t=this.bb.__offset(this.bb_pos,8);return!!t&&!!this.bb.readInt8(this.bb_pos+t)}dictionaryKind(){let t=this.bb.__offset(this.bb_pos,10);return t?this.bb.readInt16(this.bb_pos+t):n1.DenseArray}static startDictionaryEncoding(t){t.startObject(4)}static addId(t,e){t.addFieldInt64(0,e,BigInt("0"))}static addIndexType(t,e){t.addFieldOffset(1,e,0)}static addIsOrdered(t,e){t.addFieldInt8(2,+e,0)}static addDictionaryKind(t,e){t.addFieldInt16(3,e,n1.DenseArray)}static endDictionaryEncoding(t){return t.endObject()}}(sD=n2||(n2={}))[sD.NONE=0]="NONE",sD[sD.Null=1]="Null",sD[sD.Int=2]="Int",sD[sD.FloatingPoint=3]="FloatingPoint",sD[sD.Binary=4]="Binary",sD[sD.Utf8=5]="Utf8",sD[sD.Bool=6]="Bool",sD[sD.Decimal=7]="Decimal",sD[sD.Date=8]="Date",sD[sD.Time=9]="Time",sD[sD.Timestamp=10]="Timestamp",sD[sD.Interval=11]="Interval",sD[sD.List=12]="List",sD[sD.Struct_=13]="Struct_",sD[sD.Union=14]="Union",sD[sD.FixedSizeBinary=15]="FixedSizeBinary",sD[sD.FixedSizeList=16]="FixedSizeList",sD[sD.Map=17]="Map",sD[sD.Duration=18]="Duration",sD[sD.LargeBinary=19]="LargeBinary",sD[sD.LargeUtf8=20]="LargeUtf8",sD[sD.LargeList=21]="LargeList",sD[sD.RunEndEncoded=22]="RunEndEncoded";class ij{constructor(){this.bb=null,this.bb_pos=0}__init(t,e){return this.bb_pos=t,this.bb=e,this}static getRootAsField(t,e){return(e||new ij).__init(t.readInt32(t.position())+t.position(),t)}static getSizePrefixedRootAsField(t,e){return t.setPosition(t.position()+4),(e||new ij).__init(t.readInt32(t.position())+t.position(),t)}name(t){let e=this.bb.__offset(this.bb_pos,4);return e?this.bb.__string(this.bb_pos+e,t):null}nullable(){let t=this.bb.__offset(this.bb_pos,6);return!!t&&!!this.bb.readInt8(this.bb_pos+t)}typeType(){let t=this.bb.__offset(this.bb_pos,8);return t?this.bb.readUint8(this.bb_pos+t):n2.NONE}type(t){let e=this.bb.__offset(this.bb_pos,10);return e?this.bb.__union(t,this.bb_pos+e):null}dictionary(t){let e=this.bb.__offset(this.bb_pos,12);return e?(t||new iC).__init(this.bb.__indirect(this.bb_pos+e),this.bb):null}children(t,e){let i=this.bb.__offset(this.bb_pos,14);return i?(e||new ij).__init(this.bb.__indirect(this.bb.__vector(this.bb_pos+i)+4*t),this.bb):null}childrenLength(){let t=this.bb.__offset(this.bb_pos,14);return t?this.bb.__vector_len(this.bb_pos+t):0}customMetadata(t,e){let i=this.bb.__offset(this.bb_pos,16);return i?(e||new ik).__init(this.bb.__indirect(this.bb.__vector(this.bb_pos+i)+4*t),this.bb):null}customMetadataLength(){let t=this.bb.__offset(this.bb_pos,16);return t?this.bb.__vector_len(this.bb_pos+t):0}static startField(t){t.startObject(7)}static addName(t,e){t.addFieldOffset(0,e,0)}static addNullable(t,e){t.addFieldInt8(1,+e,0)}static addTypeType(t,e){t.addFieldInt8(2,e,n2.NONE)}static addType(t,e){t.addFieldOffset(3,e,0)}static addDictionary(t,e){t.addFieldOffset(4,e,0)}static addChildren(t,e){t.addFieldOffset(5,e,0)}static createChildrenVector(t,e){t.startVector(4,e.length,4);for(let i=e.length-1;i>=0;i--)t.addOffset(e[i]);return t.endVector()}static startChildrenVector(t,e){t.startVector(4,e,4)}static addCustomMetadata(t,e){t.addFieldOffset(6,e,0)}static createCustomMetadataVector(t,e){t.startVector(4,e.length,4);for(let i=e.length-1;i>=0;i--)t.addOffset(e[i]);return t.endVector()}static startCustomMetadataVector(t,e){t.startVector(4,e,4)}static endField(t){return t.endObject()}}class iV{constructor(){this.bb=null,this.bb_pos=0}__init(t,e){return this.bb_pos=t,this.bb=e,this}static getRootAsSchema(t,e){return(e||new iV).__init(t.readInt32(t.position())+t.position(),t)}static getSizePrefixedRootAsSchema(t,e){return t.setPosition(t.position()+4),(e||new iV).__init(t.readInt32(t.position())+t.position(),t)}endianness(){let t=this.bb.__offset(this.bb_pos,4);return t?this.bb.readInt16(this.bb_pos+t):n0.Little}fields(t,e){let i=this.bb.__offset(this.bb_pos,6);return i?(e||new ij).__init(this.bb.__indirect(this.bb.__vector(this.bb_pos+i)+4*t),this.bb):null}fieldsLength(){let t=this.bb.__offset(this.bb_pos,6);return t?this.bb.__vector_len(this.bb_pos+t):0}customMetadata(t,e){let i=this.bb.__offset(this.bb_pos,8);return i?(e||new ik).__init(this.bb.__indirect(this.bb.__vector(this.bb_pos+i)+4*t),this.bb):null}customMetadataLength(){let t=this.bb.__offset(this.bb_pos,8);return t?this.bb.__vector_len(this.bb_pos+t):0}features(t){let e=this.bb.__offset(this.bb_pos,10);return e?this.bb.readInt64(this.bb.__vector(this.bb_pos+e)+8*t):BigInt(0)}featuresLength(){let t=this.bb.__offset(this.bb_pos,10);return t?this.bb.__vector_len(this.bb_pos+t):0}static startSchema(t){t.startObject(4)}static addEndianness(t,e){t.addFieldInt16(0,e,n0.Little)}static addFields(t,e){t.addFieldOffset(1,e,0)}static createFieldsVector(t,e){t.startVector(4,e.length,4);for(let i=e.length-1;i>=0;i--)t.addOffset(e[i]);return t.endVector()}static startFieldsVector(t,e){t.startVector(4,e,4)}static addCustomMetadata(t,e){t.addFieldOffset(2,e,0)}static createCustomMetadataVector(t,e){t.startVector(4,e.length,4);for(let i=e.length-1;i>=0;i--)t.addOffset(e[i]);return t.endVector()}static startCustomMetadataVector(t,e){t.startVector(4,e,4)}static addFeatures(t,e){t.addFieldOffset(3,e,0)}static createFeaturesVector(t,e){t.startVector(8,e.length,8);for(let i=e.length-1;i>=0;i--)t.addInt64(e[i]);return t.endVector()}static startFeaturesVector(t,e){t.startVector(8,e,8)}static endSchema(t){return t.endObject()}static finishSchemaBuffer(t,e){t.finish(e)}static finishSizePrefixedSchemaBuffer(t,e){t.finish(e,void 0,!0)}static createSchema(t,e,i,r,n){return iV.startSchema(t),iV.addEndianness(t,e),iV.addFields(t,i),iV.addCustomMetadata(t,r),iV.addFeatures(t,n),iV.endSchema(t)}}class i${constructor(){this.bb=null,this.bb_pos=0}__init(t,e){return this.bb_pos=t,this.bb=e,this}static getRootAsFooter(t,e){return(e||new i$).__init(t.readInt32(t.position())+t.position(),t)}static getSizePrefixedRootAsFooter(t,e){return t.setPosition(t.position()+4),(e||new i$).__init(t.readInt32(t.position())+t.position(),t)}version(){let t=this.bb.__offset(this.bb_pos,4);return t?this.bb.readInt16(this.bb_pos+t):nX.V1}schema(t){let e=this.bb.__offset(this.bb_pos,6);return e?(t||new iV).__init(this.bb.__indirect(this.bb_pos+e),this.bb):null}dictionaries(t,e){let i=this.bb.__offset(this.bb_pos,8);return i?(e||new iR).__init(this.bb.__vector(this.bb_pos+i)+24*t,this.bb):null}dictionariesLength(){let t=this.bb.__offset(this.bb_pos,8);return t?this.bb.__vector_len(this.bb_pos+t):0}recordBatches(t,e){let i=this.bb.__offset(this.bb_pos,10);return i?(e||new iR).__init(this.bb.__vector(this.bb_pos+i)+24*t,this.bb):null}recordBatchesLength(){let t=this.bb.__offset(this.bb_pos,10);return t?this.bb.__vector_len(this.bb_pos+t):0}customMetadata(t,e){let i=this.bb.__offset(this.bb_pos,12);return i?(e||new ik).__init(this.bb.__indirect(this.bb.__vector(this.bb_pos+i)+4*t),this.bb):null}customMetadataLength(){let t=this.bb.__offset(this.bb_pos,12);return t?this.bb.__vector_len(this.bb_pos+t):0}static startFooter(t){t.startObject(5)}static addVersion(t,e){t.addFieldInt16(0,e,nX.V1)}static addSchema(t,e){t.addFieldOffset(1,e,0)}static addDictionaries(t,e){t.addFieldOffset(2,e,0)}static startDictionariesVector(t,e){t.startVector(24,e,8)}static addRecordBatches(t,e){t.addFieldOffset(3,e,0)}static startRecordBatchesVector(t,e){t.startVector(24,e,8)}static addCustomMetadata(t,e){t.addFieldOffset(4,e,0)}static createCustomMetadataVector(t,e){t.startVector(4,e.length,4);for(let i=e.length-1;i>=0;i--)t.addOffset(e[i]);return t.endVector()}static startCustomMetadataVector(t,e){t.startVector(4,e,4)}static endFooter(t){return t.endObject()}static finishFooterBuffer(t,e){t.finish(e)}static finishSizePrefixedFooterBuffer(t,e){t.finish(e,void 0,!0)}}class iZ{constructor(t=[],e,i,r=nX.V5){this.fields=t||[],this.metadata=e||new Map,i||(i=iG(this.fields)),this.dictionaries=i,this.metadataVersion=r}get[Symbol.toStringTag](){return"Schema"}get names(){return this.fields.map(t=>t.name)}toString(){return`Schema<{ ${this.fields.map((t,e)=>`${e}: ${t}`).join(", ")} }>`}select(t){let e=new Set(t);return new iZ(this.fields.filter(t=>e.has(t.name)),this.metadata)}selectAt(t){return new iZ(t.map(t=>this.fields[t]).filter(Boolean),this.metadata)}assign(...t){let e=t[0]instanceof iZ?t[0]:new iZ(Array.isArray(t[0])?t[0]:t),i=[...this.fields],r=iW(iW(new Map,this.metadata),e.metadata),n=e.fields.filter(t=>{let e=i.findIndex(e=>e.name===t.name);return!~e||(i[e]=t.clone({metadata:iW(iW(new Map,i[e].metadata),t.metadata)}))&&!1}),s=iG(n,new Map);return new iZ([...i,...n],r,new Map([...this.dictionaries,...s]))}}iZ.prototype.fields=null,iZ.prototype.metadata=null,iZ.prototype.dictionaries=null;class iY{static new(...t){let[e,i,r,n]=t;return t[0]&&"object"==typeof t[0]&&({name:e}=t[0],void 0===i&&(i=t[0].type),void 0===r&&(r=t[0].nullable),void 0===n&&(n=t[0].metadata)),new iY(`${e}`,i,r,n)}constructor(t,e,i=!1,r){this.name=t,this.type=e,this.nullable=i,this.metadata=r||new Map}get typeId(){return this.type.typeId}get[Symbol.toStringTag](){return"Field"}toString(){return`${this.name}: ${this.type}`}clone(...t){let[e,i,r,n]=t;return t[0]&&"object"==typeof t[0]?{name:e=this.name,type:i=this.type,nullable:r=this.nullable,metadata:n=this.metadata}=t[0]:[e=this.name,i=this.type,r=this.nullable,n=this.metadata]=t,iY.new(e,i,r,n)}}function iW(t,e){return new Map([...t||new Map,...e||new Map])}function iG(t,e=new Map){for(let i=-1,r=t.length;++i<r;){let r=t[i].type;if(tg.isDictionary(r))if(e.has(r.id)){if(e.get(r.id)!==r.dictionary)throw Error("Cannot create Schema containing two different dictionaries with the same Id")}else e.set(r.id,r.dictionary);r.children&&r.children.length>0&&iG(r.children,e)}return e}iY.prototype.type=null,iY.prototype.name=null,iY.prototype.nullable=null,iY.prototype.metadata=null;class iH{static decode(t){t=new iM(te(t));let e=i$.getRootAsFooter(t);return new iK(iZ.decode(e.schema(),new Map,e.version()),e)}static encode(t){let e=new iU,i=iZ.encode(e,t.schema);for(let i of(i$.startRecordBatchesVector(e,t.numRecordBatches),[...t.recordBatches()].slice().reverse()))iq.encode(e,i);let r=e.endVector();for(let i of(i$.startDictionariesVector(e,t.numDictionaries),[...t.dictionaryBatches()].slice().reverse()))iq.encode(e,i);let n=e.endVector();return i$.startFooter(e),i$.addSchema(e,i),i$.addVersion(e,nX.V5),i$.addRecordBatches(e,r),i$.addDictionaries(e,n),i$.finishFooterBuffer(e,i$.endFooter(e)),e.asUint8Array()}get numRecordBatches(){return this._recordBatches.length}get numDictionaries(){return this._dictionaryBatches.length}constructor(t,e=nX.V5,i,r){this.schema=t,this.version=e,i&&(this._recordBatches=i),r&&(this._dictionaryBatches=r)}*recordBatches(){for(let t,e=-1,i=this.numRecordBatches;++e<i;)(t=this.getRecordBatch(e))&&(yield t)}*dictionaryBatches(){for(let t,e=-1,i=this.numDictionaries;++e<i;)(t=this.getDictionaryBatch(e))&&(yield t)}getRecordBatch(t){return t>=0&&t<this.numRecordBatches&&this._recordBatches[t]||null}getDictionaryBatch(t){return t>=0&&t<this.numDictionaries&&this._dictionaryBatches[t]||null}}class iK extends iH{get numRecordBatches(){return this._footer.recordBatchesLength()}get numDictionaries(){return this._footer.dictionariesLength()}constructor(t,e){super(t,e.version()),this._footer=e}getRecordBatch(t){if(t>=0&&t<this.numRecordBatches){let e=this._footer.recordBatches(t);if(e)return iq.decode(e)}return null}getDictionaryBatch(t){if(t>=0&&t<this.numDictionaries){let e=this._footer.dictionaries(t);if(e)return iq.decode(e)}return null}}class iq{static decode(t){return new iq(t.metaDataLength(),t.bodyLength(),t.offset())}static encode(t,e){let{metaDataLength:i}=e,r=BigInt(e.offset),n=BigInt(e.bodyLength);return iR.createBlock(t,r,i,n)}constructor(t,e,i){this.metaDataLength=t,this.offset=to(i),this.bodyLength=to(e)}}let iJ={fromIterable:t=>iQ(function*(t){let e,i=!1,r=[],n,s,o,a=0;({cmd:s,size:o}=(yield null)||{cmd:"read",size:0});let l=tr(t)[Symbol.iterator]();try{do if({done:e,value:n}=Number.isNaN(o-a)?l.next():l.next(o-a),!e&&n.byteLength>0&&(r.push(n),a+=n.byteLength),e||o<=a)do({cmd:s,size:o}=yield"peek"===s?J(r,o)[0]:([n,r,a]=J(r,o),n));while(o<a);while(!e)}catch(t){i=!0,"function"==typeof l.throw&&l.throw(t)}finally{!1===i&&"function"==typeof l.return&&l.return(null)}return null}(t)),fromAsyncIterable:t=>iQ(function(t){return S(this,arguments,function*(){let e,i=!1,r=[],n,s,o,a=0;({cmd:s,size:o}=(yield yield I(null))||{cmd:"read",size:0});let l=tn(t)[Symbol.asyncIterator]();try{do if({done:e,value:n}=Number.isNaN(o-a)?yield I(l.next()):yield I(l.next(o-a)),!e&&n.byteLength>0&&(r.push(n),a+=n.byteLength),e||o<=a)do({cmd:s,size:o}=yield yield I("peek"===s?J(r,o)[0]:([n,r,a]=J(r,o),n)));while(o<a);while(!e)}catch(t){i=!0,"function"==typeof l.throw&&(yield I(l.throw(t)))}finally{!1===i&&"function"==typeof l.return&&(yield I(l.return(new Uint8Array(0))))}return yield I(null)})}(t)),fromDOMStream:t=>iQ(function(t){return S(this,arguments,function*(){let e=!1,i=!1,r=[],n,s,o,a=0;({cmd:s,size:o}=(yield yield I(null))||{cmd:"read",size:0});let l=new iX(t);try{do if({done:e,value:n}=Number.isNaN(o-a)?yield I(l.read()):yield I(l.read(o-a)),!e&&n.byteLength>0&&(r.push(te(n)),a+=n.byteLength),e||o<=a)do({cmd:s,size:o}=yield yield I("peek"===s?J(r,o)[0]:([n,r,a]=J(r,o),n)));while(o<a);while(!e)}catch(t){i=!0,yield I(l.cancel(t))}finally{!1===i?yield I(l.cancel()):t.locked&&l.releaseLock()}return yield I(null)})}(t)),fromNodeStream:t=>iQ(function(t){return S(this,arguments,function*(){let e=[],i="error",r=!1,n=null,s,o,a=0,l=[],u;if({cmd:s,size:o}=(yield yield I(null))||{cmd:"read",size:0},t.isTTY)return yield yield I(new Uint8Array(0)),yield I(null);try{e[0]=i0(t,"end"),e[1]=i0(t,"error");do{if(e[2]=i0(t,"readable"),[i,n]=yield I(Promise.race(e.map(t=>t[2]))),"error"===i)break;if((r="end"===i)||(Number.isFinite(o-a)?(u=te(t.read(o-a))).byteLength<o-a&&(u=te(t.read())):u=te(t.read()),u.byteLength>0&&(l.push(u),a+=u.byteLength)),r||o<=a)do({cmd:s,size:o}=yield yield I("peek"===s?J(l,o)[0]:([u,l,a]=J(l,o),u)));while(o<a)}while(!r)}finally{var c,d;yield I((c=e,d="error"===i?n:null,u=l=null,new Promise((e,i)=>{for(let[e,i]of c)t.off(e,i);try{let e=t.destroy;e&&e.call(t,d),d=void 0}catch(t){d=t||d}finally{null!=d?i(d):e()}})))}return yield I(null)})}(t)),toDOMStream(t,e){throw Error('"toDOMStream" not available in this environment')},toNodeStream(t,e){throw Error('"toNodeStream" not available in this environment')}},iQ=t=>(t.next(),t);class iX{constructor(t){this.source=t,this.reader=null,this.reader=this.source.getReader(),this.reader.closed.catch(()=>{})}get closed(){return this.reader?this.reader.closed.catch(()=>{}):Promise.resolve()}releaseLock(){this.reader&&this.reader.releaseLock(),this.reader=null}cancel(t){return w(this,void 0,void 0,function*(){let{reader:e,source:i}=this;e&&(yield e.cancel(t).catch(()=>{})),i&&i.locked&&this.releaseLock()})}read(t){return w(this,void 0,void 0,function*(){if(0===t)return{done:null==this.reader,value:new Uint8Array(0)};let e=yield this.reader.read();return e.done||(e.value=te(e)),e})}}let i0=(t,e)=>{let i,r=t=>i([e,t]);return[e,r,new Promise(n=>(i=n)&&t.once(e,r))]},i1=Object.freeze({done:!0,value:void 0});class i2{constructor(t){this._json=t}get schema(){return this._json.schema}get batches(){return this._json.batches||[]}get dictionaries(){return this._json.dictionaries||[]}}class i3{tee(){return this._getDOMStream().tee()}pipe(t,e){return this._getNodeStream().pipe(t,e)}pipeTo(t,e){return this._getDOMStream().pipeTo(t,e)}pipeThrough(t,e){return this._getDOMStream().pipeThrough(t,e)}_getDOMStream(){return this._DOMStream||(this._DOMStream=this.toDOMStream())}_getNodeStream(){return this._nodeStream||(this._nodeStream=this.toNodeStream())}}class i4 extends i3{constructor(){super(),this._values=[],this.resolvers=[],this._closedPromise=new Promise(t=>this._closedPromiseResolve=t)}get closed(){return this._closedPromise}cancel(t){return w(this,void 0,void 0,function*(){yield this.return(t)})}write(t){this._ensureOpen()&&(this.resolvers.length<=0?this._values.push(t):this.resolvers.shift().resolve({done:!1,value:t}))}abort(t){this._closedPromiseResolve&&(this.resolvers.length<=0?this._error={error:t}:this.resolvers.shift().reject({done:!0,value:t}))}close(){if(this._closedPromiseResolve){let{resolvers:t}=this;for(;t.length>0;)t.shift().resolve(i1);this._closedPromiseResolve(),this._closedPromiseResolve=void 0}}[Symbol.asyncIterator](){return this}toDOMStream(t){return iJ.toDOMStream(this._closedPromiseResolve||this._error?this:this._values,t)}toNodeStream(t){return iJ.toNodeStream(this._closedPromiseResolve||this._error?this:this._values,t)}throw(t){return w(this,void 0,void 0,function*(){return yield this.abort(t),i1})}return(t){return w(this,void 0,void 0,function*(){return yield this.close(),i1})}read(t){return w(this,void 0,void 0,function*(){return(yield this.next(t,"read")).value})}peek(t){return w(this,void 0,void 0,function*(){return(yield this.next(t,"peek")).value})}next(...t){return this._values.length>0?Promise.resolve({done:!1,value:this._values.shift()}):this._error?Promise.reject({done:!0,value:this._error.error}):this._closedPromiseResolve?new Promise((t,e)=>{this.resolvers.push({resolve:t,reject:e})}):Promise.resolve(i1)}_ensureOpen(){if(this._closedPromiseResolve)return!0;throw Error("AsyncQueue is closed")}}class i6 extends i4{write(t){if((t=te(t)).byteLength>0)return super.write(t)}toString(t=!1){return t?B(this.toUint8Array(!0)):this.toUint8Array(!1).then(B)}toUint8Array(t=!1){return t?J(this._values)[0]:w(this,void 0,void 0,function*(){var t,e,i,r;let n=[],s=0;try{for(var o,a=!0,l=E(this);!(t=(o=yield l.next()).done);a=!0)r=o.value,a=!1,n.push(r),s+=r.byteLength}catch(t){e={error:t}}finally{try{!a&&!t&&(i=l.return)&&(yield i.call(l))}finally{if(e)throw e.error}}return J(n,s)[0]})}}class i8{constructor(t){t&&(this.source=new i9(iJ.fromIterable(t)))}[Symbol.iterator](){return this}next(t){return this.source.next(t)}throw(t){return this.source.throw(t)}return(t){return this.source.return(t)}peek(t){return this.source.peek(t)}read(t){return this.source.read(t)}}class i5{constructor(t){t instanceof i5?this.source=t.source:t instanceof i6?this.source=new i7(iJ.fromAsyncIterable(t)):G(t)?this.source=new i7(iJ.fromNodeStream(t)):Y(t)?this.source=new i7(iJ.fromDOMStream(t)):V(t)?this.source=new i7(iJ.fromDOMStream(t.body)):U(t)?this.source=new i7(iJ.fromIterable(t)):M(t)?this.source=new i7(iJ.fromAsyncIterable(t)):k(t)&&(this.source=new i7(iJ.fromAsyncIterable(t)))}[Symbol.asyncIterator](){return this}next(t){return this.source.next(t)}throw(t){return this.source.throw(t)}return(t){return this.source.return(t)}get closed(){return this.source.closed}cancel(t){return this.source.cancel(t)}peek(t){return this.source.peek(t)}read(t){return this.source.read(t)}}class i9{constructor(t){this.source=t}cancel(t){this.return(t)}peek(t){return this.next(t,"peek").value}read(t){return this.next(t,"read").value}next(t,e="read"){return this.source.next({cmd:e,size:t})}throw(t){return Object.create(this.source.throw&&this.source.throw(t)||i1)}return(t){return Object.create(this.source.return&&this.source.return(t)||i1)}}class i7{constructor(t){this.source=t,this._closedPromise=new Promise(t=>this._closedPromiseResolve=t)}cancel(t){return w(this,void 0,void 0,function*(){yield this.return(t)})}get closed(){return this._closedPromise}read(t){return w(this,void 0,void 0,function*(){return(yield this.next(t,"read")).value})}peek(t){return w(this,void 0,void 0,function*(){return(yield this.next(t,"peek")).value})}next(t){return w(this,arguments,void 0,function*(t,e="read"){return yield this.source.next({cmd:e,size:t})})}throw(t){return w(this,void 0,void 0,function*(){let e=this.source.throw&&(yield this.source.throw(t))||i1;return this._closedPromiseResolve&&this._closedPromiseResolve(),this._closedPromiseResolve=void 0,Object.create(e)})}return(t){return w(this,void 0,void 0,function*(){let e=this.source.return&&(yield this.source.return(t))||i1;return this._closedPromiseResolve&&this._closedPromiseResolve(),this._closedPromiseResolve=void 0,Object.create(e)})}}class rt extends i8{constructor(t,e){super(),this.position=0,this.buffer=te(t),this.size=void 0===e?this.buffer.byteLength:e}readInt32(t){let{buffer:e,byteOffset:i}=this.readAt(t,4);return new DataView(e,i).getInt32(0,!0)}seek(t){return this.position=Math.min(t,this.size),t<this.size}read(t){let{buffer:e,size:i,position:r}=this;return e&&r<i?("number"!=typeof t&&(t=Number.POSITIVE_INFINITY),this.position=Math.min(i,r+Math.min(i-r,t)),e.subarray(r,this.position)):null}readAt(t,e){let i=this.buffer,r=Math.min(this.size,t+e);return i?i.subarray(t,r):new Uint8Array(e)}close(){this.buffer&&(this.buffer=null)}throw(t){return this.close(),{done:!0,value:t}}return(t){return this.close(),{done:!0,value:t}}}class re extends i5{constructor(t,e){super(),this.position=0,this._handle=t,"number"==typeof e?this.size=e:this._pending=w(this,void 0,void 0,function*(){this.size=(yield t.stat()).size,delete this._pending})}readInt32(t){return w(this,void 0,void 0,function*(){let{buffer:e,byteOffset:i}=yield this.readAt(t,4);return new DataView(e,i).getInt32(0,!0)})}seek(t){return w(this,void 0,void 0,function*(){return this._pending&&(yield this._pending),this.position=Math.min(t,this.size),t<this.size})}read(t){return w(this,void 0,void 0,function*(){this._pending&&(yield this._pending);let{_handle:e,size:i,position:r}=this;if(e&&r<i){"number"!=typeof t&&(t=Number.POSITIVE_INFINITY);let n=r,s=0,o=0,a=Math.min(i,n+Math.min(i-n,t)),l=new Uint8Array(Math.max(0,(this.position=a)-n));for(;(n+=o)<a&&(s+=o)<l.byteLength;)({bytesRead:o}=yield e.read(l,s,l.byteLength-s,n));return l}return null})}readAt(t,e){return w(this,void 0,void 0,function*(){this._pending&&(yield this._pending);let{_handle:i,size:r}=this;if(i&&t+e<r){let n=new Uint8Array(Math.min(r,t+e)-t);return(yield i.read(n,0,e,t)).buffer}return new Uint8Array(e)})}close(){return w(this,void 0,void 0,function*(){let t=this._handle;this._handle=null,t&&(yield t.close())})}throw(t){return w(this,void 0,void 0,function*(){return yield this.close(),{done:!0,value:t}})}return(t){return w(this,void 0,void 0,function*(){return yield this.close(),{done:!0,value:t}})}}function ri(t){return t<0&&(t=0xffffffff+t+1),`0x${t.toString(16)}`}let rr=[1,10,100,1e3,1e4,1e5,1e6,1e7,1e8];class rn{constructor(t){this.buffer=t}high(){return this.buffer[1]}low(){return this.buffer[0]}_times(t){let e=new Uint32Array([this.buffer[1]>>>16,65535&this.buffer[1],this.buffer[0]>>>16,65535&this.buffer[0]]),i=new Uint32Array([t.buffer[1]>>>16,65535&t.buffer[1],t.buffer[0]>>>16,65535&t.buffer[0]]),r=e[3]*i[3];this.buffer[0]=65535&r;let n=r>>>16;return n+=(r=e[2]*i[3])+(r=e[3]*i[2]>>>0),this.buffer[0]+=n<<16,this.buffer[1]=65536*(n>>>0<r),this.buffer[1]+=n>>>16,this.buffer[1]+=e[1]*i[3]+e[2]*i[2]+e[3]*i[1],this.buffer[1]+=e[0]*i[3]+e[1]*i[2]+e[2]*i[1]+e[3]*i[0]<<16,this}_plus(t){let e=this.buffer[0]+t.buffer[0]>>>0;this.buffer[1]+=t.buffer[1],e<this.buffer[0]>>>0&&++this.buffer[1],this.buffer[0]=e}lessThan(t){return this.buffer[1]<t.buffer[1]||this.buffer[1]===t.buffer[1]&&this.buffer[0]<t.buffer[0]}equals(t){return this.buffer[1]===t.buffer[1]&&this.buffer[0]==t.buffer[0]}greaterThan(t){return t.lessThan(this)}hex(){return`${ri(this.buffer[1])} ${ri(this.buffer[0])}`}}class rs extends rn{times(t){return this._times(t),this}plus(t){return this._plus(t),this}static from(t,e=new Uint32Array(2)){return rs.fromString("string"==typeof t?t:t.toString(),e)}static fromNumber(t,e=new Uint32Array(2)){return rs.fromString(t.toString(),e)}static fromString(t,e=new Uint32Array(2)){let i=t.length,r=new rs(e);for(let e=0;e<i;){let n=8<i-e?8:i-e,s=new rs(new Uint32Array([Number.parseInt(t.slice(e,e+n),10),0])),o=new rs(new Uint32Array([rr[n],0]));r.times(o),r.plus(s),e+=n}return r}static convertArray(t){let e=new Uint32Array(2*t.length);for(let i=-1,r=t.length;++i<r;)rs.from(t[i],new Uint32Array(e.buffer,e.byteOffset+2*i*4,2));return e}static multiply(t,e){return new rs(new Uint32Array(t.buffer)).times(e)}static add(t,e){return new rs(new Uint32Array(t.buffer)).plus(e)}}class ro extends rn{negate(){return this.buffer[0]=~this.buffer[0]+1,this.buffer[1]=~this.buffer[1],0==this.buffer[0]&&++this.buffer[1],this}times(t){return this._times(t),this}plus(t){return this._plus(t),this}lessThan(t){let e=0|this.buffer[1],i=0|t.buffer[1];return e<i||e===i&&this.buffer[0]<t.buffer[0]}static from(t,e=new Uint32Array(2)){return ro.fromString("string"==typeof t?t:t.toString(),e)}static fromNumber(t,e=new Uint32Array(2)){return ro.fromString(t.toString(),e)}static fromString(t,e=new Uint32Array(2)){let i=t.startsWith("-"),r=t.length,n=new ro(e);for(let e=+!!i;e<r;){let i=8<r-e?8:r-e,s=new ro(new Uint32Array([Number.parseInt(t.slice(e,e+i),10),0])),o=new ro(new Uint32Array([rr[i],0]));n.times(o),n.plus(s),e+=i}return i?n.negate():n}static convertArray(t){let e=new Uint32Array(2*t.length);for(let i=-1,r=t.length;++i<r;)ro.from(t[i],new Uint32Array(e.buffer,e.byteOffset+2*i*4,2));return e}static multiply(t,e){return new ro(new Uint32Array(t.buffer)).times(e)}static add(t,e){return new ro(new Uint32Array(t.buffer)).plus(e)}}class ra{constructor(t){this.buffer=t}high(){return new ro(new Uint32Array(this.buffer.buffer,this.buffer.byteOffset+8,2))}low(){return new ro(new Uint32Array(this.buffer.buffer,this.buffer.byteOffset,2))}negate(){return this.buffer[0]=~this.buffer[0]+1,this.buffer[1]=~this.buffer[1],this.buffer[2]=~this.buffer[2],this.buffer[3]=~this.buffer[3],0==this.buffer[0]&&++this.buffer[1],0==this.buffer[1]&&++this.buffer[2],0==this.buffer[2]&&++this.buffer[3],this}times(t){let e=new rs(new Uint32Array([this.buffer[3],0])),i=new rs(new Uint32Array([this.buffer[2],0])),r=new rs(new Uint32Array([this.buffer[1],0])),n=new rs(new Uint32Array([this.buffer[0],0])),s=new rs(new Uint32Array([t.buffer[3],0])),o=new rs(new Uint32Array([t.buffer[2],0])),a=new rs(new Uint32Array([t.buffer[1],0])),l=new rs(new Uint32Array([t.buffer[0],0])),u=rs.multiply(n,l);this.buffer[0]=u.low();let c=new rs(new Uint32Array([u.high(),0]));return u=rs.multiply(r,l),c.plus(u),u=rs.multiply(n,a),c.plus(u),this.buffer[1]=c.low(),this.buffer[3]=+!!c.lessThan(u),this.buffer[2]=c.high(),new rs(new Uint32Array(this.buffer.buffer,this.buffer.byteOffset+8,2)).plus(rs.multiply(i,l)).plus(rs.multiply(r,a)).plus(rs.multiply(n,o)),this.buffer[3]+=rs.multiply(e,l).plus(rs.multiply(i,a)).plus(rs.multiply(r,o)).plus(rs.multiply(n,s)).low(),this}plus(t){let e=new Uint32Array(4);return e[3]=this.buffer[3]+t.buffer[3]>>>0,e[2]=this.buffer[2]+t.buffer[2]>>>0,e[1]=this.buffer[1]+t.buffer[1]>>>0,e[0]=this.buffer[0]+t.buffer[0]>>>0,e[0]<this.buffer[0]>>>0&&++e[1],e[1]<this.buffer[1]>>>0&&++e[2],e[2]<this.buffer[2]>>>0&&++e[3],this.buffer[3]=e[3],this.buffer[2]=e[2],this.buffer[1]=e[1],this.buffer[0]=e[0],this}hex(){return`${ri(this.buffer[3])} ${ri(this.buffer[2])} ${ri(this.buffer[1])} ${ri(this.buffer[0])}`}static multiply(t,e){return new ra(new Uint32Array(t.buffer)).times(e)}static add(t,e){return new ra(new Uint32Array(t.buffer)).plus(e)}static from(t,e=new Uint32Array(4)){return ra.fromString("string"==typeof t?t:t.toString(),e)}static fromNumber(t,e=new Uint32Array(4)){return ra.fromString(t.toString(),e)}static fromString(t,e=new Uint32Array(4)){let i=t.startsWith("-"),r=t.length,n=new ra(e);for(let e=+!!i;e<r;){let i=8<r-e?8:r-e,s=new ra(new Uint32Array([Number.parseInt(t.slice(e,e+i),10),0,0,0])),o=new ra(new Uint32Array([rr[i],0,0,0]));n.times(o),n.plus(s),e+=i}return i?n.negate():n}static convertArray(t){let e=new Uint32Array(4*t.length);for(let i=-1,r=t.length;++i<r;)ra.from(t[i],new Uint32Array(e.buffer,e.byteOffset+16*i,4));return e}}class rl extends t${constructor(t,e,i,r,n=nX.V5){super(),this.nodesIndex=-1,this.buffersIndex=-1,this.bytes=t,this.nodes=e,this.buffers=i,this.dictionaries=r,this.metadataVersion=n}visit(t){return super.visit(t instanceof iY?t.type:t)}visitNull(t,{length:e}=this.nextFieldNode()){return iN({type:t,length:e})}visitBool(t,{length:e,nullCount:i}=this.nextFieldNode()){return iN({type:t,length:e,nullCount:i,nullBitmap:this.readNullBitmap(t,i),data:this.readData(t)})}visitInt(t,{length:e,nullCount:i}=this.nextFieldNode()){return iN({type:t,length:e,nullCount:i,nullBitmap:this.readNullBitmap(t,i),data:this.readData(t)})}visitFloat(t,{length:e,nullCount:i}=this.nextFieldNode()){return iN({type:t,length:e,nullCount:i,nullBitmap:this.readNullBitmap(t,i),data:this.readData(t)})}visitUtf8(t,{length:e,nullCount:i}=this.nextFieldNode()){return iN({type:t,length:e,nullCount:i,nullBitmap:this.readNullBitmap(t,i),valueOffsets:this.readOffsets(t),data:this.readData(t)})}visitLargeUtf8(t,{length:e,nullCount:i}=this.nextFieldNode()){return iN({type:t,length:e,nullCount:i,nullBitmap:this.readNullBitmap(t,i),valueOffsets:this.readOffsets(t),data:this.readData(t)})}visitBinary(t,{length:e,nullCount:i}=this.nextFieldNode()){return iN({type:t,length:e,nullCount:i,nullBitmap:this.readNullBitmap(t,i),valueOffsets:this.readOffsets(t),data:this.readData(t)})}visitLargeBinary(t,{length:e,nullCount:i}=this.nextFieldNode()){return iN({type:t,length:e,nullCount:i,nullBitmap:this.readNullBitmap(t,i),valueOffsets:this.readOffsets(t),data:this.readData(t)})}visitFixedSizeBinary(t,{length:e,nullCount:i}=this.nextFieldNode()){return iN({type:t,length:e,nullCount:i,nullBitmap:this.readNullBitmap(t,i),data:this.readData(t)})}visitDate(t,{length:e,nullCount:i}=this.nextFieldNode()){return iN({type:t,length:e,nullCount:i,nullBitmap:this.readNullBitmap(t,i),data:this.readData(t)})}visitTimestamp(t,{length:e,nullCount:i}=this.nextFieldNode()){return iN({type:t,length:e,nullCount:i,nullBitmap:this.readNullBitmap(t,i),data:this.readData(t)})}visitTime(t,{length:e,nullCount:i}=this.nextFieldNode()){return iN({type:t,length:e,nullCount:i,nullBitmap:this.readNullBitmap(t,i),data:this.readData(t)})}visitDecimal(t,{length:e,nullCount:i}=this.nextFieldNode()){return iN({type:t,length:e,nullCount:i,nullBitmap:this.readNullBitmap(t,i),data:this.readData(t)})}visitList(t,{length:e,nullCount:i}=this.nextFieldNode()){return iN({type:t,length:e,nullCount:i,nullBitmap:this.readNullBitmap(t,i),valueOffsets:this.readOffsets(t),child:this.visit(t.children[0])})}visitStruct(t,{length:e,nullCount:i}=this.nextFieldNode()){return iN({type:t,length:e,nullCount:i,nullBitmap:this.readNullBitmap(t,i),children:this.visitMany(t.children)})}visitUnion(t,{length:e,nullCount:i}=this.nextFieldNode()){return this.metadataVersion<nX.V5&&this.readNullBitmap(t,i),t.mode===nq.Sparse?this.visitSparseUnion(t,{length:e,nullCount:i}):this.visitDenseUnion(t,{length:e,nullCount:i})}visitDenseUnion(t,{length:e,nullCount:i}=this.nextFieldNode()){return iN({type:t,length:e,nullCount:i,typeIds:this.readTypeIds(t),valueOffsets:this.readOffsets(t),children:this.visitMany(t.children)})}visitSparseUnion(t,{length:e,nullCount:i}=this.nextFieldNode()){return iN({type:t,length:e,nullCount:i,typeIds:this.readTypeIds(t),children:this.visitMany(t.children)})}visitDictionary(t,{length:e,nullCount:i}=this.nextFieldNode()){return iN({type:t,length:e,nullCount:i,nullBitmap:this.readNullBitmap(t,i),data:this.readData(t.indices),dictionary:this.readDictionary(t)})}visitInterval(t,{length:e,nullCount:i}=this.nextFieldNode()){return iN({type:t,length:e,nullCount:i,nullBitmap:this.readNullBitmap(t,i),data:this.readData(t)})}visitDuration(t,{length:e,nullCount:i}=this.nextFieldNode()){return iN({type:t,length:e,nullCount:i,nullBitmap:this.readNullBitmap(t,i),data:this.readData(t)})}visitFixedSizeList(t,{length:e,nullCount:i}=this.nextFieldNode()){return iN({type:t,length:e,nullCount:i,nullBitmap:this.readNullBitmap(t,i),child:this.visit(t.children[0])})}visitMap(t,{length:e,nullCount:i}=this.nextFieldNode()){return iN({type:t,length:e,nullCount:i,nullBitmap:this.readNullBitmap(t,i),valueOffsets:this.readOffsets(t),child:this.visit(t.children[0])})}nextFieldNode(){return this.nodes[++this.nodesIndex]}nextBufferRange(){return this.buffers[++this.buffersIndex]}readNullBitmap(t,e,i=this.nextBufferRange()){return e>0&&this.readData(t,i)||new Uint8Array(0)}readOffsets(t,e){return this.readData(t,e)}readTypeIds(t,e){return this.readData(t,e)}readData(t,{length:e,offset:i}=this.nextBufferRange()){return this.bytes.subarray(i,i+e)}readDictionary(t){return this.dictionaries.get(t.id)}}class ru extends rl{constructor(t,e,i,r,n){super(new Uint8Array(0),e,i,r,n),this.sources=t}readNullBitmap(t,e,{offset:i}=this.nextBufferRange()){return e<=0?new Uint8Array(0):id(this.sources[i])}readOffsets(t,{offset:e}=this.nextBufferRange()){return Q(Uint8Array,Q(t.OffsetArrayType,this.sources[e]))}readTypeIds(t,{offset:e}=this.nextBufferRange()){return Q(Uint8Array,Q(t.ArrayType,this.sources[e]))}readData(t,{offset:e}=this.nextBufferRange()){let{sources:i}=this;if(tg.isTimestamp(t)||(tg.isInt(t)||tg.isTime(t))&&64===t.bitWidth||tg.isDuration(t))return Q(Uint8Array,ro.convertArray(i[e]));if(tg.isDate(t)&&t.unit===nH.MILLISECOND)return Q(Uint8Array,ro.convertArray(i[e]));if(tg.isDecimal(t))return Q(Uint8Array,ra.convertArray(i[e]));if(tg.isBinary(t)||tg.isLargeBinary(t)||tg.isFixedSizeBinary(t))return function(t){let e=t.join(""),i=new Uint8Array(e.length/2);for(let t=0;t<e.length;t+=2)i[t>>1]=Number.parseInt(e.slice(t,t+2),16);return i}(i[e]);else if(tg.isBool(t))return id(i[e]);else if(tg.isUtf8(t)||tg.isLargeUtf8(t))return R(i[e].join(""));return Q(Uint8Array,Q(t.ArrayType,i[e].map(t=>+t)))}}class rc extends t${compareSchemas(t,e){return t===e||e instanceof t.constructor&&this.compareManyFields(t.fields,e.fields)}compareManyFields(t,e){return t===e||Array.isArray(t)&&Array.isArray(e)&&t.length===e.length&&t.every((t,i)=>this.compareFields(t,e[i]))}compareFields(t,e){return t===e||e instanceof t.constructor&&t.name===e.name&&t.nullable===e.nullable&&this.visit(t.type,e.type)}}function rd(t,e){return e instanceof t.constructor}function rh(t,e){return t===e||rd(t,e)}function rp(t,e){return t===e||rd(t,e)&&t.bitWidth===e.bitWidth&&t.isSigned===e.isSigned}function rf(t,e){return t===e||rd(t,e)&&t.precision===e.precision}function ry(t,e){return t===e||rd(t,e)&&t.unit===e.unit}function rb(t,e){return t===e||rd(t,e)&&t.unit===e.unit&&t.timezone===e.timezone}function rm(t,e){return t===e||rd(t,e)&&t.unit===e.unit&&t.bitWidth===e.bitWidth}function rg(t,e){return t===e||rd(t,e)&&t.mode===e.mode&&t.typeIds.every((t,i)=>t===e.typeIds[i])&&rw.compareManyFields(t.children,e.children)}function r_(t,e){return t===e||rd(t,e)&&t.unit===e.unit}function rv(t,e){return t===e||rd(t,e)&&t.unit===e.unit}rc.prototype.visitNull=rh,rc.prototype.visitBool=rh,rc.prototype.visitInt=rp,rc.prototype.visitInt8=rp,rc.prototype.visitInt16=rp,rc.prototype.visitInt32=rp,rc.prototype.visitInt64=rp,rc.prototype.visitUint8=rp,rc.prototype.visitUint16=rp,rc.prototype.visitUint32=rp,rc.prototype.visitUint64=rp,rc.prototype.visitFloat=rf,rc.prototype.visitFloat16=rf,rc.prototype.visitFloat32=rf,rc.prototype.visitFloat64=rf,rc.prototype.visitUtf8=rh,rc.prototype.visitLargeUtf8=rh,rc.prototype.visitBinary=rh,rc.prototype.visitLargeBinary=rh,rc.prototype.visitFixedSizeBinary=function(t,e){return t===e||rd(t,e)&&t.byteWidth===e.byteWidth},rc.prototype.visitDate=ry,rc.prototype.visitDateDay=ry,rc.prototype.visitDateMillisecond=ry,rc.prototype.visitTimestamp=rb,rc.prototype.visitTimestampSecond=rb,rc.prototype.visitTimestampMillisecond=rb,rc.prototype.visitTimestampMicrosecond=rb,rc.prototype.visitTimestampNanosecond=rb,rc.prototype.visitTime=rm,rc.prototype.visitTimeSecond=rm,rc.prototype.visitTimeMillisecond=rm,rc.prototype.visitTimeMicrosecond=rm,rc.prototype.visitTimeNanosecond=rm,rc.prototype.visitDecimal=rh,rc.prototype.visitList=function(t,e){return t===e||rd(t,e)&&t.children.length===e.children.length&&rw.compareManyFields(t.children,e.children)},rc.prototype.visitStruct=function(t,e){return t===e||rd(t,e)&&t.children.length===e.children.length&&rw.compareManyFields(t.children,e.children)},rc.prototype.visitUnion=rg,rc.prototype.visitDenseUnion=rg,rc.prototype.visitSparseUnion=rg,rc.prototype.visitDictionary=function(t,e){return t===e||rd(t,e)&&t.id===e.id&&t.isOrdered===e.isOrdered&&rw.visit(t.indices,e.indices)&&rw.visit(t.dictionary,e.dictionary)},rc.prototype.visitInterval=r_,rc.prototype.visitIntervalDayTime=r_,rc.prototype.visitIntervalYearMonth=r_,rc.prototype.visitDuration=rv,rc.prototype.visitDurationSecond=rv,rc.prototype.visitDurationMillisecond=rv,rc.prototype.visitDurationMicrosecond=rv,rc.prototype.visitDurationNanosecond=rv,rc.prototype.visitFixedSizeList=function(t,e){return t===e||rd(t,e)&&t.listSize===e.listSize&&t.children.length===e.children.length&&rw.compareManyFields(t.children,e.children)},rc.prototype.visitMap=function(t,e){return t===e||rd(t,e)&&t.keysSorted===e.keysSorted&&t.children.length===e.children.length&&rw.compareManyFields(t.children,e.children)};let rw=new rc;function rI(t,e){return rw.compareSchemas(t,e)}function rS(t,e){return function(t,e){let i=[...t.fields],r=[],n={numBatches:e.reduce((t,e)=>Math.max(t,e.length),0)},s=0,o=0,a=-1,l=e.length,u,c=[];for(;n.numBatches-- >0;){for(o=Number.POSITIVE_INFINITY,a=-1;++a<l;)c[a]=u=e[a].shift(),o=Math.min(o,u?u.length:o);Number.isFinite(o)&&(c=function(t,e,i,r,n){var s;let o=(e+63&-64)>>3;for(let a=-1,l=r.length;++a<l;){let l=i[a],u=null==l?void 0:l.length;if(u>=e)u===e?i[a]=l:(i[a]=l.slice(0,e),n.numBatches=Math.max(n.numBatches,r[a].unshift(l.slice(e,u-e))));else{let r=t[a];t[a]=r.clone({nullable:!0}),i[a]=null!=(s=null==l?void 0:l._changeLengthAndBackfillNullBitmap(e))?s:iN({type:r.type,length:e,nullCount:e,nullBitmap:new Uint8Array(o)})}}return i}(i,o,c,e,n),o>0&&(r[s++]=iN({type:new tL(i),length:o,nullCount:0,children:c.slice()})))}return[t=t.assign(i),r.map(e=>new rE(t,e))]}(t,e.map(t=>t.data.concat()))}class rT{constructor(...t){var e,i;let r,n;if(0===t.length)return this.batches=[],this.schema=new iZ([]),this._offsets=[0],this;t[0]instanceof iZ&&(r=t.shift()),t.at(-1)instanceof Uint32Array&&(n=t.pop());let s=t=>{if(t){if(t instanceof rE)return[t];else if(t instanceof rT)return t.batches;else if(t instanceof iO){if(t.type instanceof tL)return[new rE(new iZ(t.type.children),t)]}else if(Array.isArray(t))return t.flatMap(t=>s(t));else if("function"==typeof t[Symbol.iterator])return[...t].flatMap(t=>s(t));else if("object"==typeof t){let e=Object.keys(t),i=e.map(e=>new iE([t[e]])),[,n]=rS(null!=r?r:new iZ(e.map((t,e)=>new iY(String(t),i[e].type,i[e].nullable))),i);return 0===n.length?[new rE(t)]:n}}return[]},o=t.flatMap(t=>s(t));if(!((r=null!=(i=null!=r?r:null==(e=o[0])?void 0:e.schema)?i:new iZ([]))instanceof iZ))throw TypeError("Table constructor expects a [Schema, RecordBatch[]] pair.");for(let t of o){if(!(t instanceof rE))throw TypeError("Table constructor expects a [Schema, RecordBatch[]] pair.");if(!rI(r,t.schema))throw TypeError("Table and inner RecordBatch schemas must be equivalent.")}this.schema=r,this.batches=o,this._offsets=null!=n?n:it(this.data)}get data(){return this.batches.map(({data:t})=>t)}get numCols(){return this.schema.fields.length}get numRows(){return this.data.reduce((t,e)=>t+e.length,0)}get nullCount(){return -1===this._nullCount&&(this._nullCount=e7(this.data)),this._nullCount}isValid(t){return!1}get(t){return null}at(t){return this.get(e3(t,this.numRows))}set(t,e){}indexOf(t,e){return -1}[Symbol.iterator](){return this.batches.length>0?iI.visit(new iE(this.data)):[][Symbol.iterator]()}toArray(){return[...this]}toString(){return`[
  ${this.toArray().join(",\n  ")}
]`}concat(...t){let e=this.schema;return new rT(e,this.data.concat(t.flatMap(({data:t})=>t)).map(t=>new rE(e,t)))}slice(t,e){let i=this.schema;return[t,e]=e2({length:this.numRows},t,e),new rT(i,ie(this.data,this._offsets,t,e).map(t=>new rE(i,t)))}getChild(t){return this.getChildAt(this.schema.fields.findIndex(e=>e.name===t))}getChildAt(t){if(t>-1&&t<this.schema.fields.length){let e=this.data.map(e=>e.children[t]);if(0===e.length){let{type:i}=this.schema.fields[t],r=iN({type:i,length:0,nullCount:0});e.push(r._changeLengthAndBackfillNullBitmap(this.numRows))}return new iE(e)}return null}setChild(t,e){var i;return this.setChildAt(null==(i=this.schema.fields)?void 0:i.findIndex(e=>e.name===t),e)}setChildAt(t,e){let i=this.schema,r=[...this.batches];if(t>-1&&t<this.numCols){e||(e=new iE([iN({type:new t_,length:this.numRows})]));let n=i.fields.slice(),s=n[t].clone({type:e.type}),o=this.schema.fields.map((t,e)=>this.getChildAt(e));[n[t],o[t]]=[s,e],[i,r]=rS(i,o)}return new rT(i,r)}select(t){let e=this.schema.fields.reduce((t,e,i)=>t.set(e.name,i),new Map);return this.selectAt(t.map(t=>e.get(t)).filter(t=>t>-1))}selectAt(t){return new rT(this.schema.selectAt(t),this.batches.map(e=>e.selectAt(t)))}assign(t){let e=this.schema.fields,[i,r]=t.schema.fields.reduce((t,i,r)=>{let[n,s]=t,o=e.findIndex(t=>t.name===i.name);return~o?s[o]=r:n.push(r),t},[[],[]]);return new rT(...rS(this.schema.assign(t.schema),[...e.map((t,e)=>[e,r[e]]).map(([e,i])=>void 0===i?this.getChildAt(e):t.getChildAt(i)),...i.map(e=>t.getChildAt(e))].filter(Boolean)))}}rT[Symbol.toStringTag]=((sB=rT.prototype).schema=null,sB.batches=[],sB._offsets=new Uint32Array([0]),sB._nullCount=-1,sB[Symbol.isConcatSpreadable]=!0,sB.isValid=is(ir),sB.get=is(eH.getVisitFn(nZ.Struct)),sB.set=io(eb.getVisitFn(nZ.Struct)),sB.indexOf=ia(ig.getVisitFn(nZ.Struct)),"Table");class rE{constructor(...t){switch(t.length){case 2:if([this.schema]=t,!(this.schema instanceof iZ)||([,this.data=iN({nullCount:0,type:new tL(this.schema.fields),children:this.schema.fields.map(t=>iN({type:t.type,nullCount:0}))})]=t,!(this.data instanceof iO)))throw TypeError("RecordBatch constructor expects a [Schema, Data] pair.");[this.schema,this.data]=rA(this.schema,this.data.children);break;case 1:{let[e]=t,{fields:i,children:r,length:n}=Object.keys(e).reduce((t,i,r)=>(t.children[r]=e[i],t.length=Math.max(t.length,e[i].length),t.fields[r]=iY.new({name:i,type:e[i].type,nullable:!0}),t),{length:0,fields:[],children:[]}),s=new iZ(i),o=iN({type:new tL(i),length:n,children:r,nullCount:0});[this.schema,this.data]=rA(s,o.children,n);break}default:throw TypeError("RecordBatch constructor expects an Object mapping names to child Data, or a [Schema, Data] pair.")}}get dictionaries(){return this._dictionaries||(this._dictionaries=function t(e,i,r=new Map){var n,s;if((null!=(n=null==e?void 0:e.length)?n:0)>0&&(null==e?void 0:e.length)===(null==i?void 0:i.length))for(let n=-1,o=e.length;++n<o;){let{type:o}=e[n],a=i[n];for(let e of[a,...(null==(s=null==a?void 0:a.dictionary)?void 0:s.data)||[]])t(o.children,null==e?void 0:e.children,r);if(tg.isDictionary(o)){let{id:t}=o;if(r.has(t)){if(r.get(t)!==a.dictionary)throw Error("Cannot create Schema containing two different dictionaries with the same Id")}else(null==a?void 0:a.dictionary)&&r.set(t,a.dictionary)}}return r}(this.schema.fields,this.data.children))}get numCols(){return this.schema.fields.length}get numRows(){return this.data.length}get nullCount(){return this.data.nullCount}isValid(t){return this.data.getValid(t)}get(t){return eH.visit(this.data,t)}at(t){return this.get(e3(t,this.numRows))}set(t,e){return eb.visit(this.data,t,e)}indexOf(t,e){return ig.visit(this.data,t,e)}[Symbol.iterator](){return iI.visit(new iE([this.data]))}toArray(){return[...this]}concat(...t){return new rT(this.schema,[this,...t])}slice(t,e){let[i]=new iE([this.data]).slice(t,e).data;return new rE(this.schema,i)}getChild(t){var e;return this.getChildAt(null==(e=this.schema.fields)?void 0:e.findIndex(e=>e.name===t))}getChildAt(t){return t>-1&&t<this.schema.fields.length?new iE([this.data.children[t]]):null}setChild(t,e){var i;return this.setChildAt(null==(i=this.schema.fields)?void 0:i.findIndex(e=>e.name===t),e)}setChildAt(t,e){let i=this.schema,r=this.data;if(t>-1&&t<this.numCols){e||(e=new iE([iN({type:new t_,length:this.numRows})]));let n=i.fields.slice(),s=r.children.slice(),o=n[t].clone({type:e.type});[n[t],s[t]]=[o,e.data[0]],i=new iZ(n,new Map(this.schema.metadata)),r=iN({type:new tL(n),children:s})}return new rE(i,r)}select(t){let e=this.schema.select(t),i=new tL(e.fields),r=[];for(let e of t){let t=this.schema.fields.findIndex(t=>t.name===e);~t&&(r[t]=this.data.children[t])}return new rE(e,iN({type:i,length:this.numRows,children:r}))}selectAt(t){let e=this.schema.selectAt(t),i=t.map(t=>this.data.children[t]).filter(Boolean),r=iN({type:new tL(e.fields),length:this.numRows,children:i});return new rE(e,r)}}function rA(t,e,i=e.reduce((t,e)=>Math.max(t,e.length),0)){var r;let n=[...t.fields],s=[...e],o=(i+63&-64)>>3;for(let[a,l]of t.fields.entries()){let t=e[a];t&&t.length===i||(n[a]=l.clone({nullable:!0}),s[a]=null!=(r=null==t?void 0:t._changeLengthAndBackfillNullBitmap(i))?r:iN({type:l.type,length:i,nullCount:i,nullBitmap:new Uint8Array(o)}))}return[t.assign(n),iN({type:new tL(n),length:i,children:s})]}rE[Symbol.toStringTag]=((sN=rE.prototype)._nullCount=-1,sN[Symbol.isConcatSpreadable]=!0,"RecordBatch");class rO extends rE{constructor(t){super(t,iN({type:new tL(t.fields),nullCount:0,children:t.fields.map(t=>iN({type:t.type}))}))}}(sR=n3||(n3={}))[sR.BUFFER=0]="BUFFER",(sF=n4||(n4={}))[sF.LZ4_FRAME=0]="LZ4_FRAME",sF[sF.ZSTD=1]="ZSTD";class rD{constructor(){this.bb=null,this.bb_pos=0}__init(t,e){return this.bb_pos=t,this.bb=e,this}static getRootAsBodyCompression(t,e){return(e||new rD).__init(t.readInt32(t.position())+t.position(),t)}static getSizePrefixedRootAsBodyCompression(t,e){return t.setPosition(t.position()+4),(e||new rD).__init(t.readInt32(t.position())+t.position(),t)}codec(){let t=this.bb.__offset(this.bb_pos,4);return t?this.bb.readInt8(this.bb_pos+t):n4.LZ4_FRAME}method(){let t=this.bb.__offset(this.bb_pos,6);return t?this.bb.readInt8(this.bb_pos+t):n3.BUFFER}static startBodyCompression(t){t.startObject(2)}static addCodec(t,e){t.addFieldInt8(0,e,n4.LZ4_FRAME)}static addMethod(t,e){t.addFieldInt8(1,e,n3.BUFFER)}static endBodyCompression(t){return t.endObject()}static createBodyCompression(t,e,i){return rD.startBodyCompression(t),rD.addCodec(t,e),rD.addMethod(t,i),rD.endBodyCompression(t)}}class rB{constructor(){this.bb=null,this.bb_pos=0}__init(t,e){return this.bb_pos=t,this.bb=e,this}offset(){return this.bb.readInt64(this.bb_pos)}length(){return this.bb.readInt64(this.bb_pos+8)}static sizeOf(){return 16}static createBuffer(t,e,i){return t.prep(8,16),t.writeInt64(BigInt(null!=i?i:0)),t.writeInt64(BigInt(null!=e?e:0)),t.offset()}}class rN{constructor(){this.bb=null,this.bb_pos=0}__init(t,e){return this.bb_pos=t,this.bb=e,this}length(){return this.bb.readInt64(this.bb_pos)}nullCount(){return this.bb.readInt64(this.bb_pos+8)}static sizeOf(){return 16}static createFieldNode(t,e,i){return t.prep(8,16),t.writeInt64(BigInt(null!=i?i:0)),t.writeInt64(BigInt(null!=e?e:0)),t.offset()}}class rR{constructor(){this.bb=null,this.bb_pos=0}__init(t,e){return this.bb_pos=t,this.bb=e,this}static getRootAsRecordBatch(t,e){return(e||new rR).__init(t.readInt32(t.position())+t.position(),t)}static getSizePrefixedRootAsRecordBatch(t,e){return t.setPosition(t.position()+4),(e||new rR).__init(t.readInt32(t.position())+t.position(),t)}length(){let t=this.bb.__offset(this.bb_pos,4);return t?this.bb.readInt64(this.bb_pos+t):BigInt("0")}nodes(t,e){let i=this.bb.__offset(this.bb_pos,6);return i?(e||new rN).__init(this.bb.__vector(this.bb_pos+i)+16*t,this.bb):null}nodesLength(){let t=this.bb.__offset(this.bb_pos,6);return t?this.bb.__vector_len(this.bb_pos+t):0}buffers(t,e){let i=this.bb.__offset(this.bb_pos,8);return i?(e||new rB).__init(this.bb.__vector(this.bb_pos+i)+16*t,this.bb):null}buffersLength(){let t=this.bb.__offset(this.bb_pos,8);return t?this.bb.__vector_len(this.bb_pos+t):0}compression(t){let e=this.bb.__offset(this.bb_pos,10);return e?(t||new rD).__init(this.bb.__indirect(this.bb_pos+e),this.bb):null}static startRecordBatch(t){t.startObject(4)}static addLength(t,e){t.addFieldInt64(0,e,BigInt("0"))}static addNodes(t,e){t.addFieldOffset(1,e,0)}static startNodesVector(t,e){t.startVector(16,e,8)}static addBuffers(t,e){t.addFieldOffset(2,e,0)}static startBuffersVector(t,e){t.startVector(16,e,8)}static addCompression(t,e){t.addFieldOffset(3,e,0)}static endRecordBatch(t){return t.endObject()}}class rF{constructor(){this.bb=null,this.bb_pos=0}__init(t,e){return this.bb_pos=t,this.bb=e,this}static getRootAsDictionaryBatch(t,e){return(e||new rF).__init(t.readInt32(t.position())+t.position(),t)}static getSizePrefixedRootAsDictionaryBatch(t,e){return t.setPosition(t.position()+4),(e||new rF).__init(t.readInt32(t.position())+t.position(),t)}id(){let t=this.bb.__offset(this.bb_pos,4);return t?this.bb.readInt64(this.bb_pos+t):BigInt("0")}data(t){let e=this.bb.__offset(this.bb_pos,6);return e?(t||new rR).__init(this.bb.__indirect(this.bb_pos+e),this.bb):null}isDelta(){let t=this.bb.__offset(this.bb_pos,8);return!!t&&!!this.bb.readInt8(this.bb_pos+t)}static startDictionaryBatch(t){t.startObject(3)}static addId(t,e){t.addFieldInt64(0,e,BigInt("0"))}static addData(t,e){t.addFieldOffset(1,e,0)}static addIsDelta(t,e){t.addFieldInt8(2,+e,0)}static endDictionaryBatch(t){return t.endObject()}}class rx{constructor(){this.bb=null,this.bb_pos=0}__init(t,e){return this.bb_pos=t,this.bb=e,this}static getRootAsFloatingPoint(t,e){return(e||new rx).__init(t.readInt32(t.position())+t.position(),t)}static getSizePrefixedRootAsFloatingPoint(t,e){return t.setPosition(t.position()+4),(e||new rx).__init(t.readInt32(t.position())+t.position(),t)}precision(){let t=this.bb.__offset(this.bb_pos,4);return t?this.bb.readInt16(this.bb_pos+t):nW.HALF}static startFloatingPoint(t){t.startObject(1)}static addPrecision(t,e){t.addFieldInt16(0,e,nW.HALF)}static endFloatingPoint(t){return t.endObject()}static createFloatingPoint(t,e){return rx.startFloatingPoint(t),rx.addPrecision(t,e),rx.endFloatingPoint(t)}}class rP{constructor(){this.bb=null,this.bb_pos=0}__init(t,e){return this.bb_pos=t,this.bb=e,this}static getRootAsDecimal(t,e){return(e||new rP).__init(t.readInt32(t.position())+t.position(),t)}static getSizePrefixedRootAsDecimal(t,e){return t.setPosition(t.position()+4),(e||new rP).__init(t.readInt32(t.position())+t.position(),t)}precision(){let t=this.bb.__offset(this.bb_pos,4);return t?this.bb.readInt32(this.bb_pos+t):0}scale(){let t=this.bb.__offset(this.bb_pos,6);return t?this.bb.readInt32(this.bb_pos+t):0}bitWidth(){let t=this.bb.__offset(this.bb_pos,8);return t?this.bb.readInt32(this.bb_pos+t):128}static startDecimal(t){t.startObject(3)}static addPrecision(t,e){t.addFieldInt32(0,e,0)}static addScale(t,e){t.addFieldInt32(1,e,0)}static addBitWidth(t,e){t.addFieldInt32(2,e,128)}static endDecimal(t){return t.endObject()}static createDecimal(t,e,i,r){return rP.startDecimal(t),rP.addPrecision(t,e),rP.addScale(t,i),rP.addBitWidth(t,r),rP.endDecimal(t)}}class rL{constructor(){this.bb=null,this.bb_pos=0}__init(t,e){return this.bb_pos=t,this.bb=e,this}static getRootAsDate(t,e){return(e||new rL).__init(t.readInt32(t.position())+t.position(),t)}static getSizePrefixedRootAsDate(t,e){return t.setPosition(t.position()+4),(e||new rL).__init(t.readInt32(t.position())+t.position(),t)}unit(){let t=this.bb.__offset(this.bb_pos,4);return t?this.bb.readInt16(this.bb_pos+t):nH.MILLISECOND}static startDate(t){t.startObject(1)}static addUnit(t,e){t.addFieldInt16(0,e,nH.MILLISECOND)}static endDate(t){return t.endObject()}static createDate(t,e){return rL.startDate(t),rL.addUnit(t,e),rL.endDate(t)}}class rM{constructor(){this.bb=null,this.bb_pos=0}__init(t,e){return this.bb_pos=t,this.bb=e,this}static getRootAsTime(t,e){return(e||new rM).__init(t.readInt32(t.position())+t.position(),t)}static getSizePrefixedRootAsTime(t,e){return t.setPosition(t.position()+4),(e||new rM).__init(t.readInt32(t.position())+t.position(),t)}unit(){let t=this.bb.__offset(this.bb_pos,4);return t?this.bb.readInt16(this.bb_pos+t):nG.MILLISECOND}bitWidth(){let t=this.bb.__offset(this.bb_pos,6);return t?this.bb.readInt32(this.bb_pos+t):32}static startTime(t){t.startObject(2)}static addUnit(t,e){t.addFieldInt16(0,e,nG.MILLISECOND)}static addBitWidth(t,e){t.addFieldInt32(1,e,32)}static endTime(t){return t.endObject()}static createTime(t,e,i){return rM.startTime(t),rM.addUnit(t,e),rM.addBitWidth(t,i),rM.endTime(t)}}class rU{constructor(){this.bb=null,this.bb_pos=0}__init(t,e){return this.bb_pos=t,this.bb=e,this}static getRootAsTimestamp(t,e){return(e||new rU).__init(t.readInt32(t.position())+t.position(),t)}static getSizePrefixedRootAsTimestamp(t,e){return t.setPosition(t.position()+4),(e||new rU).__init(t.readInt32(t.position())+t.position(),t)}unit(){let t=this.bb.__offset(this.bb_pos,4);return t?this.bb.readInt16(this.bb_pos+t):nG.SECOND}timezone(t){let e=this.bb.__offset(this.bb_pos,6);return e?this.bb.__string(this.bb_pos+e,t):null}static startTimestamp(t){t.startObject(2)}static addUnit(t,e){t.addFieldInt16(0,e,nG.SECOND)}static addTimezone(t,e){t.addFieldOffset(1,e,0)}static endTimestamp(t){return t.endObject()}static createTimestamp(t,e,i){return rU.startTimestamp(t),rU.addUnit(t,e),rU.addTimezone(t,i),rU.endTimestamp(t)}}class rk{constructor(){this.bb=null,this.bb_pos=0}__init(t,e){return this.bb_pos=t,this.bb=e,this}static getRootAsInterval(t,e){return(e||new rk).__init(t.readInt32(t.position())+t.position(),t)}static getSizePrefixedRootAsInterval(t,e){return t.setPosition(t.position()+4),(e||new rk).__init(t.readInt32(t.position())+t.position(),t)}unit(){let t=this.bb.__offset(this.bb_pos,4);return t?this.bb.readInt16(this.bb_pos+t):nK.YEAR_MONTH}static startInterval(t){t.startObject(1)}static addUnit(t,e){t.addFieldInt16(0,e,nK.YEAR_MONTH)}static endInterval(t){return t.endObject()}static createInterval(t,e){return rk.startInterval(t),rk.addUnit(t,e),rk.endInterval(t)}}class rz{constructor(){this.bb=null,this.bb_pos=0}__init(t,e){return this.bb_pos=t,this.bb=e,this}static getRootAsDuration(t,e){return(e||new rz).__init(t.readInt32(t.position())+t.position(),t)}static getSizePrefixedRootAsDuration(t,e){return t.setPosition(t.position()+4),(e||new rz).__init(t.readInt32(t.position())+t.position(),t)}unit(){let t=this.bb.__offset(this.bb_pos,4);return t?this.bb.readInt16(this.bb_pos+t):nG.MILLISECOND}static startDuration(t){t.startObject(1)}static addUnit(t,e){t.addFieldInt16(0,e,nG.MILLISECOND)}static endDuration(t){return t.endObject()}static createDuration(t,e){return rz.startDuration(t),rz.addUnit(t,e),rz.endDuration(t)}}class rC{constructor(){this.bb=null,this.bb_pos=0}__init(t,e){return this.bb_pos=t,this.bb=e,this}static getRootAsUnion(t,e){return(e||new rC).__init(t.readInt32(t.position())+t.position(),t)}static getSizePrefixedRootAsUnion(t,e){return t.setPosition(t.position()+4),(e||new rC).__init(t.readInt32(t.position())+t.position(),t)}mode(){let t=this.bb.__offset(this.bb_pos,4);return t?this.bb.readInt16(this.bb_pos+t):nq.Sparse}typeIds(t){let e=this.bb.__offset(this.bb_pos,6);return e?this.bb.readInt32(this.bb.__vector(this.bb_pos+e)+4*t):0}typeIdsLength(){let t=this.bb.__offset(this.bb_pos,6);return t?this.bb.__vector_len(this.bb_pos+t):0}typeIdsArray(){let t=this.bb.__offset(this.bb_pos,6);return t?new Int32Array(this.bb.bytes().buffer,this.bb.bytes().byteOffset+this.bb.__vector(this.bb_pos+t),this.bb.__vector_len(this.bb_pos+t)):null}static startUnion(t){t.startObject(2)}static addMode(t,e){t.addFieldInt16(0,e,nq.Sparse)}static addTypeIds(t,e){t.addFieldOffset(1,e,0)}static createTypeIdsVector(t,e){t.startVector(4,e.length,4);for(let i=e.length-1;i>=0;i--)t.addInt32(e[i]);return t.endVector()}static startTypeIdsVector(t,e){t.startVector(4,e,4)}static endUnion(t){return t.endObject()}static createUnion(t,e,i){return rC.startUnion(t),rC.addMode(t,e),rC.addTypeIds(t,i),rC.endUnion(t)}}class rj{constructor(){this.bb=null,this.bb_pos=0}__init(t,e){return this.bb_pos=t,this.bb=e,this}static getRootAsFixedSizeBinary(t,e){return(e||new rj).__init(t.readInt32(t.position())+t.position(),t)}static getSizePrefixedRootAsFixedSizeBinary(t,e){return t.setPosition(t.position()+4),(e||new rj).__init(t.readInt32(t.position())+t.position(),t)}byteWidth(){let t=this.bb.__offset(this.bb_pos,4);return t?this.bb.readInt32(this.bb_pos+t):0}static startFixedSizeBinary(t){t.startObject(1)}static addByteWidth(t,e){t.addFieldInt32(0,e,0)}static endFixedSizeBinary(t){return t.endObject()}static createFixedSizeBinary(t,e){return rj.startFixedSizeBinary(t),rj.addByteWidth(t,e),rj.endFixedSizeBinary(t)}}class rV{constructor(){this.bb=null,this.bb_pos=0}__init(t,e){return this.bb_pos=t,this.bb=e,this}static getRootAsFixedSizeList(t,e){return(e||new rV).__init(t.readInt32(t.position())+t.position(),t)}static getSizePrefixedRootAsFixedSizeList(t,e){return t.setPosition(t.position()+4),(e||new rV).__init(t.readInt32(t.position())+t.position(),t)}listSize(){let t=this.bb.__offset(this.bb_pos,4);return t?this.bb.readInt32(this.bb_pos+t):0}static startFixedSizeList(t){t.startObject(1)}static addListSize(t,e){t.addFieldInt32(0,e,0)}static endFixedSizeList(t){return t.endObject()}static createFixedSizeList(t,e){return rV.startFixedSizeList(t),rV.addListSize(t,e),rV.endFixedSizeList(t)}}class r${constructor(){this.bb=null,this.bb_pos=0}__init(t,e){return this.bb_pos=t,this.bb=e,this}static getRootAsMap(t,e){return(e||new r$).__init(t.readInt32(t.position())+t.position(),t)}static getSizePrefixedRootAsMap(t,e){return t.setPosition(t.position()+4),(e||new r$).__init(t.readInt32(t.position())+t.position(),t)}keysSorted(){let t=this.bb.__offset(this.bb_pos,4);return!!t&&!!this.bb.readInt8(this.bb_pos+t)}static startMap(t){t.startObject(1)}static addKeysSorted(t,e){t.addFieldInt8(0,+e,0)}static endMap(t){return t.endObject()}static createMap(t,e){return r$.startMap(t),r$.addKeysSorted(t,e),r$.endMap(t)}}class rZ{constructor(){this.bb=null,this.bb_pos=0}__init(t,e){return this.bb_pos=t,this.bb=e,this}static getRootAsMessage(t,e){return(e||new rZ).__init(t.readInt32(t.position())+t.position(),t)}static getSizePrefixedRootAsMessage(t,e){return t.setPosition(t.position()+4),(e||new rZ).__init(t.readInt32(t.position())+t.position(),t)}version(){let t=this.bb.__offset(this.bb_pos,4);return t?this.bb.readInt16(this.bb_pos+t):nX.V1}headerType(){let t=this.bb.__offset(this.bb_pos,6);return t?this.bb.readUint8(this.bb_pos+t):nJ.NONE}header(t){let e=this.bb.__offset(this.bb_pos,8);return e?this.bb.__union(t,this.bb_pos+e):null}bodyLength(){let t=this.bb.__offset(this.bb_pos,10);return t?this.bb.readInt64(this.bb_pos+t):BigInt("0")}customMetadata(t,e){let i=this.bb.__offset(this.bb_pos,12);return i?(e||new ik).__init(this.bb.__indirect(this.bb.__vector(this.bb_pos+i)+4*t),this.bb):null}customMetadataLength(){let t=this.bb.__offset(this.bb_pos,12);return t?this.bb.__vector_len(this.bb_pos+t):0}static startMessage(t){t.startObject(5)}static addVersion(t,e){t.addFieldInt16(0,e,nX.V1)}static addHeaderType(t,e){t.addFieldInt8(1,e,nJ.NONE)}static addHeader(t,e){t.addFieldOffset(2,e,0)}static addBodyLength(t,e){t.addFieldInt64(3,e,BigInt("0"))}static addCustomMetadata(t,e){t.addFieldOffset(4,e,0)}static createCustomMetadataVector(t,e){t.startVector(4,e.length,4);for(let i=e.length-1;i>=0;i--)t.addOffset(e[i]);return t.endVector()}static startCustomMetadataVector(t,e){t.startVector(4,e,4)}static endMessage(t){return t.endObject()}static finishMessageBuffer(t,e){t.finish(e)}static finishSizePrefixedMessageBuffer(t,e){t.finish(e,void 0,!0)}static createMessage(t,e,i,r,n,s){return rZ.startMessage(t),rZ.addVersion(t,e),rZ.addHeaderType(t,i),rZ.addHeader(t,r),rZ.addBodyLength(t,n),rZ.addCustomMetadata(t,s),rZ.endMessage(t)}}class rY{constructor(){this.bb=null,this.bb_pos=0}__init(t,e){return this.bb_pos=t,this.bb=e,this}static getRootAsNull(t,e){return(e||new rY).__init(t.readInt32(t.position())+t.position(),t)}static getSizePrefixedRootAsNull(t,e){return t.setPosition(t.position()+4),(e||new rY).__init(t.readInt32(t.position())+t.position(),t)}static startNull(t){t.startObject(0)}static endNull(t){return t.endObject()}static createNull(t){return rY.startNull(t),rY.endNull(t)}}class rW{constructor(){this.bb=null,this.bb_pos=0}__init(t,e){return this.bb_pos=t,this.bb=e,this}static getRootAsBinary(t,e){return(e||new rW).__init(t.readInt32(t.position())+t.position(),t)}static getSizePrefixedRootAsBinary(t,e){return t.setPosition(t.position()+4),(e||new rW).__init(t.readInt32(t.position())+t.position(),t)}static startBinary(t){t.startObject(0)}static endBinary(t){return t.endObject()}static createBinary(t){return rW.startBinary(t),rW.endBinary(t)}}class rG{constructor(){this.bb=null,this.bb_pos=0}__init(t,e){return this.bb_pos=t,this.bb=e,this}static getRootAsLargeBinary(t,e){return(e||new rG).__init(t.readInt32(t.position())+t.position(),t)}static getSizePrefixedRootAsLargeBinary(t,e){return t.setPosition(t.position()+4),(e||new rG).__init(t.readInt32(t.position())+t.position(),t)}static startLargeBinary(t){t.startObject(0)}static endLargeBinary(t){return t.endObject()}static createLargeBinary(t){return rG.startLargeBinary(t),rG.endLargeBinary(t)}}class rH{constructor(){this.bb=null,this.bb_pos=0}__init(t,e){return this.bb_pos=t,this.bb=e,this}static getRootAsBool(t,e){return(e||new rH).__init(t.readInt32(t.position())+t.position(),t)}static getSizePrefixedRootAsBool(t,e){return t.setPosition(t.position()+4),(e||new rH).__init(t.readInt32(t.position())+t.position(),t)}static startBool(t){t.startObject(0)}static endBool(t){return t.endObject()}static createBool(t){return rH.startBool(t),rH.endBool(t)}}class rK{constructor(){this.bb=null,this.bb_pos=0}__init(t,e){return this.bb_pos=t,this.bb=e,this}static getRootAsUtf8(t,e){return(e||new rK).__init(t.readInt32(t.position())+t.position(),t)}static getSizePrefixedRootAsUtf8(t,e){return t.setPosition(t.position()+4),(e||new rK).__init(t.readInt32(t.position())+t.position(),t)}static startUtf8(t){t.startObject(0)}static endUtf8(t){return t.endObject()}static createUtf8(t){return rK.startUtf8(t),rK.endUtf8(t)}}class rq{constructor(){this.bb=null,this.bb_pos=0}__init(t,e){return this.bb_pos=t,this.bb=e,this}static getRootAsLargeUtf8(t,e){return(e||new rq).__init(t.readInt32(t.position())+t.position(),t)}static getSizePrefixedRootAsLargeUtf8(t,e){return t.setPosition(t.position()+4),(e||new rq).__init(t.readInt32(t.position())+t.position(),t)}static startLargeUtf8(t){t.startObject(0)}static endLargeUtf8(t){return t.endObject()}static createLargeUtf8(t){return rq.startLargeUtf8(t),rq.endLargeUtf8(t)}}class rJ{constructor(){this.bb=null,this.bb_pos=0}__init(t,e){return this.bb_pos=t,this.bb=e,this}static getRootAsList(t,e){return(e||new rJ).__init(t.readInt32(t.position())+t.position(),t)}static getSizePrefixedRootAsList(t,e){return t.setPosition(t.position()+4),(e||new rJ).__init(t.readInt32(t.position())+t.position(),t)}static startList(t){t.startObject(0)}static endList(t){return t.endObject()}static createList(t){return rJ.startList(t),rJ.endList(t)}}class rQ{constructor(){this.bb=null,this.bb_pos=0}__init(t,e){return this.bb_pos=t,this.bb=e,this}static getRootAsStruct_(t,e){return(e||new rQ).__init(t.readInt32(t.position())+t.position(),t)}static getSizePrefixedRootAsStruct_(t,e){return t.setPosition(t.position()+4),(e||new rQ).__init(t.readInt32(t.position())+t.position(),t)}static startStruct_(t){t.startObject(0)}static endStruct_(t){return t.endObject()}static createStruct_(t){return rQ.startStruct_(t),rQ.endStruct_(t)}}let rX=new class extends t${visit(t,e){return null==t||null==e?void 0:super.visit(t,e)}visitNull(t,e){return rY.startNull(e),rY.endNull(e)}visitInt(t,e){return iz.startInt(e),iz.addBitWidth(e,t.bitWidth),iz.addIsSigned(e,t.isSigned),iz.endInt(e)}visitFloat(t,e){return rx.startFloatingPoint(e),rx.addPrecision(e,t.precision),rx.endFloatingPoint(e)}visitBinary(t,e){return rW.startBinary(e),rW.endBinary(e)}visitLargeBinary(t,e){return rG.startLargeBinary(e),rG.endLargeBinary(e)}visitBool(t,e){return rH.startBool(e),rH.endBool(e)}visitUtf8(t,e){return rK.startUtf8(e),rK.endUtf8(e)}visitLargeUtf8(t,e){return rq.startLargeUtf8(e),rq.endLargeUtf8(e)}visitDecimal(t,e){return rP.startDecimal(e),rP.addScale(e,t.scale),rP.addPrecision(e,t.precision),rP.addBitWidth(e,t.bitWidth),rP.endDecimal(e)}visitDate(t,e){return rL.startDate(e),rL.addUnit(e,t.unit),rL.endDate(e)}visitTime(t,e){return rM.startTime(e),rM.addUnit(e,t.unit),rM.addBitWidth(e,t.bitWidth),rM.endTime(e)}visitTimestamp(t,e){let i=t.timezone&&e.createString(t.timezone)||void 0;return rU.startTimestamp(e),rU.addUnit(e,t.unit),void 0!==i&&rU.addTimezone(e,i),rU.endTimestamp(e)}visitInterval(t,e){return rk.startInterval(e),rk.addUnit(e,t.unit),rk.endInterval(e)}visitDuration(t,e){return rz.startDuration(e),rz.addUnit(e,t.unit),rz.endDuration(e)}visitList(t,e){return rJ.startList(e),rJ.endList(e)}visitStruct(t,e){return rQ.startStruct_(e),rQ.endStruct_(e)}visitUnion(t,e){rC.startTypeIdsVector(e,t.typeIds.length);let i=rC.createTypeIdsVector(e,t.typeIds);return rC.startUnion(e),rC.addMode(e,t.mode),rC.addTypeIds(e,i),rC.endUnion(e)}visitDictionary(t,e){let i=this.visit(t.indices,e);return iC.startDictionaryEncoding(e),iC.addId(e,BigInt(t.id)),iC.addIsOrdered(e,t.isOrdered),void 0!==i&&iC.addIndexType(e,i),iC.endDictionaryEncoding(e)}visitFixedSizeBinary(t,e){return rj.startFixedSizeBinary(e),rj.addByteWidth(e,t.byteWidth),rj.endFixedSizeBinary(e)}visitFixedSizeList(t,e){return rV.startFixedSizeList(e),rV.addListSize(e,t.listSize),rV.endFixedSizeList(e)}visitMap(t,e){return r$.startMap(e),r$.addKeysSorted(e,t.keysSorted),r$.endMap(e)}};function r0(t){return new r8(t.count,function t(e){return(e||[]).reduce((e,i)=>[...e,new r7(i.count,(i.VALIDITY||[]).reduce((t,e)=>t+ +(0===e),0)),...t(i.children)],[])}(t.columns),function t(e,i=[]){for(let r=-1,n=(e||[]).length;++r<n;){let n=e[r];n.VALIDITY&&i.push(new r9(i.length,n.VALIDITY.length)),n.TYPE_ID&&i.push(new r9(i.length,n.TYPE_ID.length)),n.OFFSET&&i.push(new r9(i.length,n.OFFSET.length)),n.DATA&&i.push(new r9(i.length,n.DATA.length)),i=t(n.children,i)}return i}(t.columns))}function r1(t,e){return(t.children||[]).filter(Boolean).map(t=>iY.fromJSON(t,e))}function r2(t=[]){return new Map(t.map(({key:t,value:e})=>[t,e]))}function r3(t){return new tv(t.isSigned,t.bitWidth)}function r4(t,e){let i=t.type.name;switch(i){case"NONE":case"null":return new t_;case"binary":return new tS;case"largebinary":return new tT;case"utf8":return new tE;case"largeutf8":return new tA;case"bool":return new tO;case"list":return new tP((e||[])[0]);case"struct":case"struct_":return new tL(e||[])}switch(i){case"int":{let e=t.type;return new tv(e.isSigned,e.bitWidth)}case"floatingpoint":return new tI(nW[t.type.precision]);case"decimal":{let e=t.type;return new tD(e.scale,e.precision,e.bitWidth)}case"date":return new tB(nH[t.type.unit]);case"time":{let e=t.type;return new tN(nG[e.unit],e.bitWidth)}case"timestamp":{let e=t.type;return new tR(nG[e.unit],e.timezone)}case"interval":return new tF(nK[t.type.unit]);case"duration":return new tx(nG[t.type.unit]);case"union":{let i=t.type,[r,...n]=(i.mode+"").toLowerCase();return new tM(nq[r.toUpperCase()+n.join("")],i.typeIds||[],e||[])}case"fixedsizebinary":return new tU(t.type.byteWidth);case"fixedsizelist":return new tk(t.type.listSize,(e||[])[0]);case"map":{let i=t.type;return new tz((e||[])[0],i.keysSorted)}}throw Error(`Unrecognized type: "${i}"`)}class r6{static fromJSON(t,e){var i,r;let n=new r6(0,nX.V5,e);return i=t,r=e,n._createHeader=()=>{switch(r){case nJ.Schema:return iZ.fromJSON(i);case nJ.RecordBatch:return r8.fromJSON(i);case nJ.DictionaryBatch:return r5.fromJSON(i)}throw Error(`Unrecognized Message type: { name: ${nJ[r]}, type: ${r} }`)},n}static decode(t){var e,i;t=new iM(te(t));let r=rZ.getRootAsMessage(t),n=r.bodyLength(),s=r.version(),o=r.headerType(),a=new r6(n,s,o);return e=r,i=o,a._createHeader=()=>{switch(i){case nJ.Schema:return iZ.decode(e.header(new iV),new Map,e.version());case nJ.RecordBatch:return r8.decode(e.header(new rR),e.version());case nJ.DictionaryBatch:return r5.decode(e.header(new rF),e.version())}throw Error(`Unrecognized Message type: { name: ${nJ[i]}, type: ${i} }`)},a}static encode(t){let e=new iU,i=-1;return t.isSchema()?i=iZ.encode(e,t.header()):t.isRecordBatch()?i=r8.encode(e,t.header()):t.isDictionaryBatch()&&(i=r5.encode(e,t.header())),rZ.startMessage(e),rZ.addVersion(e,nX.V5),rZ.addHeader(e,i),rZ.addHeaderType(e,t.headerType),rZ.addBodyLength(e,BigInt(t.bodyLength)),rZ.finishMessageBuffer(e,rZ.endMessage(e)),e.asUint8Array()}static from(t,e=0){if(t instanceof iZ)return new r6(0,nX.V5,nJ.Schema,t);if(t instanceof r8)return new r6(e,nX.V5,nJ.RecordBatch,t);if(t instanceof r5)return new r6(e,nX.V5,nJ.DictionaryBatch,t);throw Error(`Unrecognized Message header: ${t}`)}get type(){return this.headerType}get version(){return this._version}get headerType(){return this._headerType}get bodyLength(){return this._bodyLength}header(){return this._createHeader()}isSchema(){return this.headerType===nJ.Schema}isRecordBatch(){return this.headerType===nJ.RecordBatch}isDictionaryBatch(){return this.headerType===nJ.DictionaryBatch}constructor(t,e,i,r){this._version=e,this._headerType=i,this.body=new Uint8Array(0),r&&(this._createHeader=()=>r),this._bodyLength=to(t)}}class r8{get nodes(){return this._nodes}get length(){return this._length}get buffers(){return this._buffers}constructor(t,e,i){this._nodes=e,this._buffers=i,this._length=to(t)}}class r5{get id(){return this._id}get data(){return this._data}get isDelta(){return this._isDelta}get length(){return this.data.length}get nodes(){return this.data.nodes}get buffers(){return this.data.buffers}constructor(t,e,i=!1){this._data=t,this._isDelta=i,this._id=to(e)}}class r9{constructor(t,e){this.offset=to(t),this.length=to(e)}}class r7{constructor(t,e){this.length=to(t),this.nullCount=to(e)}}function nt(t,e){let i=[];for(let r,n=-1,s=-1,o=t.childrenLength();++n<o;)(r=t.children(n))&&(i[++s]=iY.decode(r,e));return i}function ne(t){let e=new Map;if(t)for(let i,r,n=-1,s=Math.trunc(t.customMetadataLength());++n<s;)(i=t.customMetadata(n))&&null!=(r=i.key())&&e.set(r,i.value());return e}function ni(t){return new tv(t.isSigned(),t.bitWidth())}function nr(t,e){let i=t.typeType();switch(i){case n2.NONE:case n2.Null:return new t_;case n2.Binary:return new tS;case n2.LargeBinary:return new tT;case n2.Utf8:return new tE;case n2.LargeUtf8:return new tA;case n2.Bool:return new tO;case n2.List:return new tP((e||[])[0]);case n2.Struct_:return new tL(e||[])}switch(i){case n2.Int:{let e=t.type(new iz);return new tv(e.isSigned(),e.bitWidth())}case n2.FloatingPoint:return new tI(t.type(new rx).precision());case n2.Decimal:{let e=t.type(new rP);return new tD(e.scale(),e.precision(),e.bitWidth())}case n2.Date:return new tB(t.type(new rL).unit());case n2.Time:{let e=t.type(new rM);return new tN(e.unit(),e.bitWidth())}case n2.Timestamp:{let e=t.type(new rU);return new tR(e.unit(),e.timezone())}case n2.Interval:return new tF(t.type(new rk).unit());case n2.Duration:return new tx(t.type(new rz).unit());case n2.Union:{let i=t.type(new rC);return new tM(i.mode(),i.typeIdsArray()||[],e||[])}case n2.FixedSizeBinary:return new tU(t.type(new rj).byteWidth());case n2.FixedSizeList:return new tk(t.type(new rV).listSize(),(e||[])[0]);case n2.Map:{let i=t.type(new r$);return new tz((e||[])[0],i.keysSorted())}}throw Error(`Unrecognized type: "${n2[i]}" (${i})`)}iY.encode=function(t,e){let i=-1,r=-1,n=-1,s=e.type,o=e.typeId;tg.isDictionary(s)?(o=s.dictionary.typeId,n=rX.visit(s,t),r=rX.visit(s.dictionary,t)):r=rX.visit(s,t);let a=(s.children||[]).map(e=>iY.encode(t,e)),l=ij.createChildrenVector(t,a),u=e.metadata&&e.metadata.size>0?ij.createCustomMetadataVector(t,[...e.metadata].map(([e,i])=>{let r=t.createString(`${e}`),n=t.createString(`${i}`);return ik.startKeyValue(t),ik.addKey(t,r),ik.addValue(t,n),ik.endKeyValue(t)})):-1;return e.name&&(i=t.createString(e.name)),ij.startField(t),ij.addType(t,r),ij.addTypeType(t,o),ij.addChildren(t,l),ij.addNullable(t,!!e.nullable),-1!==i&&ij.addName(t,i),-1!==n&&ij.addDictionary(t,n),-1!==u&&ij.addCustomMetadata(t,u),ij.endField(t)},iY.decode=function(t,e){let i,r,n,s,o,a;return e&&(a=t.dictionary())?(e.has(i=to(a.id()))?(s=(s=a.indexType())?ni(s):new tw,o=new tj(e.get(i),s,i,a.isOrdered())):(s=(s=a.indexType())?ni(s):new tw,e.set(i,n=nr(t,nt(t,e))),o=new tj(n,s,i,a.isOrdered())),r=new iY(t.name(),o,t.nullable(),ne(t))):(n=nr(t,nt(t,e)),r=new iY(t.name(),n,t.nullable(),ne(t))),r||null},iY.fromJSON=function(t,e){let i,r,n,s,o,a;return e&&(s=t.dictionary)?(e.has(i=s.id)?(r=(r=s.indexType)?r3(r):new tw,a=new tj(e.get(i),r,i,s.isOrdered)):(r=(r=s.indexType)?r3(r):new tw,e.set(i,o=r4(t,r1(t,e))),a=new tj(o,r,i,s.isOrdered)),n=new iY(t.name,a,t.nullable,r2(t.metadata))):(o=r4(t,r1(t,e)),n=new iY(t.name,o,t.nullable,r2(t.metadata))),n||null},iZ.encode=function(t,e){let i=e.fields.map(e=>iY.encode(t,e));iV.startFieldsVector(t,i.length);let r=iV.createFieldsVector(t,i),n=e.metadata&&e.metadata.size>0?iV.createCustomMetadataVector(t,[...e.metadata].map(([e,i])=>{let r=t.createString(`${e}`),n=t.createString(`${i}`);return ik.startKeyValue(t),ik.addKey(t,r),ik.addValue(t,n),ik.endKeyValue(t)})):-1;return iV.startSchema(t),iV.addFields(t,r),iV.addEndianness(t,nn?n0.Little:n0.Big),-1!==n&&iV.addCustomMetadata(t,n),iV.endSchema(t)},iZ.decode=function(t,e=new Map,i=nX.V5){return new iZ(function(t,e){let i=[];for(let r,n=-1,s=-1,o=t.fieldsLength();++n<o;)(r=t.fields(n))&&(i[++s]=iY.decode(r,e));return i}(t,e),ne(t),e,i)},iZ.fromJSON=function(t,e=new Map){var i,r;return new iZ((i=t,r=e,(i.fields||[]).filter(Boolean).map(t=>iY.fromJSON(t,r))),r2(t.metadata),e)},r8.encode=function(t,e){let i=e.nodes||[],r=e.buffers||[];for(let e of(rR.startNodesVector(t,i.length),i.slice().reverse()))r7.encode(t,e);let n=t.endVector();for(let e of(rR.startBuffersVector(t,r.length),r.slice().reverse()))r9.encode(t,e);let s=t.endVector();return rR.startRecordBatch(t),rR.addLength(t,BigInt(e.length)),rR.addNodes(t,n),rR.addBuffers(t,s),rR.endRecordBatch(t)},r8.decode=function(t,e=nX.V5){if(null!==t.compression())throw Error("Record batch compression not implemented");return new r8(t.length(),function(t){let e=[];for(let i,r=-1,n=-1,s=t.nodesLength();++r<s;)(i=t.nodes(r))&&(e[++n]=r7.decode(i));return e}(t),function(t,e){let i=[];for(let r,n=-1,s=-1,o=t.buffersLength();++n<o;)(r=t.buffers(n))&&(e<nX.V4&&(r.bb_pos+=8*(n+1)),i[++s]=r9.decode(r));return i}(t,e))},r8.fromJSON=r0,r5.encode=function(t,e){let i=r8.encode(t,e.data);return rF.startDictionaryBatch(t),rF.addId(t,BigInt(e.id)),rF.addIsDelta(t,e.isDelta),rF.addData(t,i),rF.endDictionaryBatch(t)},r5.decode=function(t,e=nX.V5){return new r5(r8.decode(t.data(),e),t.id(),t.isDelta())},r5.fromJSON=function(t){return new r5(r0(t.data),t.id,t.isDelta)},r7.encode=function(t,e){return rN.createFieldNode(t,BigInt(e.length),BigInt(e.nullCount))},r7.decode=function(t){return new r7(t.length(),t.nullCount())},r9.encode=function(t,e){return rB.createBuffer(t,BigInt(e.offset),BigInt(e.length))},r9.decode=function(t){return new r9(t.offset(),t.length())};let nn=(()=>{let t=new ArrayBuffer(2);return new DataView(t).setInt16(0,256,!0),256===new Int16Array(t)[0]})(),ns=t=>`Expected ${nJ[t]} Message in stream, but was null or length 0.`,no=t=>`Header pointer of flatbuffer-encoded ${nJ[t]} Message is null or length 0.`,na=(t,e)=>`Expected to read ${t} metadata bytes, but only read ${e}.`,nl=(t,e)=>`Expected to read ${t} bytes for message body, but only read ${e}.`;class nu{constructor(t){this.source=t instanceof i8?t:new i8(t)}[Symbol.iterator](){return this}next(){let t;return(t=this.readMetadataLength()).done||-1===t.value&&(t=this.readMetadataLength()).done||(t=this.readMetadata(t.value)).done?i1:t}throw(t){return this.source.throw(t)}return(t){return this.source.return(t)}readMessage(t){let e;if((e=this.next()).done)return null;if(null!=t&&e.value.headerType!==t)throw Error(ns(t));return e.value}readMessageBody(t){if(t<=0)return new Uint8Array(0);let e=te(this.source.read(t));if(e.byteLength<t)throw Error(nl(t,e.byteLength));return e.byteOffset%8==0&&e.byteOffset+e.byteLength<=e.buffer.byteLength?e:e.slice()}readSchema(t=!1){let e=nJ.Schema,i=this.readMessage(e),r=null==i?void 0:i.header();if(t&&!r)throw Error(no(e));return r}readMetadataLength(){let t=this.source.read(nh),e=t&&new iM(t),i=(null==e?void 0:e.readInt32(0))||0;return{done:0===i,value:i}}readMetadata(t){let e=this.source.read(t);if(!e)return i1;if(e.byteLength<t)throw Error(na(t,e.byteLength));return{done:!1,value:r6.decode(e)}}}class nc{constructor(t,e){this.source=t instanceof i5?t:j(t)?new re(t,e):new i5(t)}[Symbol.asyncIterator](){return this}next(){return w(this,void 0,void 0,function*(){let t;return(t=yield this.readMetadataLength()).done||-1===t.value&&(t=yield this.readMetadataLength()).done||(t=yield this.readMetadata(t.value)).done?i1:t})}throw(t){return w(this,void 0,void 0,function*(){return yield this.source.throw(t)})}return(t){return w(this,void 0,void 0,function*(){return yield this.source.return(t)})}readMessage(t){return w(this,void 0,void 0,function*(){let e;if((e=yield this.next()).done)return null;if(null!=t&&e.value.headerType!==t)throw Error(ns(t));return e.value})}readMessageBody(t){return w(this,void 0,void 0,function*(){if(t<=0)return new Uint8Array(0);let e=te((yield this.source.read(t)));if(e.byteLength<t)throw Error(nl(t,e.byteLength));return e.byteOffset%8==0&&e.byteOffset+e.byteLength<=e.buffer.byteLength?e:e.slice()})}readSchema(){return w(this,arguments,void 0,function*(t=!1){let e=nJ.Schema,i=yield this.readMessage(e),r=null==i?void 0:i.header();if(t&&!r)throw Error(no(e));return r})}readMetadataLength(){return w(this,void 0,void 0,function*(){let t=yield this.source.read(nh),e=t&&new iM(t),i=(null==e?void 0:e.readInt32(0))||0;return{done:0===i,value:i}})}readMetadata(t){return w(this,void 0,void 0,function*(){let e=yield this.source.read(t);if(!e)return i1;if(e.byteLength<t)throw Error(na(t,e.byteLength));return{done:!1,value:r6.decode(e)}})}}class nd extends nu{constructor(t){super(new Uint8Array(0)),this._schema=!1,this._body=[],this._batchIndex=0,this._dictionaryIndex=0,this._json=t instanceof i2?t:new i2(t)}next(){let{_json:t}=this;if(!this._schema)return this._schema=!0,{done:!1,value:r6.fromJSON(t.schema,nJ.Schema)};if(this._dictionaryIndex<t.dictionaries.length){let e=t.dictionaries[this._dictionaryIndex++];return this._body=e.data.columns,{done:!1,value:r6.fromJSON(e,nJ.DictionaryBatch)}}if(this._batchIndex<t.batches.length){let e=t.batches[this._batchIndex++];return this._body=e.columns,{done:!1,value:r6.fromJSON(e,nJ.RecordBatch)}}return this._body=[],i1}readMessageBody(t){return function t(e){return(e||[]).reduce((e,i)=>[...e,...i.VALIDITY&&[i.VALIDITY]||[],...i.TYPE_ID&&[i.TYPE_ID]||[],...i.OFFSET&&[i.OFFSET]||[],...i.DATA&&[i.DATA]||[],...t(i.children)],[])}(this._body)}readMessage(t){let e;if((e=this.next()).done)return null;if(null!=t&&e.value.headerType!==t)throw Error(ns(t));return e.value}readSchema(){let t=nJ.Schema,e=this.readMessage(t),i=null==e?void 0:e.header();if(!e||!i)throw Error(no(t));return i}}let nh=4,np="ARROW1",nf=new Uint8Array(np.length);for(let t=0;t<np.length;t+=1)nf[t]=np.codePointAt(t);function ny(t,e=0){for(let i=-1,r=nf.length;++i<r;)if(nf[i]!==t[e+i])return!1;return!0}let nb=nf.length,nm=nb+nh,ng=2*nb+nh;class n_ extends i3{constructor(t){super(),this._impl=t}get closed(){return this._impl.closed}get schema(){return this._impl.schema}get autoDestroy(){return this._impl.autoDestroy}get dictionaries(){return this._impl.dictionaries}get numDictionaries(){return this._impl.numDictionaries}get numRecordBatches(){return this._impl.numRecordBatches}get footer(){return this._impl.isFile()?this._impl.footer:null}isSync(){return this._impl.isSync()}isAsync(){return this._impl.isAsync()}isFile(){return this._impl.isFile()}isStream(){return this._impl.isStream()}next(){return this._impl.next()}throw(t){return this._impl.throw(t)}return(t){return this._impl.return(t)}cancel(){return this._impl.cancel()}reset(t){return this._impl.reset(t),this._DOMStream=void 0,this._nodeStream=void 0,this}open(t){let e=this._impl.open(t);return M(e)?e.then(()=>this):this}readRecordBatch(t){return this._impl.isFile()?this._impl.readRecordBatch(t):null}[Symbol.iterator](){return this._impl[Symbol.iterator]()}[Symbol.asyncIterator](){return this._impl[Symbol.asyncIterator]()}toDOMStream(){return iJ.toDOMStream(this.isSync()?{[Symbol.iterator]:()=>this}:{[Symbol.asyncIterator]:()=>this})}toNodeStream(){return iJ.toNodeStream(this.isSync()?{[Symbol.iterator]:()=>this}:{[Symbol.asyncIterator]:()=>this},{objectMode:!0})}static throughNode(t){throw Error('"throughNode" not available in this environment')}static throughDOM(t,e){throw Error('"throughDOM" not available in this environment')}static from(t){if(t instanceof n_)return t;if(z(t))return new nv(new nB(t));if(j(t))return function(t){return w(this,void 0,void 0,function*(){let{size:e}=yield t.stat(),i=new re(t,e);return e>=ng&&ny((yield i.readAt(0,nb+7&-8)))?new nS(new nD(i)):new nw(new nA(i))})}(t);if(M(t))return w(this,void 0,void 0,function*(){return yield n_.from((yield t))});if(V(t)||Y(t)||G(t)||k(t))return function(t){return w(this,void 0,void 0,function*(){let e=yield t.peek(nb+7&-8);return e&&e.byteLength>=4?ny(e)?new nI(new nO((yield t.read()))):new nw(new nA(t)):new nw(new nA(function(){return S(this,arguments,function*(){})}()))})}(new i5(t));var e=new i8(t);let i=e.peek(nb+7&-8);return i&&i.byteLength>=4?ny(i)?new nI(new nO(e.read())):new nv(new nE(e)):new nv(new nE(function*(){}()))}static readAll(t){return t instanceof n_?t.isSync()?nR(t):nF(t):z(t)||ArrayBuffer.isView(t)||U(t)||C(t)?nR(t):nF(t)}}class nv extends n_{constructor(t){super(t),this._impl=t}readAll(){return[...this]}[Symbol.iterator](){return this._impl[Symbol.iterator]()}[Symbol.asyncIterator](){return S(this,arguments,function*(){yield I((yield*T(E(this[Symbol.iterator]()))))})}}class nw extends n_{constructor(t){super(t),this._impl=t}readAll(){return w(this,void 0,void 0,function*(){var t,e,i,r;let n=[];try{for(var s,o=!0,a=E(this);!(t=(s=yield a.next()).done);o=!0)r=s.value,o=!1,n.push(r)}catch(t){e={error:t}}finally{try{!o&&!t&&(i=a.return)&&(yield i.call(a))}finally{if(e)throw e.error}}return n})}[Symbol.iterator](){throw Error("AsyncRecordBatchStreamReader is not Iterable")}[Symbol.asyncIterator](){return this._impl[Symbol.asyncIterator]()}}class nI extends nv{constructor(t){super(t),this._impl=t}}class nS extends nw{constructor(t){super(t),this._impl=t}}class nT{get numDictionaries(){return this._dictionaryIndex}get numRecordBatches(){return this._recordBatchIndex}constructor(t=new Map){this.closed=!1,this.autoDestroy=!0,this._dictionaryIndex=0,this._recordBatchIndex=0,this.dictionaries=t}isSync(){return!1}isAsync(){return!1}isFile(){return!1}isStream(){return!1}reset(t){return this._dictionaryIndex=0,this._recordBatchIndex=0,this.schema=t,this.dictionaries=new Map,this}_loadRecordBatch(t,e){let i=this._loadVectors(t,e,this.schema.fields),r=iN({type:new tL(this.schema.fields),length:t.length,children:i});return new rE(this.schema,r)}_loadDictionaryBatch(t,e){let{id:i,isDelta:r}=t,{dictionaries:n,schema:s}=this,o=n.get(i),a=s.dictionaries.get(i),l=this._loadVectors(t.data,e,[a]);return(o&&r?o.concat(new iE(l)):new iE(l)).memoize()}_loadVectors(t,e,i){return new rl(e,t.nodes,t.buffers,this.dictionaries,this.schema.metadataVersion).visitMany(i)}}class nE extends nT{constructor(t,e){super(e),this._reader=z(t)?new nd(this._handle=t):new nu(this._handle=t)}isSync(){return!0}isStream(){return!0}[Symbol.iterator](){return this}cancel(){!this.closed&&(this.closed=!0)&&(this.reset()._reader.return(),this._reader=null,this.dictionaries=null)}open(t){return!this.closed&&(this.autoDestroy=nN(this,t),this.schema||(this.schema=this._reader.readSchema())||this.cancel()),this}throw(t){return!this.closed&&this.autoDestroy&&(this.closed=!0)?this.reset()._reader.throw(t):i1}return(t){return!this.closed&&this.autoDestroy&&(this.closed=!0)?this.reset()._reader.return(t):i1}next(){let t;if(this.closed)return i1;let{_reader:e}=this;for(;t=this._readNextMessageAndValidate();)if(t.isSchema())this.reset(t.header());else if(t.isRecordBatch()){this._recordBatchIndex++;let i=t.header(),r=e.readMessageBody(t.bodyLength);return{done:!1,value:this._loadRecordBatch(i,r)}}else if(t.isDictionaryBatch()){this._dictionaryIndex++;let i=t.header(),r=e.readMessageBody(t.bodyLength),n=this._loadDictionaryBatch(i,r);this.dictionaries.set(i.id,n)}return this.schema&&0===this._recordBatchIndex?(this._recordBatchIndex++,{done:!1,value:new rO(this.schema)}):this.return()}_readNextMessageAndValidate(t){return this._reader.readMessage(t)}}class nA extends nT{constructor(t,e){super(e),this._reader=new nc(this._handle=t)}isAsync(){return!0}isStream(){return!0}[Symbol.asyncIterator](){return this}cancel(){return w(this,void 0,void 0,function*(){!this.closed&&(this.closed=!0)&&(yield this.reset()._reader.return(),this._reader=null,this.dictionaries=null)})}open(t){return w(this,void 0,void 0,function*(){return!this.closed&&(this.autoDestroy=nN(this,t),this.schema||(this.schema=yield this._reader.readSchema())||(yield this.cancel())),this})}throw(t){return w(this,void 0,void 0,function*(){return!this.closed&&this.autoDestroy&&(this.closed=!0)?yield this.reset()._reader.throw(t):i1})}return(t){return w(this,void 0,void 0,function*(){return!this.closed&&this.autoDestroy&&(this.closed=!0)?yield this.reset()._reader.return(t):i1})}next(){return w(this,void 0,void 0,function*(){let t;if(this.closed)return i1;let{_reader:e}=this;for(;t=yield this._readNextMessageAndValidate();)if(t.isSchema())yield this.reset(t.header());else if(t.isRecordBatch()){this._recordBatchIndex++;let i=t.header(),r=yield e.readMessageBody(t.bodyLength);return{done:!1,value:this._loadRecordBatch(i,r)}}else if(t.isDictionaryBatch()){this._dictionaryIndex++;let i=t.header(),r=yield e.readMessageBody(t.bodyLength),n=this._loadDictionaryBatch(i,r);this.dictionaries.set(i.id,n)}return this.schema&&0===this._recordBatchIndex?(this._recordBatchIndex++,{done:!1,value:new rO(this.schema)}):yield this.return()})}_readNextMessageAndValidate(t){return w(this,void 0,void 0,function*(){return yield this._reader.readMessage(t)})}}class nO extends nE{get footer(){return this._footer}get numDictionaries(){return this._footer?this._footer.numDictionaries:0}get numRecordBatches(){return this._footer?this._footer.numRecordBatches:0}constructor(t,e){super(t instanceof rt?t:new rt(t),e)}isSync(){return!0}isFile(){return!0}open(t){if(!this.closed&&!this._footer)for(let t of(this.schema=(this._footer=this._readFooter()).schema,this._footer.dictionaryBatches()))t&&this._readDictionaryBatch(this._dictionaryIndex++);return super.open(t)}readRecordBatch(t){var e;if(this.closed)return null;this._footer||this.open();let i=null==(e=this._footer)?void 0:e.getRecordBatch(t);if(i&&this._handle.seek(i.offset)){let t=this._reader.readMessage(nJ.RecordBatch);if(null==t?void 0:t.isRecordBatch()){let e=t.header(),i=this._reader.readMessageBody(t.bodyLength);return this._loadRecordBatch(e,i)}}return null}_readDictionaryBatch(t){var e;let i=null==(e=this._footer)?void 0:e.getDictionaryBatch(t);if(i&&this._handle.seek(i.offset)){let t=this._reader.readMessage(nJ.DictionaryBatch);if(null==t?void 0:t.isDictionaryBatch()){let e=t.header(),i=this._reader.readMessageBody(t.bodyLength),r=this._loadDictionaryBatch(e,i);this.dictionaries.set(e.id,r)}}}_readFooter(){let{_handle:t}=this,e=t.size-nm,i=t.readInt32(e),r=t.readAt(e-i,i);return iH.decode(r)}_readNextMessageAndValidate(t){var e;if(this._footer||this.open(),this._footer&&this._recordBatchIndex<this.numRecordBatches){let i=null==(e=this._footer)?void 0:e.getRecordBatch(this._recordBatchIndex);if(i&&this._handle.seek(i.offset))return this._reader.readMessage(t)}return null}}class nD extends nA{get footer(){return this._footer}get numDictionaries(){return this._footer?this._footer.numDictionaries:0}get numRecordBatches(){return this._footer?this._footer.numRecordBatches:0}constructor(t,...e){super(t instanceof re?t:new re(t,"number"!=typeof e[0]?e.shift():void 0),e[0]instanceof Map?e.shift():void 0)}isFile(){return!0}isAsync(){return!0}open(t){let e=Object.create(null,{open:{get:()=>super.open}});return w(this,void 0,void 0,function*(){if(!this.closed&&!this._footer)for(let t of(this.schema=(this._footer=yield this._readFooter()).schema,this._footer.dictionaryBatches()))t&&(yield this._readDictionaryBatch(this._dictionaryIndex++));return yield e.open.call(this,t)})}readRecordBatch(t){return w(this,void 0,void 0,function*(){var e;if(this.closed)return null;this._footer||(yield this.open());let i=null==(e=this._footer)?void 0:e.getRecordBatch(t);if(i&&(yield this._handle.seek(i.offset))){let t=yield this._reader.readMessage(nJ.RecordBatch);if(null==t?void 0:t.isRecordBatch()){let e=t.header(),i=yield this._reader.readMessageBody(t.bodyLength);return this._loadRecordBatch(e,i)}}return null})}_readDictionaryBatch(t){return w(this,void 0,void 0,function*(){var e;let i=null==(e=this._footer)?void 0:e.getDictionaryBatch(t);if(i&&(yield this._handle.seek(i.offset))){let t=yield this._reader.readMessage(nJ.DictionaryBatch);if(null==t?void 0:t.isDictionaryBatch()){let e=t.header(),i=yield this._reader.readMessageBody(t.bodyLength),r=this._loadDictionaryBatch(e,i);this.dictionaries.set(e.id,r)}}})}_readFooter(){return w(this,void 0,void 0,function*(){let{_handle:t}=this;t._pending&&(yield t._pending);let e=t.size-nm,i=yield t.readInt32(e),r=yield t.readAt(e-i,i);return iH.decode(r)})}_readNextMessageAndValidate(t){return w(this,void 0,void 0,function*(){if(this._footer||(yield this.open()),this._footer&&this._recordBatchIndex<this.numRecordBatches){let e=this._footer.getRecordBatch(this._recordBatchIndex);if(e&&(yield this._handle.seek(e.offset)))return yield this._reader.readMessage(t)}return null})}}class nB extends nE{constructor(t,e){super(t,e)}_loadVectors(t,e,i){return new ru(e,t.nodes,t.buffers,this.dictionaries,this.schema.metadataVersion).visitMany(i)}}function nN(t,e){return e&&"boolean"==typeof e.autoDestroy?e.autoDestroy:t.autoDestroy}function*nR(t){let e=n_.from(t);try{if(!e.open({autoDestroy:!1}).closed)do yield e;while(!e.reset().open().closed)}finally{e.cancel()}}function nF(t){return S(this,arguments,function*(){let e=yield I(n_.from(t));try{if(!(yield I(e.open({autoDestroy:!1}))).closed)do yield yield I(e);while(!(yield I(e.reset().open())).closed)}finally{yield I(e.cancel())}})}class nx extends t${static assemble(...t){let e=t=>t.flatMap(t=>Array.isArray(t)?e(t):t instanceof rE?t.data.children:t.data),i=new nx;return i.visitMany(e(t)),i}constructor(){super(),this._byteLength=0,this._nodes=[],this._buffers=[],this._bufferRegions=[]}visit(t){if(t instanceof iE)return this.visitMany(t.data),this;let{type:e}=t;if(!tg.isDictionary(e)){let{length:i}=t;if(i>0x7fffffff)throw RangeError("Cannot write arrays larger than 2^31 - 1 in length");if(tg.isUnion(e))this.nodes.push(new r7(i,0));else{let{nullCount:r}=t;tg.isNull(e)||nP.call(this,r<=0?new Uint8Array(0):ic(t.offset,i,t.nullBitmap)),this.nodes.push(new r7(i,r))}}return super.visit(t)}visitNull(t){return this}visitDictionary(t){return this.visit(t.clone(t.type.indices))}get nodes(){return this._nodes}get buffers(){return this._buffers}get byteLength(){return this._byteLength}get bufferRegions(){return this._bufferRegions}}function nP(t){let e=t.byteLength+7&-8;return this.buffers.push(t),this.bufferRegions.push(new r9(this._byteLength,e)),this._byteLength+=e,this}function nL(t){return nP.call(this,t.values.subarray(0,t.length*t.stride))}function nM(t){let{length:e,values:i,valueOffsets:r}=t,n=to(r[0]),s=Math.min(to(r[e])-n,i.byteLength-n);return nP.call(this,ts(-n,e+1,r)),nP.call(this,i.subarray(n,n+s)),this}function nU(t){let{length:e,valueOffsets:i}=t;if(i){let{0:r,[e]:n}=i;return nP.call(this,ts(-r,e+1,i)),this.visit(t.children[0].slice(r,n-r))}return this.visit(t.children[0])}function nk(t){return this.visitMany(t.type.children.map((e,i)=>t.children[i]).filter(Boolean))[0]}nx.prototype.visitBool=function(t){let e;return t.nullCount>=t.length?nP.call(this,new Uint8Array(0)):(e=t.values)instanceof Uint8Array?nP.call(this,ic(t.offset,t.length,e)):nP.call(this,id(t.values))},nx.prototype.visitInt=nL,nx.prototype.visitFloat=nL,nx.prototype.visitUtf8=nM,nx.prototype.visitLargeUtf8=nM,nx.prototype.visitBinary=nM,nx.prototype.visitLargeBinary=nM,nx.prototype.visitFixedSizeBinary=nL,nx.prototype.visitDate=nL,nx.prototype.visitTimestamp=nL,nx.prototype.visitTime=nL,nx.prototype.visitDecimal=nL,nx.prototype.visitList=nU,nx.prototype.visitStruct=nk,nx.prototype.visitUnion=function(t){var e;let{type:i,length:r,typeIds:n,valueOffsets:s}=t;if(nP.call(this,n),i.mode===nq.Sparse)return nk.call(this,t);if(i.mode===nq.Dense)if(t.offset<=0)return nP.call(this,s),nk.call(this,t);else{let o=new Int32Array(r),a=Object.create(null),l=Object.create(null);for(let t,i,u=-1;++u<r;)void 0!==(t=n[u])&&(void 0===(i=a[t])&&(i=a[t]=s[u]),o[u]=s[u]-i,l[t]=(null!=(e=l[t])?e:0)+1);nP.call(this,o),this.visitMany(t.children.map((t,e)=>{let n=i.typeIds[e],s=a[n],o=l[n];return t.slice(s,Math.min(r,o))}))}return this},nx.prototype.visitInterval=nL,nx.prototype.visitDuration=nL,nx.prototype.visitFixedSizeList=nU,nx.prototype.visitMap=nU;class nz extends i3{static throughNode(t){throw Error('"throughNode" not available in this environment')}static throughDOM(t,e){throw Error('"throughDOM" not available in this environment')}constructor(t){super(),this._position=0,this._started=!1,this._sink=new i6,this._schema=null,this._dictionaryBlocks=[],this._recordBatchBlocks=[],this._seenDictionaries=new Map,this._dictionaryDeltaOffsets=new Map,L(t)||(t={autoDestroy:!0,writeLegacyIpcFormat:!1}),this._autoDestroy="boolean"!=typeof t.autoDestroy||t.autoDestroy,this._writeLegacyIpcFormat="boolean"==typeof t.writeLegacyIpcFormat&&t.writeLegacyIpcFormat}toString(t=!1){return this._sink.toString(t)}toUint8Array(t=!1){return this._sink.toUint8Array(t)}writeAll(t){return M(t)?t.then(t=>this.writeAll(t)):k(t)?n$(this,t):nV(this,t)}get closed(){return this._sink.closed}[Symbol.asyncIterator](){return this._sink[Symbol.asyncIterator]()}toDOMStream(t){return this._sink.toDOMStream(t)}toNodeStream(t){return this._sink.toNodeStream(t)}close(){return this.reset()._sink.close()}abort(t){return this.reset()._sink.abort(t)}finish(){return this._autoDestroy?this.close():this.reset(this._sink,this._schema),this}reset(t=this._sink,e=null){return t===this._sink||t instanceof i6?this._sink=t:(this._sink=new i6,t&&Z(t)?this.toDOMStream({type:"bytes"}).pipeTo(t):t&&W(t)&&this.toNodeStream({objectMode:!1}).pipe(t)),this._started&&this._schema&&this._writeFooter(this._schema),this._started=!1,this._dictionaryBlocks=[],this._recordBatchBlocks=[],this._seenDictionaries=new Map,this._dictionaryDeltaOffsets=new Map,e&&rI(e,this._schema)||(null==e?(this._position=0,this._schema=null):(this._started=!0,this._schema=e,this._writeSchema(e))),this}write(t){let e=null;if(this._sink){if(null==t)return this.finish()&&void 0;else if(t instanceof rT&&!(e=t.schema))return this.finish()&&void 0;else if(t instanceof rE&&!(e=t.schema))return this.finish()&&void 0}else throw Error("RecordBatchWriter is closed");if(e&&!rI(e,this._schema)){if(this._started&&this._autoDestroy)return this.close();this.reset(this._sink,e)}t instanceof rE?t instanceof rO||this._writeRecordBatch(t):t instanceof rT?this.writeAll(t.batches):U(t)&&this.writeAll(t)}_writeMessage(t,e=8){let i=e-1,r=r6.encode(t),n=r.byteLength,s=this._writeLegacyIpcFormat?4:8,o=n+s+i&~i,a=o-n-s;return t.headerType===nJ.RecordBatch?this._recordBatchBlocks.push(new iq(o,t.bodyLength,this._position)):t.headerType===nJ.DictionaryBatch&&this._dictionaryBlocks.push(new iq(o,t.bodyLength,this._position)),this._writeLegacyIpcFormat||this._write(Int32Array.of(-1)),this._write(Int32Array.of(o-s)),n>0&&this._write(r),this._writePadding(a)}_write(t){if(this._started){let e=te(t);e&&e.byteLength>0&&(this._sink.write(e),this._position+=e.byteLength)}return this}_writeSchema(t){return this._writeMessage(r6.from(t))}_writeFooter(t){return this._writeLegacyIpcFormat?this._write(Int32Array.of(0)):this._write(Int32Array.of(-1,0))}_writeMagic(){return this._write(nf)}_writePadding(t){return t>0?this._write(new Uint8Array(t)):this}_writeRecordBatch(t){let{byteLength:e,nodes:i,bufferRegions:r,buffers:n}=nx.assemble(t),s=new r8(t.numRows,i,r),o=r6.from(s,e);return this._writeDictionaries(t)._writeMessage(o)._writeBodyBuffers(n)}_writeDictionaryBatch(t,e,i=!1){let{byteLength:r,nodes:n,bufferRegions:s,buffers:o}=nx.assemble(new iE([t])),a=new r5(new r8(t.length,n,s),e,i),l=r6.from(a,r);return this._writeMessage(l)._writeBodyBuffers(o)}_writeBodyBuffers(t){let e,i,r;for(let n=-1,s=t.length;++n<s;)(e=t[n])&&(i=e.byteLength)>0&&(this._write(e),(r=(i+7&-8)-i)>0&&this._writePadding(r));return this}_writeDictionaries(t){var e,i;for(let[r,n]of t.dictionaries){let t=null!=(e=null==n?void 0:n.data)?e:[],s=this._seenDictionaries.get(r),o=null!=(i=this._dictionaryDeltaOffsets.get(r))?i:0;if(s&&s.data[0]===t[0]){if(o<t.length)for(let e of t.slice(o))this._writeDictionaryBatch(e,r,!0)}else for(let[e,i]of t.entries())this._writeDictionaryBatch(i,r,e>0);this._seenDictionaries.set(r,n),this._dictionaryDeltaOffsets.set(r,t.length)}return this}}class nC extends nz{static writeAll(t,e){let i=new nC(e);return M(t)?t.then(t=>i.writeAll(t)):k(t)?n$(i,t):nV(i,t)}}class nj extends nz{static writeAll(t){let e=new nj;return M(t)?t.then(t=>e.writeAll(t)):k(t)?n$(e,t):nV(e,t)}constructor(){super(),this._autoDestroy=!0}_writeSchema(t){return this._writeMagic()._writePadding(2)}_writeDictionaryBatch(t,e,i=!1){if(!i&&this._seenDictionaries.has(e))throw Error("The Arrow File format does not support replacement dictionaries. ");return super._writeDictionaryBatch(t,e,i)}_writeFooter(t){let e=iH.encode(new iH(t,nX.V5,this._recordBatchBlocks,this._dictionaryBlocks));return super._writeFooter(t)._write(e)._write(Int32Array.of(e.byteLength))._writeMagic()}}function nV(t,e){let i=e;for(let r of(e instanceof rT&&(i=e.batches,t.reset(void 0,e.schema)),i))t.write(r);return t.finish()}function n$(t,e){return w(this,void 0,void 0,function*(){var i,r,n,s,o,a,l;try{for(i=!0,r=E(e);!(s=(n=yield r.next()).done);i=!0)l=n.value,i=!1,t.write(l)}catch(t){o={error:t}}finally{try{!i&&!s&&(a=r.return)&&(yield a.call(r))}finally{if(o)throw o.error}}return t.finish()})}var nZ,nY,nW,nG,nH,nK,nq,nJ,nQ,nX,n0,n1,n2,n3,n4,n6,n8,n5,n9,n7,st,se,si,sr,sn,ss,so,sa,sl,su,sc,sd,sh,sp,sf,sy,sb,sm,sg,s_,sv,sw,sI,sS,sT,sE,sA,sO,sD,sB,sN,sR,sF,sx=Object.create,sP=Object.defineProperty,sL=Object.getOwnPropertyDescriptor,sM=Object.getOwnPropertyNames,sU=Object.getPrototypeOf,sk=Object.prototype.hasOwnProperty,sz=(s=(t,e)=>{e.exports=Worker},()=>(o||s((o={exports:{}}).exports,o),o.exports)),sC=((a=sC||{})[a.UNDEFINED=0]="UNDEFINED",a[a.AUTOMATIC=1]="AUTOMATIC",a[a.READ_ONLY=2]="READ_ONLY",a[a.READ_WRITE=3]="READ_WRITE",a),sj=((l=sj||{})[l.IDENTIFIER=0]="IDENTIFIER",l[l.NUMERIC_CONSTANT=1]="NUMERIC_CONSTANT",l[l.STRING_CONSTANT=2]="STRING_CONSTANT",l[l.OPERATOR=3]="OPERATOR",l[l.KEYWORD=4]="KEYWORD",l[l.COMMENT=5]="COMMENT",l),sV=((u=sV||{})[u.NONE=0]="NONE",u[u.DEBUG=1]="DEBUG",u[u.INFO=2]="INFO",u[u.WARNING=3]="WARNING",u[u.ERROR=4]="ERROR",u),s$=((c=s$||{})[c.NONE=0]="NONE",c[c.CONNECT=1]="CONNECT",c[c.DISCONNECT=2]="DISCONNECT",c[c.OPEN=3]="OPEN",c[c.QUERY=4]="QUERY",c[c.INSTANTIATE=5]="INSTANTIATE",c),sZ=((d=sZ||{})[d.NONE=0]="NONE",d[d.OK=1]="OK",d[d.ERROR=2]="ERROR",d[d.START=3]="START",d[d.RUN=4]="RUN",d[d.CAPTURE=5]="CAPTURE",d),sY=((h=sY||{})[h.NONE=0]="NONE",h[h.WEB_WORKER=1]="WEB_WORKER",h[h.NODE_WORKER=2]="NODE_WORKER",h[h.BINDINGS=3]="BINDINGS",h[h.ASYNC_DUCKDB=4]="ASYNC_DUCKDB",h),sW=class{constructor(t=2){this.level=t}log(t){t.level>=this.level&&console.log(t)}},sG=((p=sG||{})[p.SUCCESS=0]="SUCCESS",p[p.MAX_ARROW_ERROR=255]="MAX_ARROW_ERROR",p[p.DUCKDB_WASM_RETRY=256]="DUCKDB_WASM_RETRY",p),sH=class{constructor(t,e){this._bindings=t,this._conn=e}get bindings(){return this._bindings}async close(){return this._bindings.disconnect(this._conn)}useUnsafe(t){return t(this._bindings,this._conn)}async query(t){this._bindings.logger.log({timestamp:new Date,level:2,origin:4,topic:4,event:4,value:t});let e=await this._bindings.runQuery(this._conn,t),i=n_.from(e);return console.assert(i.isSync(),"Reader is not sync"),console.assert(i.isFile(),"Reader is not file"),new rT(i)}async send(t,e=!1){this._bindings.logger.log({timestamp:new Date,level:2,origin:4,topic:4,event:4,value:t});let i=await this._bindings.startPendingQuery(this._conn,t,e);for(;null==i;)i=await this._bindings.pollPendingQuery(this._conn);let r=new sK(this._bindings,this._conn,i),n=await n_.from(r);return console.assert(n.isAsync()),console.assert(n.isStream()),n}async cancelSent(){return await this._bindings.cancelPendingQuery(this._conn)}async getTableNames(t){return await this._bindings.getTableNames(this._conn,t)}async prepare(t){let e=await this._bindings.createPrepared(this._conn,t);return new sq(this._bindings,this._conn,e)}async insertArrowTable(t,e){let i=function(t,e="stream"){return("stream"===e?nC:nj).writeAll(t).toUint8Array(!0)}(t,"stream");await this.insertArrowFromIPCStream(i,e)}async insertArrowFromIPCStream(t,e){await this._bindings.insertArrowFromIPCStream(this._conn,t,e)}async insertCSVFromPath(t,e){await this._bindings.insertCSVFromPath(this._conn,t,e)}async insertJSONFromPath(t,e){await this._bindings.insertJSONFromPath(this._conn,t,e)}},sK=class{constructor(t,e,i){this.db=t,this.conn=e,this.header=i,this._first=!0,this._depleted=!1,this._inFlight=null}async next(){if(this._first)return this._first=!1,{done:!1,value:this.header};if(this._depleted)return{done:!0,value:null};let t=null;for(null!=this._inFlight&&(t=await this._inFlight,this._inFlight=null);null==t;)t=await this.db.fetchQueryResults(this.conn);return this._depleted=0==t.length,this._depleted||(this._inFlight=this.db.fetchQueryResults(this.conn)),{done:this._depleted,value:t}}[Symbol.asyncIterator](){return this}},sq=class{constructor(t,e,i){this.bindings=t,this.connectionId=e,this.statementId=i}async close(){await this.bindings.closePrepared(this.connectionId,this.statementId)}async query(...t){let e=await this.bindings.runPrepared(this.connectionId,this.statementId,t),i=n_.from(e);return console.assert(i.isSync()),console.assert(i.isFile()),new rT(i)}async send(...t){let e=await this.bindings.sendPrepared(this.connectionId,this.statementId,t),i=new sK(this.bindings,this.connectionId,e),r=await n_.from(i);return console.assert(r.isAsync()),console.assert(r.isStream()),r}},sJ=((f=sJ||{}).CANCEL_PENDING_QUERY="CANCEL_PENDING_QUERY",f.CLOSE_PREPARED="CLOSE_PREPARED",f.COLLECT_FILE_STATISTICS="COLLECT_FILE_STATISTICS",f.REGISTER_OPFS_FILE_NAME="REGISTER_OPFS_FILE_NAME",f.CONNECT="CONNECT",f.COPY_FILE_TO_BUFFER="COPY_FILE_TO_BUFFER",f.COPY_FILE_TO_PATH="COPY_FILE_TO_PATH",f.CREATE_PREPARED="CREATE_PREPARED",f.DISCONNECT="DISCONNECT",f.DROP_FILE="DROP_FILE",f.DROP_FILES="DROP_FILES",f.EXPORT_FILE_STATISTICS="EXPORT_FILE_STATISTICS",f.FETCH_QUERY_RESULTS="FETCH_QUERY_RESULTS",f.FLUSH_FILES="FLUSH_FILES",f.GET_FEATURE_FLAGS="GET_FEATURE_FLAGS",f.GET_TABLE_NAMES="GET_TABLE_NAMES",f.GET_VERSION="GET_VERSION",f.GLOB_FILE_INFOS="GLOB_FILE_INFOS",f.INSERT_ARROW_FROM_IPC_STREAM="INSERT_ARROW_FROM_IPC_STREAM",f.INSERT_CSV_FROM_PATH="IMPORT_CSV_FROM_PATH",f.INSERT_JSON_FROM_PATH="IMPORT_JSON_FROM_PATH",f.INSTANTIATE="INSTANTIATE",f.OPEN="OPEN",f.PING="PING",f.POLL_PENDING_QUERY="POLL_PENDING_QUERY",f.REGISTER_FILE_BUFFER="REGISTER_FILE_BUFFER",f.REGISTER_FILE_HANDLE="REGISTER_FILE_HANDLE",f.REGISTER_FILE_URL="REGISTER_FILE_URL",f.RESET="RESET",f.RUN_PREPARED="RUN_PREPARED",f.RUN_QUERY="RUN_QUERY",f.SEND_PREPARED="SEND_PREPARED",f.START_PENDING_QUERY="START_PENDING_QUERY",f.TOKENIZE="TOKENIZE",f),sQ=((y=sQ||{}).CONNECTION_INFO="CONNECTION_INFO",y.ERROR="ERROR",y.FEATURE_FLAGS="FEATURE_FLAGS",y.FILE_BUFFER="FILE_BUFFER",y.FILE_INFOS="FILE_INFOS",y.FILE_SIZE="FILE_SIZE",y.FILE_STATISTICS="FILE_STATISTICS",y.INSTANTIATE_PROGRESS="INSTANTIATE_PROGRESS",y.LOG="LOG",y.PROGRESS_UPDATE="PROGRESS_UPDATE",y.OK="OK",y.PREPARED_STATEMENT_ID="PREPARED_STATEMENT_ID",y.QUERY_PLAN="QUERY_PLAN",y.QUERY_RESULT="QUERY_RESULT",y.QUERY_RESULT_CHUNK="QUERY_RESULT_CHUNK",y.QUERY_RESULT_HEADER="QUERY_RESULT_HEADER",y.QUERY_RESULT_HEADER_OR_NULL="QUERY_RESULT_HEADER_OR_NULL",y.REGISTERED_FILE="REGISTERED_FILE",y.SCRIPT_TOKENS="SCRIPT_TOKENS",y.SUCCESS="SUCCESS",y.TABLE_NAMES="TABLE_NAMES",y.VERSION_STRING="VERSION_STRING",y),sX=class{constructor(t,e){this.promiseResolver=()=>{},this.promiseRejecter=()=>{},this.type=t,this.data=e,this.promise=new Promise((t,e)=>{this.promiseResolver=t,this.promiseRejecter=e})}};function s0(t,e){let i=function t(e){switch(e.typeId){case nZ.Binary:return{sqlType:"binary"};case nZ.Bool:return{sqlType:"bool"};case nZ.Date:return{sqlType:"date"};case nZ.DateDay:return{sqlType:"date32[d]"};case nZ.DateMillisecond:return{sqlType:"date64[ms]"};case nZ.Decimal:return{sqlType:"decimal",precision:e.precision,scale:e.scale};case nZ.Float:return{sqlType:"float"};case nZ.Float16:return{sqlType:"float16"};case nZ.Float32:return{sqlType:"float32"};case nZ.Float64:return{sqlType:"float64"};case nZ.Int:return{sqlType:"int32"};case nZ.Int16:return{sqlType:"int16"};case nZ.Int32:return{sqlType:"int32"};case nZ.Int64:return{sqlType:"int64"};case nZ.Uint16:return{sqlType:"uint16"};case nZ.Uint32:return{sqlType:"uint32"};case nZ.Uint64:return{sqlType:"uint64"};case nZ.Uint8:return{sqlType:"uint8"};case nZ.IntervalDayTime:return{sqlType:"interval[dt]"};case nZ.IntervalYearMonth:return{sqlType:"interval[m]"};case nZ.List:return{sqlType:"list",valueType:t(e.valueType)};case nZ.FixedSizeBinary:return{sqlType:"fixedsizebinary",byteWidth:e.byteWidth};case nZ.Null:return{sqlType:"null"};case nZ.Utf8:return{sqlType:"utf8"};case nZ.Struct:return{sqlType:"struct",fields:e.children.map(t=>s0(t.name,t.type))};case nZ.Map:return{sqlType:"map",keyType:t(e.keyType),valueType:t(e.valueType)};case nZ.Time:return{sqlType:"time[s]"};case nZ.TimeMicrosecond:return{sqlType:"time[us]"};case nZ.TimeMillisecond:return{sqlType:"time[ms]"};case nZ.TimeNanosecond:return{sqlType:"time[ns]"};case nZ.TimeSecond:return{sqlType:"time[s]"};case nZ.Timestamp:return{sqlType:"timestamp",timezone:e.timezone||void 0};case nZ.TimestampSecond:return{sqlType:"timestamp[s]",timezone:e.timezone||void 0};case nZ.TimestampMicrosecond:return{sqlType:"timestamp[us]",timezone:e.timezone||void 0};case nZ.TimestampNanosecond:return{sqlType:"timestamp[ns]",timezone:e.timezone||void 0};case nZ.TimestampMillisecond:return{sqlType:"timestamp[ms]",timezone:e.timezone||void 0}}throw Error("unsupported arrow type: ".concat(e.toString()))}(e);return i.name=t,i}var s1=new TextEncoder,s2=class{constructor(t,e=null){this._onInstantiationProgress=[],this._onExecutionProgress=[],this._worker=null,this._workerShutdownPromise=null,this._workerShutdownResolver=()=>{},this._nextMessageId=0,this._pendingRequests=new Map,this._logger=t,this._onMessageHandler=this.onMessage.bind(this),this._onErrorHandler=this.onError.bind(this),this._onCloseHandler=this.onClose.bind(this),null!=e&&this.attach(e)}get logger(){return this._logger}attach(t){this._worker=t,this._worker.addEventListener("message",this._onMessageHandler),this._worker.addEventListener("error",this._onErrorHandler),this._worker.addEventListener("close",this._onCloseHandler),this._workerShutdownPromise=new Promise((t,e)=>{this._workerShutdownResolver=t})}detach(){this._worker&&(this._worker.removeEventListener("message",this._onMessageHandler),this._worker.removeEventListener("error",this._onErrorHandler),this._worker.removeEventListener("close",this._onCloseHandler),this._worker=null,this._workerShutdownResolver(null),this._workerShutdownPromise=null,this._workerShutdownResolver=()=>{})}async terminate(){this._worker&&(this._worker.terminate(),this._worker=null,this._workerShutdownPromise=null,this._workerShutdownResolver=()=>{})}async postTask(t,e=[]){if(!this._worker)return void console.error("cannot send a message since the worker is not set!");let i=this._nextMessageId++;return this._pendingRequests.set(i,t),this._worker.postMessage({messageId:i,type:t.type,data:t.data},e),await t.promise}onMessage(t){var e;let i=t.data;switch(i.type){case"PROGRESS_UPDATE":for(let t of this._onExecutionProgress)t(i.data);return;case"LOG":return void this._logger.log(i.data);case"INSTANTIATE_PROGRESS":for(let t of this._onInstantiationProgress)t(i.data);return}let r=this._pendingRequests.get(i.requestId);if(!r)return void console.warn("unassociated response: [".concat(i.requestId,", ").concat(i.type.toString(),"]"));if(this._pendingRequests.delete(i.requestId),"ERROR"==i.type){let t=Error(i.data.message);t.name=i.data.name,null!=(e=Object.getOwnPropertyDescriptor(t,"stack"))&&e.writable&&(t.stack=i.data.stack),r.promiseRejecter(t);return}switch(r.type){case"CLOSE_PREPARED":case"COLLECT_FILE_STATISTICS":case"REGISTER_OPFS_FILE_NAME":case"COPY_FILE_TO_PATH":case"DISCONNECT":case"DROP_FILE":case"DROP_FILES":case"FLUSH_FILES":case"INSERT_ARROW_FROM_IPC_STREAM":case"IMPORT_CSV_FROM_PATH":case"IMPORT_JSON_FROM_PATH":case"OPEN":case"PING":case"REGISTER_FILE_BUFFER":case"REGISTER_FILE_HANDLE":case"REGISTER_FILE_URL":case"RESET":if("OK"==i.type)return void r.promiseResolver(i.data);break;case"INSTANTIATE":if(this._onInstantiationProgress=[],"OK"==i.type)return void r.promiseResolver(i.data);break;case"GLOB_FILE_INFOS":if("FILE_INFOS"==i.type)return void r.promiseResolver(i.data);break;case"GET_VERSION":if("VERSION_STRING"==i.type)return void r.promiseResolver(i.data);break;case"GET_FEATURE_FLAGS":if("FEATURE_FLAGS"==i.type)return void r.promiseResolver(i.data);break;case"GET_TABLE_NAMES":if("TABLE_NAMES"==i.type)return void r.promiseResolver(i.data);break;case"TOKENIZE":if("SCRIPT_TOKENS"==i.type)return void r.promiseResolver(i.data);break;case"COPY_FILE_TO_BUFFER":if("FILE_BUFFER"==i.type)return void r.promiseResolver(i.data);break;case"EXPORT_FILE_STATISTICS":if("FILE_STATISTICS"==i.type)return void r.promiseResolver(i.data);break;case"CONNECT":if("CONNECTION_INFO"==i.type)return void r.promiseResolver(i.data);break;case"RUN_PREPARED":case"RUN_QUERY":if("QUERY_RESULT"==i.type)return void r.promiseResolver(i.data);break;case"SEND_PREPARED":if("QUERY_RESULT_HEADER"==i.type)return void r.promiseResolver(i.data);break;case"START_PENDING_QUERY":case"POLL_PENDING_QUERY":if("QUERY_RESULT_HEADER_OR_NULL"==i.type)return void r.promiseResolver(i.data);break;case"CANCEL_PENDING_QUERY":if(this._onInstantiationProgress=[],"SUCCESS"==i.type)return void r.promiseResolver(i.data);break;case"FETCH_QUERY_RESULTS":if("QUERY_RESULT_CHUNK"==i.type)return void r.promiseResolver(i.data);break;case"CREATE_PREPARED":if("PREPARED_STATEMENT_ID"==i.type)return void r.promiseResolver(i.data)}r.promiseRejecter(Error("unexpected response type: ".concat(i.type.toString())))}onError(t){console.error(t),console.error("error in duckdb worker: ".concat(t.message)),this._pendingRequests.clear()}onClose(){if(this._workerShutdownResolver(null),0!=this._pendingRequests.size)return void console.warn("worker terminated with ".concat(this._pendingRequests.size," pending requests"));this._pendingRequests.clear()}async reset(){let t=new sX("RESET",null);return await this.postTask(t)}async ping(){let t=new sX("PING",null);await this.postTask(t)}async dropFile(t){let e=new sX("DROP_FILE",t);return await this.postTask(e)}async dropFiles(){let t=new sX("DROP_FILES",null);return await this.postTask(t)}async flushFiles(){let t=new sX("FLUSH_FILES",null);return await this.postTask(t)}async instantiate(t,e=null,i=t=>{}){this._onInstantiationProgress.push(i);let r=new sX("INSTANTIATE",[t,e]);return await this.postTask(r)}async getVersion(){let t=new sX("GET_VERSION",null);return await this.postTask(t)}async getFeatureFlags(){let t=new sX("GET_FEATURE_FLAGS",null);return await this.postTask(t)}async open(t){let e=new sX("OPEN",t);await this.postTask(e)}async tokenize(t){let e=new sX("TOKENIZE",t);return await this.postTask(e)}async connectInternal(){let t=new sX("CONNECT",null);return await this.postTask(t)}async connect(){return new sH(this,await this.connectInternal())}async disconnect(t){let e=new sX("DISCONNECT",t);await this.postTask(e)}async runQuery(t,e){let i=new sX("RUN_QUERY",[t,e]);return await this.postTask(i)}async startPendingQuery(t,e,i=!1){let r=new sX("START_PENDING_QUERY",[t,e,i]);return await this.postTask(r)}async pollPendingQuery(t){let e=new sX("POLL_PENDING_QUERY",t);return await this.postTask(e)}async cancelPendingQuery(t){let e=new sX("CANCEL_PENDING_QUERY",t);return await this.postTask(e)}async fetchQueryResults(t){let e=new sX("FETCH_QUERY_RESULTS",t);return await this.postTask(e)}async getTableNames(t,e){let i=new sX("GET_TABLE_NAMES",[t,e]);return await this.postTask(i)}async createPrepared(t,e){let i=new sX("CREATE_PREPARED",[t,e]);return await this.postTask(i)}async closePrepared(t,e){let i=new sX("CLOSE_PREPARED",[t,e]);await this.postTask(i)}async runPrepared(t,e,i){let r=new sX("RUN_PREPARED",[t,e,i]);return await this.postTask(r)}async sendPrepared(t,e,i){let r=new sX("SEND_PREPARED",[t,e,i]);return await this.postTask(r)}async globFiles(t){let e=new sX("GLOB_FILE_INFOS",t);return await this.postTask(e)}async registerFileText(t,e){let i=s1.encode(e);await this.registerFileBuffer(t,i)}async registerFileURL(t,e,i,r){void 0===e&&(e=t);let n=new sX("REGISTER_FILE_URL",[t,e,i,r]);await this.postTask(n)}async registerEmptyFileBuffer(t){}async registerFileBuffer(t,e){let i=new sX("REGISTER_FILE_BUFFER",[t,e]);await this.postTask(i,[e.buffer])}async registerFileHandle(t,e,i,r){let n=new sX("REGISTER_FILE_HANDLE",[t,e,i,r]);await this.postTask(n,[])}async registerOPFSFileName(t){let e=new sX("REGISTER_OPFS_FILE_NAME",[t]);await this.postTask(e,[])}async collectFileStatistics(t,e){let i=new sX("COLLECT_FILE_STATISTICS",[t,e]);await this.postTask(i,[])}async exportFileStatistics(t){let e=new sX("EXPORT_FILE_STATISTICS",t);return await this.postTask(e,[])}async copyFileToBuffer(t){let e=new sX("COPY_FILE_TO_BUFFER",t);return await this.postTask(e)}async copyFileToPath(t,e){let i=new sX("COPY_FILE_TO_PATH",[t,e]);await this.postTask(i)}async insertArrowFromIPCStream(t,e,i){if(0==e.length)return;let r=new sX("INSERT_ARROW_FROM_IPC_STREAM",[t,e,i]);await this.postTask(r,[e.buffer])}async insertCSVFromPath(t,e,i){if(void 0!==i.columns){let t=[];for(let e in i.columns){let r=i.columns[e];t.push(s0(e,r))}i.columnsFlat=t,delete i.columns}let r=new sX("IMPORT_CSV_FROM_PATH",[t,e,i]);await this.postTask(r)}async insertJSONFromPath(t,e,i){if(void 0!==i.columns){let t=[];for(let e in i.columns){let r=i.columns[e];t.push(s0(e,r))}i.columnsFlat=t,delete i.columns}let r=new sX("IMPORT_JSON_FROM_PATH",[t,e,i]);await this.postTask(r)}};b=new TextDecoder,t=>("u">typeof SharedArrayBuffer&&t.buffer instanceof SharedArrayBuffer&&(t=new Uint8Array(t)),b.decode(t));var s3=((m=s3||{})[m.BUFFER=0]="BUFFER",m[m.NODE_FS=1]="NODE_FS",m[m.BROWSER_FILEREADER=2]="BROWSER_FILEREADER",m[m.BROWSER_FSACCESS=3]="BROWSER_FSACCESS",m[m.HTTP=4]="HTTP",m[m.S3=5]="S3",m),s4=async()=>WebAssembly.validate(new Uint8Array([0,97,115,109,1,0,0,0,1,4,1,96,0,0,3,2,1,0,5,3,1,0,1,10,14,1,12,0,65,0,65,0,65,0,252,10,0,0,11])),s6=async()=>WebAssembly.validate(new Uint8Array([0,97,115,109,1,0,0,0,1,4,1,96,0,0,3,2,1,0,10,8,1,6,0,6,64,25,11,11])),s8=async()=>WebAssembly.validate(new Uint8Array([0,97,115,109,1,0,0,0,1,5,1,96,0,1,123,3,2,1,0,10,10,1,8,0,65,0,253,15,253,98,11])),s5=()=>(async t=>{try{return"u">typeof MessageChannel&&new MessageChannel().port1.postMessage(new SharedArrayBuffer(1)),WebAssembly.validate(t)}catch(t){return!1}})(new Uint8Array([0,97,115,109,1,0,0,0,1,4,1,96,0,0,3,2,1,0,5,4,1,3,1,1,10,11,1,9,0,65,0,254,16,2,0,26,11])),s9="1.30.0",s7=s9.split(".");s7[0],s7[1],s7[2];var ot=()=>typeof navigator>"u";function oe(){let t="https://cdn.jsdelivr.net/npm/".concat("@duckdb/duckdb-wasm","@").concat(s9,"/dist/");return{mvp:{mainModule:"".concat(t,"duckdb-mvp.wasm"),mainWorker:"".concat(t,"duckdb-browser-mvp.worker.js")},eh:{mainModule:"".concat(t,"duckdb-eh.wasm"),mainWorker:"".concat(t,"duckdb-browser-eh.worker.js")}}}var oi=null,or=null,on=null,os=null,oo=null;async function oa(){return null==oi&&(oi="u">typeof BigInt64Array),null==or&&(or=await s6()),null==on&&(on=await s5()),null==os&&(os=await s8()),null==oo&&(oo=await s4()),{bigInt64Array:oi,crossOriginIsolated:ot()||globalThis.crossOriginIsolated||!1,wasmExceptions:or,wasmSIMD:os,wasmThreads:on,wasmBulkMemory:oo}}async function ol(t){let e=await oa();if(e.wasmExceptions){if(e.wasmSIMD&&e.wasmThreads&&e.crossOriginIsolated&&t.coi)return{mainModule:t.coi.mainModule,mainWorker:t.coi.mainWorker,pthreadWorker:t.coi.pthreadWorker};if(t.eh)return{mainModule:t.eh.mainModule,mainWorker:t.eh.mainWorker,pthreadWorker:null}}return{mainModule:t.mvp.mainModule,mainWorker:t.mvp.mainWorker,pthreadWorker:null}}v=null!=(g=sz())?sx(sU(g)):{},((t,e,i,r)=>{if(e&&"object"==typeof e||"function"==typeof e)for(let n of sM(e))sk.call(t,n)||n===i||sP(t,n,{get:()=>e[n],enumerable:!(r=sL(e,n))||r.enumerable});return})(!_&&g&&g.__esModule?v:sP(v,"default",{value:g,enumerable:!0}),g)},24709:function(t,e,i){function r(t,e,i){function r(i,r){var n;for(let s in Object.defineProperty(i,"_zod",{value:i._zod??{},enumerable:!1}),(n=i._zod).traits??(n.traits=new Set),i._zod.traits.add(t),e(i,r),o.prototype)s in i||Object.defineProperty(i,s,{value:o.prototype[s].bind(i)});i._zod.constr=o,i._zod.def=r}let n=i?.Parent??Object;class s extends n{}function o(t){var e;let n=i?.Parent?new s:this;for(let i of(r(n,t),(e=n._zod).deferred??(e.deferred=[]),n._zod.deferred))i();return n}return Object.defineProperty(s,"name",{value:t}),Object.defineProperty(o,"init",{value:r}),Object.defineProperty(o,Symbol.hasInstance,{value:e=>!!i?.Parent&&e instanceof i.Parent||e?._zod?.traits?.has(t)}),Object.defineProperty(o,"name",{value:t}),o}i.d(e,{O7:()=>ib,VK:()=>iR,Km:()=>iM,Z_:()=>eQ,Yj:()=>iv,G0:()=>iB,IX:()=>iE,i0:()=>ik,Rx:()=>id,o4:()=>eX,Ry:()=>iO,IM:()=>iP,S1:()=>ig}),Object.freeze({status:"aborted"}),Symbol("zod_brand");class n extends Error{constructor(){super("Encountered Promise during synchronous parse. Use .parseAsync() instead.")}}let s={};function o(t){return t&&Object.assign(s,t),s}let a=/^[cC][^\s-]{8,}$/,l=/^[0-9a-z]+$/,u=/^[0-9A-HJKMNP-TV-Za-hjkmnp-tv-z]{26}$/,c=/^[0-9a-vA-V]{20}$/,d=/^[A-Za-z0-9]{27}$/,h=/^[a-zA-Z0-9_-]{21}$/,p=/^P(?:(\d+W)|(?!.*W)(?=\d|T\d)(\d+Y)?(\d+M)?(\d+D)?(T(?=\d)(\d+H)?(\d+M)?(\d+([.,]\d+)?S)?)?)$/,f=/^([0-9a-fA-F]{8}-[0-9a-fA-F]{4}-[0-9a-fA-F]{4}-[0-9a-fA-F]{4}-[0-9a-fA-F]{12})$/,y=t=>t?RegExp(`^([0-9a-fA-F]{8}-[0-9a-fA-F]{4}-${t}[0-9a-fA-F]{3}-[89abAB][0-9a-fA-F]{3}-[0-9a-fA-F]{12})$`):/^([0-9a-fA-F]{8}-[0-9a-fA-F]{4}-[1-8][0-9a-fA-F]{3}-[89abAB][0-9a-fA-F]{3}-[0-9a-fA-F]{12}|00000000-0000-0000-0000-000000000000)$/,b=/^(?!\.)(?!.*\.\.)([A-Za-z0-9_'+\-\.]*)[A-Za-z0-9_+-]@([A-Za-z0-9][A-Za-z0-9\-]*\.)+[A-Za-z]{2,}$/,m=/^(?:(?:25[0-5]|2[0-4][0-9]|1[0-9][0-9]|[1-9][0-9]|[0-9])\.){3}(?:25[0-5]|2[0-4][0-9]|1[0-9][0-9]|[1-9][0-9]|[0-9])$/,g=/^(([0-9a-fA-F]{1,4}:){7}[0-9a-fA-F]{1,4}|::|([0-9a-fA-F]{1,4})?::([0-9a-fA-F]{1,4}:?){0,6})$/,_=/^((25[0-5]|2[0-4][0-9]|1[0-9][0-9]|[1-9][0-9]|[0-9])\.){3}(25[0-5]|2[0-4][0-9]|1[0-9][0-9]|[1-9][0-9]|[0-9])\/([0-9]|[1-2][0-9]|3[0-2])$/,v=/^(([0-9a-fA-F]{1,4}:){7}[0-9a-fA-F]{1,4}|::|([0-9a-fA-F]{1,4})?::([0-9a-fA-F]{1,4}:?){0,6})\/(12[0-8]|1[01][0-9]|[1-9]?[0-9])$/,w=/^$|^(?:[0-9a-zA-Z+/]{4})*(?:(?:[0-9a-zA-Z+/]{2}==)|(?:[0-9a-zA-Z+/]{3}=))?$/,I=/^[A-Za-z0-9_-]*$/,S=/^(?=.{1,253}\.?$)[a-zA-Z0-9](?:[a-zA-Z0-9-]{0,61}[a-zA-Z0-9])?(?:\.[a-zA-Z0-9](?:[-0-9a-zA-Z]{0,61}[0-9a-zA-Z])?)*\.?$/,T=/^\+(?:[0-9]){6,14}[0-9]$/,E="(?:(?:\\d\\d[2468][048]|\\d\\d[13579][26]|\\d\\d0[48]|[02468][048]00|[13579][26]00)-02-29|\\d{4}-(?:(?:0[13578]|1[02])-(?:0[1-9]|[12]\\d|3[01])|(?:0[469]|11)-(?:0[1-9]|[12]\\d|30)|(?:02)-(?:0[1-9]|1\\d|2[0-8])))",A=RegExp(`^${E}$`);function O(t){let e="(?:[01]\\d|2[0-3]):[0-5]\\d";return"number"==typeof t.precision?-1===t.precision?`${e}`:0===t.precision?`${e}:[0-5]\\d`:`${e}:[0-5]\\d\\.\\d{${t.precision}}`:`${e}(?::[0-5]\\d(?:\\.\\d+)?)?`}let D=t=>{let e=t?`[\\s\\S]{${t?.minimum??0},${t?.maximum??""}}`:"[\\s\\S]*";return RegExp(`^${e}$`)},B=/^\d+$/,N=/^-?\d+(?:\.\d+)?/i,R=/true|false/i,F=/undefined/i,x=/^[^A-Z]*$/,P=/^[^a-z]*$/;function L(t,e){return"bigint"==typeof e?e.toString():e}function M(t){return{get value(){{let e=t();return Object.defineProperty(this,"value",{value:e}),e}}}}function U(t){let e=+!!t.startsWith("^"),i=t.endsWith("$")?t.length-1:t.length;return t.slice(e,i)}let k=Symbol("evaluating");function z(t,e,i){let r;Object.defineProperty(t,e,{get(){if(r!==k)return void 0===r&&(r=k,r=i()),r},set(i){Object.defineProperty(t,e,{value:i})},configurable:!0})}function C(t,e,i){Object.defineProperty(t,e,{value:i,writable:!0,enumerable:!0,configurable:!0})}function j(...t){let e={};for(let i of t)Object.assign(e,Object.getOwnPropertyDescriptors(i));return Object.defineProperties({},e)}function V(t){return JSON.stringify(t)}let $="captureStackTrace"in Error?Error.captureStackTrace:(...t)=>{};function Z(t){return"object"==typeof t&&null!==t&&!Array.isArray(t)}let Y=M(()=>{if("undefined"!=typeof navigator&&navigator?.userAgent?.includes("Cloudflare"))return!1;try{return Function(""),!0}catch(t){return!1}});function W(t){if(!1===Z(t))return!1;let e=t.constructor;if(void 0===e)return!0;let i=e.prototype;return!1!==Z(i)&&!1!==Object.prototype.hasOwnProperty.call(i,"isPrototypeOf")}let G=new Set(["string","number","symbol"]);function H(t){return t.replace(/[.*+?^${}()|[\]\\]/g,"\\$&")}function K(t,e,i){let r=new t._zod.constr(e??t._zod.def);return(!e||i?.parent)&&(r._zod.parent=t),r}function q(t){if(!t)return{};if("string"==typeof t)return{error:()=>t};if(t?.message!==void 0){if(t?.error!==void 0)throw Error("Cannot specify both `message` and `error` params");t.error=t.message}return(delete t.message,"string"==typeof t.error)?{...t,error:()=>t.error}:t}let J={safeint:[Number.MIN_SAFE_INTEGER,Number.MAX_SAFE_INTEGER],int32:[-0x80000000,0x7fffffff],uint32:[0,0xffffffff],float32:[-34028234663852886e22,34028234663852886e22],float64:[-Number.MAX_VALUE,Number.MAX_VALUE]};function Q(t,e=0){for(let i=e;i<t.issues.length;i++)if(t.issues[i]?.continue!==!0)return!0;return!1}function X(t,e){return e.map(e=>(e.path??(e.path=[]),e.path.unshift(t),e))}function tt(t){return"string"==typeof t?t:t?.message}function te(t,e,i){let r={...t,path:t.path??[]};return t.message||(r.message=tt(t.inst?._zod.def?.error?.(t))??tt(e?.error?.(t))??tt(i.customError?.(t))??tt(i.localeError?.(t))??"Invalid input"),delete r.inst,delete r.continue,e?.reportInput||delete r.input,r}function ti(t){return Array.isArray(t)?"array":"string"==typeof t?"string":"unknown"}function tr(...t){let[e,i,r]=t;return"string"==typeof e?{message:e,code:"custom",input:i,inst:r}:{...e}}let tn=r("$ZodCheck",(t,e)=>{var i;t._zod??(t._zod={}),t._zod.def=e,(i=t._zod).onattach??(i.onattach=[])}),ts={number:"number",bigint:"bigint",object:"date"},to=r("$ZodCheckLessThan",(t,e)=>{tn.init(t,e);let i=ts[typeof e.value];t._zod.onattach.push(t=>{let i=t._zod.bag,r=(e.inclusive?i.maximum:i.exclusiveMaximum)??Number.POSITIVE_INFINITY;e.value<r&&(e.inclusive?i.maximum=e.value:i.exclusiveMaximum=e.value)}),t._zod.check=r=>{(e.inclusive?r.value<=e.value:r.value<e.value)||r.issues.push({origin:i,code:"too_big",maximum:e.value,input:r.value,inclusive:e.inclusive,inst:t,continue:!e.abort})}}),ta=r("$ZodCheckGreaterThan",(t,e)=>{tn.init(t,e);let i=ts[typeof e.value];t._zod.onattach.push(t=>{let i=t._zod.bag,r=(e.inclusive?i.minimum:i.exclusiveMinimum)??Number.NEGATIVE_INFINITY;e.value>r&&(e.inclusive?i.minimum=e.value:i.exclusiveMinimum=e.value)}),t._zod.check=r=>{(e.inclusive?r.value>=e.value:r.value>e.value)||r.issues.push({origin:i,code:"too_small",minimum:e.value,input:r.value,inclusive:e.inclusive,inst:t,continue:!e.abort})}}),tl=r("$ZodCheckMultipleOf",(t,e)=>{tn.init(t,e),t._zod.onattach.push(t=>{var i;(i=t._zod.bag).multipleOf??(i.multipleOf=e.value)}),t._zod.check=i=>{if(typeof i.value!=typeof e.value)throw Error("Cannot mix number and bigint in multiple_of check.");("bigint"==typeof i.value?i.value%e.value===BigInt(0):0===function(t,e){let i=(t.toString().split(".")[1]||"").length,r=e.toString(),n=(r.split(".")[1]||"").length;if(0===n&&/\d?e-\d?/.test(r)){let t=r.match(/\d?e-(\d?)/);t?.[1]&&(n=Number.parseInt(t[1]))}let s=i>n?i:n;return Number.parseInt(t.toFixed(s).replace(".",""))%Number.parseInt(e.toFixed(s).replace(".",""))/10**s}(i.value,e.value))||i.issues.push({origin:typeof i.value,code:"not_multiple_of",divisor:e.value,input:i.value,inst:t,continue:!e.abort})}}),tu=r("$ZodCheckNumberFormat",(t,e)=>{tn.init(t,e),e.format=e.format||"float64";let i=e.format?.includes("int"),r=i?"int":"number",[n,s]=J[e.format];t._zod.onattach.push(t=>{let r=t._zod.bag;r.format=e.format,r.minimum=n,r.maximum=s,i&&(r.pattern=B)}),t._zod.check=o=>{let a=o.value;if(i){if(!Number.isInteger(a))return void o.issues.push({expected:r,format:e.format,code:"invalid_type",continue:!1,input:a,inst:t});if(!Number.isSafeInteger(a))return void(a>0?o.issues.push({input:a,code:"too_big",maximum:Number.MAX_SAFE_INTEGER,note:"Integers must be within the safe integer range.",inst:t,origin:r,continue:!e.abort}):o.issues.push({input:a,code:"too_small",minimum:Number.MIN_SAFE_INTEGER,note:"Integers must be within the safe integer range.",inst:t,origin:r,continue:!e.abort}))}a<n&&o.issues.push({origin:"number",input:a,code:"too_small",minimum:n,inclusive:!0,inst:t,continue:!e.abort}),a>s&&o.issues.push({origin:"number",input:a,code:"too_big",maximum:s,inst:t})}}),tc=r("$ZodCheckMaxLength",(t,e)=>{var i;tn.init(t,e),(i=t._zod.def).when??(i.when=t=>{let e=t.value;return null!=e&&void 0!==e.length}),t._zod.onattach.push(t=>{let i=t._zod.bag.maximum??Number.POSITIVE_INFINITY;e.maximum<i&&(t._zod.bag.maximum=e.maximum)}),t._zod.check=i=>{let r=i.value;if(r.length<=e.maximum)return;let n=ti(r);i.issues.push({origin:n,code:"too_big",maximum:e.maximum,inclusive:!0,input:r,inst:t,continue:!e.abort})}}),td=r("$ZodCheckMinLength",(t,e)=>{var i;tn.init(t,e),(i=t._zod.def).when??(i.when=t=>{let e=t.value;return null!=e&&void 0!==e.length}),t._zod.onattach.push(t=>{let i=t._zod.bag.minimum??Number.NEGATIVE_INFINITY;e.minimum>i&&(t._zod.bag.minimum=e.minimum)}),t._zod.check=i=>{let r=i.value;if(r.length>=e.minimum)return;let n=ti(r);i.issues.push({origin:n,code:"too_small",minimum:e.minimum,inclusive:!0,input:r,inst:t,continue:!e.abort})}}),th=r("$ZodCheckLengthEquals",(t,e)=>{var i;tn.init(t,e),(i=t._zod.def).when??(i.when=t=>{let e=t.value;return null!=e&&void 0!==e.length}),t._zod.onattach.push(t=>{let i=t._zod.bag;i.minimum=e.length,i.maximum=e.length,i.length=e.length}),t._zod.check=i=>{let r=i.value,n=r.length;if(n===e.length)return;let s=ti(r),o=n>e.length;i.issues.push({origin:s,...o?{code:"too_big",maximum:e.length}:{code:"too_small",minimum:e.length},inclusive:!0,exact:!0,input:i.value,inst:t,continue:!e.abort})}}),tp=r("$ZodCheckStringFormat",(t,e)=>{var i,r;tn.init(t,e),t._zod.onattach.push(t=>{let i=t._zod.bag;i.format=e.format,e.pattern&&(i.patterns??(i.patterns=new Set),i.patterns.add(e.pattern))}),e.pattern?(i=t._zod).check??(i.check=i=>{e.pattern.lastIndex=0,e.pattern.test(i.value)||i.issues.push({origin:"string",code:"invalid_format",format:e.format,input:i.value,...e.pattern?{pattern:e.pattern.toString()}:{},inst:t,continue:!e.abort})}):(r=t._zod).check??(r.check=()=>{})}),tf=r("$ZodCheckRegex",(t,e)=>{tp.init(t,e),t._zod.check=i=>{e.pattern.lastIndex=0,e.pattern.test(i.value)||i.issues.push({origin:"string",code:"invalid_format",format:"regex",input:i.value,pattern:e.pattern.toString(),inst:t,continue:!e.abort})}}),ty=r("$ZodCheckLowerCase",(t,e)=>{e.pattern??(e.pattern=x),tp.init(t,e)}),tb=r("$ZodCheckUpperCase",(t,e)=>{e.pattern??(e.pattern=P),tp.init(t,e)}),tm=r("$ZodCheckIncludes",(t,e)=>{tn.init(t,e);let i=H(e.includes),r=new RegExp("number"==typeof e.position?`^.{${e.position}}${i}`:i);e.pattern=r,t._zod.onattach.push(t=>{let e=t._zod.bag;e.patterns??(e.patterns=new Set),e.patterns.add(r)}),t._zod.check=i=>{i.value.includes(e.includes,e.position)||i.issues.push({origin:"string",code:"invalid_format",format:"includes",includes:e.includes,input:i.value,inst:t,continue:!e.abort})}}),tg=r("$ZodCheckStartsWith",(t,e)=>{tn.init(t,e);let i=RegExp(`^${H(e.prefix)}.*`);e.pattern??(e.pattern=i),t._zod.onattach.push(t=>{let e=t._zod.bag;e.patterns??(e.patterns=new Set),e.patterns.add(i)}),t._zod.check=i=>{i.value.startsWith(e.prefix)||i.issues.push({origin:"string",code:"invalid_format",format:"starts_with",prefix:e.prefix,input:i.value,inst:t,continue:!e.abort})}}),t_=r("$ZodCheckEndsWith",(t,e)=>{tn.init(t,e);let i=RegExp(`.*${H(e.suffix)}$`);e.pattern??(e.pattern=i),t._zod.onattach.push(t=>{let e=t._zod.bag;e.patterns??(e.patterns=new Set),e.patterns.add(i)}),t._zod.check=i=>{i.value.endsWith(e.suffix)||i.issues.push({origin:"string",code:"invalid_format",format:"ends_with",suffix:e.suffix,input:i.value,inst:t,continue:!e.abort})}}),tv=r("$ZodCheckOverwrite",(t,e)=>{tn.init(t,e),t._zod.check=t=>{t.value=e.tx(t.value)}});class tw{constructor(t=[]){this.content=[],this.indent=0,this&&(this.args=t)}indented(t){this.indent+=1,t(this),this.indent-=1}write(t){if("function"==typeof t){t(this,{execution:"sync"}),t(this,{execution:"async"});return}let e=t.split("\n").filter(t=>t),i=Math.min(...e.map(t=>t.length-t.trimStart().length));for(let t of e.map(t=>t.slice(i)).map(t=>" ".repeat(2*this.indent)+t))this.content.push(t)}compile(){return Function(...this?.args,[...(this?.content??[""]).map(t=>`  ${t}`)].join("\n"))}}let tI=(t,e)=>{t.name="$ZodError",Object.defineProperty(t,"_zod",{value:t._zod,enumerable:!1}),Object.defineProperty(t,"issues",{value:e,enumerable:!1}),t.message=JSON.stringify(e,L,2),Object.defineProperty(t,"toString",{value:()=>t.message,enumerable:!1})},tS=r("$ZodError",tI),tT=r("$ZodError",tI,{Parent:Error}),tE=t=>(e,i,r)=>{let s=r?{...r,async:!1}:{async:!1},a=e._zod.run({value:i,issues:[]},s);if(a instanceof Promise)throw new n;return a.issues.length?{success:!1,error:new(t??tS)(a.issues.map(t=>te(t,s,o())))}:{success:!0,data:a.value}},tA=tE(tT),tO=t=>async(e,i,r)=>{let n=r?Object.assign(r,{async:!0}):{async:!0},s=e._zod.run({value:i,issues:[]},n);return s instanceof Promise&&(s=await s),s.issues.length?{success:!1,error:new t(s.issues.map(t=>te(t,n,o())))}:{success:!0,data:s.value}},tD=tO(tT),tB={major:4,minor:0,patch:14},tN=r("$ZodType",(t,e)=>{var i;t??(t={}),t._zod.def=e,t._zod.bag=t._zod.bag||{},t._zod.version=tB;let r=[...t._zod.def.checks??[]];for(let e of(t._zod.traits.has("$ZodCheck")&&r.unshift(t),r))for(let i of e._zod.onattach)i(t);if(0===r.length)(i=t._zod).deferred??(i.deferred=[]),t._zod.deferred?.push(()=>{t._zod.run=t._zod.parse});else{let e=(t,e,i)=>{let r,s=Q(t);for(let o of e){if(o._zod.def.when){if(!o._zod.def.when(t))continue}else if(s)continue;let e=t.issues.length,a=o._zod.check(t);if(a instanceof Promise&&i?.async===!1)throw new n;if(r||a instanceof Promise)r=(r??Promise.resolve()).then(async()=>{await a,t.issues.length!==e&&(s||(s=Q(t,e)))});else{if(t.issues.length===e)continue;s||(s=Q(t,e))}}return r?r.then(()=>t):t};t._zod.run=(i,s)=>{let o=t._zod.parse(i,s);if(o instanceof Promise){if(!1===s.async)throw new n;return o.then(t=>e(t,r,s))}return e(o,r,s)}}t["~standard"]={validate:e=>{try{let i=tA(t,e);return i.success?{value:i.data}:{issues:i.error?.issues}}catch(i){return tD(t,e).then(t=>t.success?{value:t.data}:{issues:t.error?.issues})}},vendor:"zod",version:1}}),tR=r("$ZodString",(t,e)=>{tN.init(t,e),t._zod.pattern=[...t?._zod.bag?.patterns??[]].pop()??D(t._zod.bag),t._zod.parse=(i,r)=>{if(e.coerce)try{i.value=String(i.value)}catch(t){}return"string"==typeof i.value||i.issues.push({expected:"string",code:"invalid_type",input:i.value,inst:t}),i}}),tF=r("$ZodStringFormat",(t,e)=>{tp.init(t,e),tR.init(t,e)}),tx=r("$ZodGUID",(t,e)=>{e.pattern??(e.pattern=f),tF.init(t,e)}),tP=r("$ZodUUID",(t,e)=>{if(e.version){let t={v1:1,v2:2,v3:3,v4:4,v5:5,v6:6,v7:7,v8:8}[e.version];if(void 0===t)throw Error(`Invalid UUID version: "${e.version}"`);e.pattern??(e.pattern=y(t))}else e.pattern??(e.pattern=y());tF.init(t,e)}),tL=r("$ZodEmail",(t,e)=>{e.pattern??(e.pattern=b),tF.init(t,e)}),tM=r("$ZodURL",(t,e)=>{tF.init(t,e),t._zod.check=i=>{try{let r=i.value.trim(),n=new URL(r);e.hostname&&(e.hostname.lastIndex=0,e.hostname.test(n.hostname)||i.issues.push({code:"invalid_format",format:"url",note:"Invalid hostname",pattern:S.source,input:i.value,inst:t,continue:!e.abort})),e.protocol&&(e.protocol.lastIndex=0,e.protocol.test(n.protocol.endsWith(":")?n.protocol.slice(0,-1):n.protocol)||i.issues.push({code:"invalid_format",format:"url",note:"Invalid protocol",pattern:e.protocol.source,input:i.value,inst:t,continue:!e.abort})),e.normalize?i.value=n.href:i.value=r;return}catch(r){i.issues.push({code:"invalid_format",format:"url",input:i.value,inst:t,continue:!e.abort})}}}),tU=r("$ZodEmoji",(t,e)=>{e.pattern??(e.pattern=RegExp("^(\\p{Extended_Pictographic}|\\p{Emoji_Component})+$","u")),tF.init(t,e)}),tk=r("$ZodNanoID",(t,e)=>{e.pattern??(e.pattern=h),tF.init(t,e)}),tz=r("$ZodCUID",(t,e)=>{e.pattern??(e.pattern=a),tF.init(t,e)}),tC=r("$ZodCUID2",(t,e)=>{e.pattern??(e.pattern=l),tF.init(t,e)}),tj=r("$ZodULID",(t,e)=>{e.pattern??(e.pattern=u),tF.init(t,e)}),tV=r("$ZodXID",(t,e)=>{e.pattern??(e.pattern=c),tF.init(t,e)}),t$=r("$ZodKSUID",(t,e)=>{e.pattern??(e.pattern=d),tF.init(t,e)}),tZ=r("$ZodISODateTime",(t,e)=>{e.pattern??(e.pattern=function(t){let e=O({precision:t.precision}),i=["Z"];t.local&&i.push(""),t.offset&&i.push("([+-](?:[01]\\d|2[0-3]):[0-5]\\d)");let r=`${e}(?:${i.join("|")})`;return RegExp(`^${E}T(?:${r})$`)}(e)),tF.init(t,e)}),tY=r("$ZodISODate",(t,e)=>{e.pattern??(e.pattern=A),tF.init(t,e)}),tW=r("$ZodISOTime",(t,e)=>{e.pattern??(e.pattern=RegExp(`^${O(e)}$`)),tF.init(t,e)}),tG=r("$ZodISODuration",(t,e)=>{e.pattern??(e.pattern=p),tF.init(t,e)}),tH=r("$ZodIPv4",(t,e)=>{e.pattern??(e.pattern=m),tF.init(t,e),t._zod.onattach.push(t=>{t._zod.bag.format="ipv4"})}),tK=r("$ZodIPv6",(t,e)=>{e.pattern??(e.pattern=g),tF.init(t,e),t._zod.onattach.push(t=>{t._zod.bag.format="ipv6"}),t._zod.check=i=>{try{new URL(`http://[${i.value}]`)}catch{i.issues.push({code:"invalid_format",format:"ipv6",input:i.value,inst:t,continue:!e.abort})}}}),tq=r("$ZodCIDRv4",(t,e)=>{e.pattern??(e.pattern=_),tF.init(t,e)}),tJ=r("$ZodCIDRv6",(t,e)=>{e.pattern??(e.pattern=v),tF.init(t,e),t._zod.check=i=>{let[r,n]=i.value.split("/");try{if(!n)throw Error();let t=Number(n);if(`${t}`!==n||t<0||t>128)throw Error();new URL(`http://[${r}]`)}catch{i.issues.push({code:"invalid_format",format:"cidrv6",input:i.value,inst:t,continue:!e.abort})}}});function tQ(t){if(""===t)return!0;if(t.length%4!=0)return!1;try{return atob(t),!0}catch{return!1}}let tX=r("$ZodBase64",(t,e)=>{e.pattern??(e.pattern=w),tF.init(t,e),t._zod.onattach.push(t=>{t._zod.bag.contentEncoding="base64"}),t._zod.check=i=>{tQ(i.value)||i.issues.push({code:"invalid_format",format:"base64",input:i.value,inst:t,continue:!e.abort})}}),t0=r("$ZodBase64URL",(t,e)=>{e.pattern??(e.pattern=I),tF.init(t,e),t._zod.onattach.push(t=>{t._zod.bag.contentEncoding="base64url"}),t._zod.check=i=>{!function(t){if(!I.test(t))return!1;let e=t.replace(/[-_]/g,t=>"-"===t?"+":"/");return tQ(e.padEnd(4*Math.ceil(e.length/4),"="))}(i.value)&&i.issues.push({code:"invalid_format",format:"base64url",input:i.value,inst:t,continue:!e.abort})}}),t1=r("$ZodE164",(t,e)=>{e.pattern??(e.pattern=T),tF.init(t,e)}),t2=r("$ZodJWT",(t,e)=>{tF.init(t,e),t._zod.check=i=>{!function(t,e=null){try{let i=t.split(".");if(3!==i.length)return!1;let[r]=i;if(!r)return!1;let n=JSON.parse(atob(r));if("typ"in n&&n?.typ!=="JWT"||!n.alg||e&&(!("alg"in n)||n.alg!==e))return!1;return!0}catch{return!1}}(i.value,e.alg)&&i.issues.push({code:"invalid_format",format:"jwt",input:i.value,inst:t,continue:!e.abort})}}),t3=r("$ZodNumber",(t,e)=>{tN.init(t,e),t._zod.pattern=t._zod.bag.pattern??N,t._zod.parse=(i,r)=>{if(e.coerce)try{i.value=Number(i.value)}catch(t){}let n=i.value;if("number"==typeof n&&!Number.isNaN(n)&&Number.isFinite(n))return i;let s="number"==typeof n?Number.isNaN(n)?"NaN":Number.isFinite(n)?void 0:"Infinity":void 0;return i.issues.push({expected:"number",code:"invalid_type",input:n,inst:t,...s?{received:s}:{}}),i}}),t4=r("$ZodNumber",(t,e)=>{tu.init(t,e),t3.init(t,e)}),t6=r("$ZodBoolean",(t,e)=>{tN.init(t,e),t._zod.pattern=R,t._zod.parse=(i,r)=>{if(e.coerce)try{i.value=!!i.value}catch(t){}let n=i.value;return"boolean"==typeof n||i.issues.push({expected:"boolean",code:"invalid_type",input:n,inst:t}),i}}),t8=r("$ZodUndefined",(t,e)=>{tN.init(t,e),t._zod.pattern=F,t._zod.values=new Set([void 0]),t._zod.optin="optional",t._zod.optout="optional",t._zod.parse=(e,i)=>{let r=e.value;return void 0===r||e.issues.push({expected:"undefined",code:"invalid_type",input:r,inst:t}),e}}),t5=r("$ZodAny",(t,e)=>{tN.init(t,e),t._zod.parse=t=>t}),t9=r("$ZodUnknown",(t,e)=>{tN.init(t,e),t._zod.parse=t=>t}),t7=r("$ZodNever",(t,e)=>{tN.init(t,e),t._zod.parse=(e,i)=>(e.issues.push({expected:"never",code:"invalid_type",input:e.value,inst:t}),e)});function et(t,e,i){t.issues.length&&e.issues.push(...X(i,t.issues)),e.value[i]=t.value}let ee=r("$ZodArray",(t,e)=>{tN.init(t,e),t._zod.parse=(i,r)=>{let n=i.value;if(!Array.isArray(n))return i.issues.push({expected:"array",code:"invalid_type",input:n,inst:t}),i;i.value=Array(n.length);let s=[];for(let t=0;t<n.length;t++){let o=n[t],a=e.element._zod.run({value:o,issues:[]},r);a instanceof Promise?s.push(a.then(e=>et(e,i,t))):et(a,i,t)}return s.length?Promise.all(s).then(()=>i):i}});function ei(t,e,i,r){t.issues.length&&e.issues.push(...X(i,t.issues)),void 0===t.value?i in r&&(e.value[i]=void 0):e.value[i]=t.value}let er=r("$ZodObject",(t,e)=>{let i,r;tN.init(t,e);let n=M(()=>{var t;let i=Object.keys(e.shape);for(let t of i)if(!(e.shape[t]instanceof tN))throw Error(`Invalid element at key "${t}": expected a Zod schema`);let r=Object.keys(t=e.shape).filter(e=>"optional"===t[e]._zod.optin&&"optional"===t[e]._zod.optout);return{shape:e.shape,keys:i,keySet:new Set(i),numKeys:i.length,optionalKeys:new Set(r)}});z(t._zod,"propValues",()=>{let t=e.shape,i={};for(let e in t){let r=t[e]._zod;if(r.values)for(let t of(i[e]??(i[e]=new Set),r.values))i[e].add(t)}return i});let o=t=>{let e=new tw(["shape","payload","ctx"]),i=n.value,r=t=>{let e=V(t);return`shape[${e}]._zod.run({ value: input[${e}], issues: [] }, ctx)`};e.write("const input = payload.value;");let s=Object.create(null),o=0;for(let t of i.keys)s[t]=`key_${o++}`;for(let t of(e.write("const newResult = {}"),i.keys)){let i=s[t],n=V(t);e.write(`const ${i} = ${r(t)};`),e.write(`
        if (${i}.issues.length) {
          payload.issues = payload.issues.concat(${i}.issues.map(iss => ({
            ...iss,
            path: iss.path ? [${n}, ...iss.path] : [${n}]
          })));
        }
        
        if (${i}.value === undefined) {
          if (${n} in input) {
            newResult[${n}] = undefined;
          }
        } else {
          newResult[${n}] = ${i}.value;
        }
      `)}e.write("payload.value = newResult;"),e.write("return payload;");let a=e.compile();return(e,i)=>a(t,e,i)},a=!s.jitless,l=a&&Y.value,u=e.catchall;t._zod.parse=(s,c)=>{r??(r=n.value);let d=s.value;if(!Z(d))return s.issues.push({expected:"object",code:"invalid_type",input:d,inst:t}),s;let h=[];if(a&&l&&c?.async===!1&&!0!==c.jitless)i||(i=o(e.shape)),s=i(s,c);else{s.value={};let t=r.shape;for(let e of r.keys){let i=t[e]._zod.run({value:d[e],issues:[]},c);i instanceof Promise?h.push(i.then(t=>ei(t,s,e,d))):ei(i,s,e,d)}}if(!u)return h.length?Promise.all(h).then(()=>s):s;let p=[],f=r.keySet,y=u._zod,b=y.def.type;for(let t of Object.keys(d)){if(f.has(t))continue;if("never"===b){p.push(t);continue}let e=y.run({value:d[t],issues:[]},c);e instanceof Promise?h.push(e.then(e=>ei(e,s,t,d))):ei(e,s,t,d)}return(p.length&&s.issues.push({code:"unrecognized_keys",keys:p,input:d,inst:t}),h.length)?Promise.all(h).then(()=>s):s}});function en(t,e,i,r){for(let i of t)if(0===i.issues.length)return e.value=i.value,e;let n=t.filter(t=>!Q(t));return 1===n.length?(e.value=n[0].value,n[0]):(e.issues.push({code:"invalid_union",input:e.value,inst:i,errors:t.map(t=>t.issues.map(t=>te(t,r,o())))}),e)}let es=r("$ZodUnion",(t,e)=>{tN.init(t,e),z(t._zod,"optin",()=>e.options.some(t=>"optional"===t._zod.optin)?"optional":void 0),z(t._zod,"optout",()=>e.options.some(t=>"optional"===t._zod.optout)?"optional":void 0),z(t._zod,"values",()=>{if(e.options.every(t=>t._zod.values))return new Set(e.options.flatMap(t=>Array.from(t._zod.values)))}),z(t._zod,"pattern",()=>{if(e.options.every(t=>t._zod.pattern)){let t=e.options.map(t=>t._zod.pattern);return RegExp(`^(${t.map(t=>U(t.source)).join("|")})$`)}});let i=1===e.options.length,r=e.options[0]._zod.run;t._zod.parse=(n,s)=>{if(i)return r(n,s);let o=!1,a=[];for(let t of e.options){let e=t._zod.run({value:n.value,issues:[]},s);if(e instanceof Promise)a.push(e),o=!0;else{if(0===e.issues.length)return e;a.push(e)}}return o?Promise.all(a).then(e=>en(e,n,t,s)):en(a,n,t,s)}}),eo=r("$ZodDiscriminatedUnion",(t,e)=>{es.init(t,e);let i=t._zod.parse;z(t._zod,"propValues",()=>{let t={};for(let i of e.options){let r=i._zod.propValues;if(!r||0===Object.keys(r).length)throw Error(`Invalid discriminated union option at index "${e.options.indexOf(i)}"`);for(let[e,i]of Object.entries(r))for(let r of(t[e]||(t[e]=new Set),i))t[e].add(r)}return t});let r=M(()=>{let t=e.options,i=new Map;for(let r of t){let t=r._zod.propValues?.[e.discriminator];if(!t||0===t.size)throw Error(`Invalid discriminated union option at index "${e.options.indexOf(r)}"`);for(let e of t){if(i.has(e))throw Error(`Duplicate discriminator value "${String(e)}"`);i.set(e,r)}}return i});t._zod.parse=(n,s)=>{let o=n.value;if(!Z(o))return n.issues.push({code:"invalid_type",expected:"object",input:o,inst:t}),n;let a=r.value.get(o?.[e.discriminator]);return a?a._zod.run(n,s):e.unionFallback?i(n,s):(n.issues.push({code:"invalid_union",errors:[],note:"No matching discriminator",discriminator:e.discriminator,input:o,path:[e.discriminator],inst:t}),n)}}),ea=r("$ZodIntersection",(t,e)=>{tN.init(t,e),t._zod.parse=(t,i)=>{let r=t.value,n=e.left._zod.run({value:r,issues:[]},i),s=e.right._zod.run({value:r,issues:[]},i);return n instanceof Promise||s instanceof Promise?Promise.all([n,s]).then(([e,i])=>el(t,e,i)):el(t,n,s)}});function el(t,e,i){if(e.issues.length&&t.issues.push(...e.issues),i.issues.length&&t.issues.push(...i.issues),Q(t))return t;let r=function t(e,i){if(e===i||e instanceof Date&&i instanceof Date&&+e==+i)return{valid:!0,data:e};if(W(e)&&W(i)){let r=Object.keys(i),n=Object.keys(e).filter(t=>-1!==r.indexOf(t)),s={...e,...i};for(let r of n){let n=t(e[r],i[r]);if(!n.valid)return{valid:!1,mergeErrorPath:[r,...n.mergeErrorPath]};s[r]=n.data}return{valid:!0,data:s}}if(Array.isArray(e)&&Array.isArray(i)){if(e.length!==i.length)return{valid:!1,mergeErrorPath:[]};let r=[];for(let n=0;n<e.length;n++){let s=t(e[n],i[n]);if(!s.valid)return{valid:!1,mergeErrorPath:[n,...s.mergeErrorPath]};r.push(s.data)}return{valid:!0,data:r}}return{valid:!1,mergeErrorPath:[]}}(e.value,i.value);if(!r.valid)throw Error(`Unmergable intersection. Error path: ${JSON.stringify(r.mergeErrorPath)}`);return t.value=r.data,t}let eu=r("$ZodRecord",(t,e)=>{tN.init(t,e),t._zod.parse=(i,r)=>{let n=i.value;if(!W(n))return i.issues.push({expected:"record",code:"invalid_type",input:n,inst:t}),i;let s=[];if(e.keyType._zod.values){let o,a=e.keyType._zod.values;for(let t of(i.value={},a))if("string"==typeof t||"number"==typeof t||"symbol"==typeof t){let o=e.valueType._zod.run({value:n[t],issues:[]},r);o instanceof Promise?s.push(o.then(e=>{e.issues.length&&i.issues.push(...X(t,e.issues)),i.value[t]=e.value})):(o.issues.length&&i.issues.push(...X(t,o.issues)),i.value[t]=o.value)}for(let t in n)a.has(t)||(o=o??[]).push(t);o&&o.length>0&&i.issues.push({code:"unrecognized_keys",input:n,inst:t,keys:o})}else for(let a of(i.value={},Reflect.ownKeys(n))){if("__proto__"===a)continue;let l=e.keyType._zod.run({value:a,issues:[]},r);if(l instanceof Promise)throw Error("Async schemas not supported in object keys currently");if(l.issues.length){i.issues.push({code:"invalid_key",origin:"record",issues:l.issues.map(t=>te(t,r,o())),input:a,path:[a],inst:t}),i.value[l.value]=l.value;continue}let u=e.valueType._zod.run({value:n[a],issues:[]},r);u instanceof Promise?s.push(u.then(t=>{t.issues.length&&i.issues.push(...X(a,t.issues)),i.value[l.value]=t.value})):(u.issues.length&&i.issues.push(...X(a,u.issues)),i.value[l.value]=u.value)}return s.length?Promise.all(s).then(()=>i):i}}),ec=r("$ZodEnum",(t,e)=>{tN.init(t,e);let i=function(t){let e=Object.values(t).filter(t=>"number"==typeof t);return Object.entries(t).filter(([t,i])=>-1===e.indexOf(+t)).map(([t,e])=>e)}(e.entries),r=new Set(i);t._zod.values=r,t._zod.pattern=RegExp(`^(${i.filter(t=>G.has(typeof t)).map(t=>"string"==typeof t?H(t):t.toString()).join("|")})$`),t._zod.parse=(e,n)=>{let s=e.value;return r.has(s)||e.issues.push({code:"invalid_value",values:i,input:s,inst:t}),e}}),ed=r("$ZodLiteral",(t,e)=>{if(tN.init(t,e),0===e.values.length)throw Error("Cannot create literal schema with no valid values");t._zod.values=new Set(e.values),t._zod.pattern=RegExp(`^(${e.values.map(t=>"string"==typeof t?H(t):t?H(t.toString()):String(t)).join("|")})$`),t._zod.parse=(i,r)=>{let n=i.value;return t._zod.values.has(n)||i.issues.push({code:"invalid_value",values:e.values,input:n,inst:t}),i}}),eh=r("$ZodTransform",(t,e)=>{tN.init(t,e),t._zod.parse=(t,i)=>{let r=e.transform(t.value,t);if(i.async)return(r instanceof Promise?r:Promise.resolve(r)).then(e=>(t.value=e,t));if(r instanceof Promise)throw new n;return t.value=r,t}});function ep(t,e){return t.issues.length&&void 0===e?{issues:[],value:void 0}:t}let ef=r("$ZodOptional",(t,e)=>{tN.init(t,e),t._zod.optin="optional",t._zod.optout="optional",z(t._zod,"values",()=>e.innerType._zod.values?new Set([...e.innerType._zod.values,void 0]):void 0),z(t._zod,"pattern",()=>{let t=e.innerType._zod.pattern;return t?RegExp(`^(${U(t.source)})?$`):void 0}),t._zod.parse=(t,i)=>{if("optional"===e.innerType._zod.optin){let r=e.innerType._zod.run(t,i);return r instanceof Promise?r.then(e=>ep(e,t.value)):ep(r,t.value)}return void 0===t.value?t:e.innerType._zod.run(t,i)}}),ey=r("$ZodNullable",(t,e)=>{tN.init(t,e),z(t._zod,"optin",()=>e.innerType._zod.optin),z(t._zod,"optout",()=>e.innerType._zod.optout),z(t._zod,"pattern",()=>{let t=e.innerType._zod.pattern;return t?RegExp(`^(${U(t.source)}|null)$`):void 0}),z(t._zod,"values",()=>e.innerType._zod.values?new Set([...e.innerType._zod.values,null]):void 0),t._zod.parse=(t,i)=>null===t.value?t:e.innerType._zod.run(t,i)}),eb=r("$ZodDefault",(t,e)=>{tN.init(t,e),t._zod.optin="optional",z(t._zod,"values",()=>e.innerType._zod.values),t._zod.parse=(t,i)=>{if(void 0===t.value)return t.value=e.defaultValue,t;let r=e.innerType._zod.run(t,i);return r instanceof Promise?r.then(t=>em(t,e)):em(r,e)}});function em(t,e){return void 0===t.value&&(t.value=e.defaultValue),t}let eg=r("$ZodPrefault",(t,e)=>{tN.init(t,e),t._zod.optin="optional",z(t._zod,"values",()=>e.innerType._zod.values),t._zod.parse=(t,i)=>(void 0===t.value&&(t.value=e.defaultValue),e.innerType._zod.run(t,i))}),e_=r("$ZodNonOptional",(t,e)=>{tN.init(t,e),z(t._zod,"values",()=>{let t=e.innerType._zod.values;return t?new Set([...t].filter(t=>void 0!==t)):void 0}),t._zod.parse=(i,r)=>{let n=e.innerType._zod.run(i,r);return n instanceof Promise?n.then(e=>ev(e,t)):ev(n,t)}});function ev(t,e){return t.issues.length||void 0!==t.value||t.issues.push({code:"invalid_type",expected:"nonoptional",input:t.value,inst:e}),t}let ew=r("$ZodCatch",(t,e)=>{tN.init(t,e),z(t._zod,"optin",()=>e.innerType._zod.optin),z(t._zod,"optout",()=>e.innerType._zod.optout),z(t._zod,"values",()=>e.innerType._zod.values),t._zod.parse=(t,i)=>{let r=e.innerType._zod.run(t,i);return r instanceof Promise?r.then(r=>(t.value=r.value,r.issues.length&&(t.value=e.catchValue({...t,error:{issues:r.issues.map(t=>te(t,i,o()))},input:t.value}),t.issues=[]),t)):(t.value=r.value,r.issues.length&&(t.value=e.catchValue({...t,error:{issues:r.issues.map(t=>te(t,i,o()))},input:t.value}),t.issues=[]),t)}}),eI=r("$ZodPipe",(t,e)=>{tN.init(t,e),z(t._zod,"values",()=>e.in._zod.values),z(t._zod,"optin",()=>e.in._zod.optin),z(t._zod,"optout",()=>e.out._zod.optout),z(t._zod,"propValues",()=>e.in._zod.propValues),t._zod.parse=(t,i)=>{let r=e.in._zod.run(t,i);return r instanceof Promise?r.then(t=>eS(t,e,i)):eS(r,e,i)}});function eS(t,e,i){return t.issues.length?t:e.out._zod.run({value:t.value,issues:t.issues},i)}let eT=r("$ZodReadonly",(t,e)=>{tN.init(t,e),z(t._zod,"propValues",()=>e.innerType._zod.propValues),z(t._zod,"values",()=>e.innerType._zod.values),z(t._zod,"optin",()=>e.innerType._zod.optin),z(t._zod,"optout",()=>e.innerType._zod.optout),t._zod.parse=(t,i)=>{let r=e.innerType._zod.run(t,i);return r instanceof Promise?r.then(eE):eE(r)}});function eE(t){return t.value=Object.freeze(t.value),t}let eA=r("$ZodCustom",(t,e)=>{tn.init(t,e),tN.init(t,e),t._zod.parse=(t,e)=>t,t._zod.check=i=>{let r=i.value,n=e.fn(r);if(n instanceof Promise)return n.then(e=>eO(e,i,r,t));eO(n,i,r,t)}});function eO(t,e,i,r){if(!t){let t={code:"custom",input:i,inst:r,path:[...r._zod.def.path??[]],continue:!r._zod.def.abort};r._zod.def.params&&(t.params=r._zod.def.params),e.issues.push(tr(t))}}Symbol("ZodOutput"),Symbol("ZodInput");let eD=new class t{constructor(){this._map=new Map,this._idmap=new Map}add(t,...e){let i=e[0];if(this._map.set(t,i),i&&"object"==typeof i&&"id"in i){if(this._idmap.has(i.id))throw Error(`ID ${i.id} already exists in the registry`);this._idmap.set(i.id,t)}return this}clear(){return this._map=new Map,this._idmap=new Map,this}remove(t){let e=this._map.get(t);return e&&"object"==typeof e&&"id"in e&&this._idmap.delete(e.id),this._map.delete(t),this}get(t){let e=t._zod.parent;if(e){let i={...this.get(e)??{}};delete i.id;let r={...i,...this._map.get(t)};return Object.keys(r).length?r:void 0}return this._map.get(t)}has(t){return this._map.has(t)}};function eB(t,e){return new t({type:"string",format:"guid",check:"string_format",abort:!1,...q(e)})}function eN(t,e){return new to({check:"less_than",...q(e),value:t,inclusive:!1})}function eR(t,e){return new to({check:"less_than",...q(e),value:t,inclusive:!0})}function eF(t,e){return new ta({check:"greater_than",...q(e),value:t,inclusive:!1})}function ex(t,e){return new ta({check:"greater_than",...q(e),value:t,inclusive:!0})}function eP(t,e){return new tl({check:"multiple_of",...q(e),value:t})}function eL(t,e){return new tc({check:"max_length",...q(e),maximum:t})}function eM(t,e){return new td({check:"min_length",...q(e),minimum:t})}function eU(t,e){return new th({check:"length_equals",...q(e),length:t})}function ek(t){return new tv({check:"overwrite",tx:t})}let ez=r("ZodISODateTime",(t,e)=>{tZ.init(t,e),eX.init(t,e)}),eC=r("ZodISODate",(t,e)=>{tY.init(t,e),eX.init(t,e)}),ej=r("ZodISOTime",(t,e)=>{tW.init(t,e),eX.init(t,e)}),eV=r("ZodISODuration",(t,e)=>{tG.init(t,e),eX.init(t,e)}),e$=(t,e)=>{tS.init(t,e),t.name="ZodError",Object.defineProperties(t,{format:{value:e=>(function(t,e){let i=e||function(t){return t.message},r={_errors:[]},n=t=>{for(let e of t.issues)if("invalid_union"===e.code&&e.errors.length)e.errors.map(t=>n({issues:t}));else if("invalid_key"===e.code)n({issues:e.issues});else if("invalid_element"===e.code)n({issues:e.issues});else if(0===e.path.length)r._errors.push(i(e));else{let t=r,n=0;for(;n<e.path.length;){let r=e.path[n];n===e.path.length-1?(t[r]=t[r]||{_errors:[]},t[r]._errors.push(i(e))):t[r]=t[r]||{_errors:[]},t=t[r],n++}}};return n(t),r})(t,e)},flatten:{value:e=>(function(t,e=t=>t.message){let i={},r=[];for(let n of t.issues)n.path.length>0?(i[n.path[0]]=i[n.path[0]]||[],i[n.path[0]].push(e(n))):r.push(e(n));return{formErrors:r,fieldErrors:i}})(t,e)},addIssue:{value:e=>{t.issues.push(e),t.message=JSON.stringify(t.issues,L,2)}},addIssues:{value:e=>{t.issues.push(...e),t.message=JSON.stringify(t.issues,L,2)}},isEmpty:{get:()=>0===t.issues.length}})};r("ZodError",e$);let eZ=r("ZodError",e$,{Parent:Error}),eY=(t,e,i,r)=>{let s=i?Object.assign(i,{async:!1}):{async:!1},a=t._zod.run({value:e,issues:[]},s);if(a instanceof Promise)throw new n;if(a.issues.length){let t=new(r?.Err??eZ)(a.issues.map(t=>te(t,s,o())));throw $(t,r?.callee),t}return a.value},eW=async(t,e,i,r)=>{let n=i?Object.assign(i,{async:!0}):{async:!0},s=t._zod.run({value:e,issues:[]},n);if(s instanceof Promise&&(s=await s),s.issues.length){let t=new(r?.Err??eZ)(s.issues.map(t=>te(t,n,o())));throw $(t,r?.callee),t}return s.value},eG=tE(eZ),eH=tO(eZ),eK=r("ZodType",(t,e)=>(tN.init(t,e),t.def=e,Object.defineProperty(t,"_def",{value:e}),t.check=(...i)=>t.clone({...e,checks:[...e.checks??[],...i.map(t=>"function"==typeof t?{_zod:{check:t,def:{check:"custom"},onattach:[]}}:t)]}),t.clone=(e,i)=>K(t,e,i),t.brand=()=>t,t.register=(e,i)=>(e.add(t,i),t),t.parse=(e,i)=>eY(t,e,i,{callee:t.parse}),t.safeParse=(e,i)=>eG(t,e,i),t.parseAsync=async(e,i)=>eW(t,e,i,{callee:t.parseAsync}),t.safeParseAsync=async(e,i)=>eH(t,e,i),t.spa=t.safeParseAsync,t.refine=(e,i)=>t.check(function(t,e={}){return new iJ({type:"custom",check:"custom",fn:t,...q(e)})}(e,i)),t.superRefine=e=>t.check(function(t){let e=function(t,e){let i=new tn({check:"custom",...q(void 0)});return i._zod.check=t,i}(i=>(i.addIssue=t=>{"string"==typeof t?i.issues.push(tr(t,i.value,e._zod.def)):(t.fatal&&(t.continue=!1),t.code??(t.code="custom"),t.input??(t.input=i.value),t.inst??(t.inst=e),t.continue??(t.continue=!e._zod.def.abort),i.issues.push(tr(t)))},t(i.value,i)));return e}(e)),t.overwrite=e=>t.check(ek(e)),t.optional=()=>ij(t),t.nullable=()=>i$(t),t.nullish=()=>ij(i$(t)),t.nonoptional=e=>new iW({type:"nonoptional",innerType:t,...q(e)}),t.array=()=>iE(t),t.or=e=>iB([t,e]),t.and=e=>new iF({type:"intersection",left:t,right:e}),t.transform=e=>iK(t,new iz({type:"transform",transform:e})),t.default=e=>{var i,r;return i=t,r=e,new iZ({type:"default",innerType:i,get defaultValue(){return"function"==typeof r?r():r}})},t.prefault=e=>{var i,r;return i=t,r=e,new iY({type:"prefault",innerType:i,get defaultValue(){return"function"==typeof r?r():r}})},t.catch=e=>{var i;return new iG({type:"catch",innerType:t,catchValue:"function"==typeof(i=e)?i:()=>i})},t.pipe=e=>iK(t,e),t.readonly=()=>new iq({type:"readonly",innerType:t}),t.describe=e=>{let i=t.clone();return eD.add(i,{description:e}),i},Object.defineProperty(t,"description",{get:()=>eD.get(t)?.description,configurable:!0}),t.meta=(...e)=>{if(0===e.length)return eD.get(t);let i=t.clone();return eD.add(i,e[0]),i},t.isOptional=()=>t.safeParse(void 0).success,t.isNullable=()=>t.safeParse(null).success,t)),eq=r("_ZodString",(t,e)=>{tR.init(t,e),eK.init(t,e);let i=t._zod.bag;t.format=i.format??null,t.minLength=i.minimum??null,t.maxLength=i.maximum??null,t.regex=(...e)=>t.check(function(t,e){return new tf({check:"string_format",format:"regex",...q(e),pattern:t})}(...e)),t.includes=(...e)=>t.check(function(t,e){return new tm({check:"string_format",format:"includes",...q(e),includes:t})}(...e)),t.startsWith=(...e)=>t.check(function(t,e){return new tg({check:"string_format",format:"starts_with",...q(e),prefix:t})}(...e)),t.endsWith=(...e)=>t.check(function(t,e){return new t_({check:"string_format",format:"ends_with",...q(e),suffix:t})}(...e)),t.min=(...e)=>t.check(eM(...e)),t.max=(...e)=>t.check(eL(...e)),t.length=(...e)=>t.check(eU(...e)),t.nonempty=(...e)=>t.check(eM(1,...e)),t.lowercase=e=>t.check(new ty({check:"string_format",format:"lowercase",...q(e)})),t.uppercase=e=>t.check(new tb({check:"string_format",format:"uppercase",...q(e)})),t.trim=()=>t.check(ek(t=>t.trim())),t.normalize=(...e)=>t.check(function(t){return ek(e=>e.normalize(t))}(...e)),t.toLowerCase=()=>t.check(ek(t=>t.toLowerCase())),t.toUpperCase=()=>t.check(ek(t=>t.toUpperCase()))}),eJ=r("ZodString",(t,e)=>{tR.init(t,e),eq.init(t,e),t.email=e=>t.check(new e0({type:"string",format:"email",check:"string_format",abort:!1,...q(e)})),t.url=e=>t.check(new e3({type:"string",format:"url",check:"string_format",abort:!1,...q(e)})),t.jwt=e=>t.check(new iu({type:"string",format:"jwt",check:"string_format",abort:!1,...q(e)})),t.emoji=e=>t.check(new e4({type:"string",format:"emoji",check:"string_format",abort:!1,...q(e)})),t.guid=e=>t.check(eB(e1,e)),t.uuid=e=>t.check(new e2({type:"string",format:"uuid",check:"string_format",abort:!1,...q(e)})),t.uuidv4=e=>t.check(new e2({type:"string",format:"uuid",check:"string_format",abort:!1,version:"v4",...q(e)})),t.uuidv6=e=>t.check(new e2({type:"string",format:"uuid",check:"string_format",abort:!1,version:"v6",...q(e)})),t.uuidv7=e=>t.check(new e2({type:"string",format:"uuid",check:"string_format",abort:!1,version:"v7",...q(e)})),t.nanoid=e=>t.check(new e6({type:"string",format:"nanoid",check:"string_format",abort:!1,...q(e)})),t.guid=e=>t.check(eB(e1,e)),t.cuid=e=>t.check(new e8({type:"string",format:"cuid",check:"string_format",abort:!1,...q(e)})),t.cuid2=e=>t.check(new e5({type:"string",format:"cuid2",check:"string_format",abort:!1,...q(e)})),t.ulid=e=>t.check(new e9({type:"string",format:"ulid",check:"string_format",abort:!1,...q(e)})),t.base64=e=>t.check(new io({type:"string",format:"base64",check:"string_format",abort:!1,...q(e)})),t.base64url=e=>t.check(new ia({type:"string",format:"base64url",check:"string_format",abort:!1,...q(e)})),t.xid=e=>t.check(new e7({type:"string",format:"xid",check:"string_format",abort:!1,...q(e)})),t.ksuid=e=>t.check(new it({type:"string",format:"ksuid",check:"string_format",abort:!1,...q(e)})),t.ipv4=e=>t.check(new ie({type:"string",format:"ipv4",check:"string_format",abort:!1,...q(e)})),t.ipv6=e=>t.check(new ii({type:"string",format:"ipv6",check:"string_format",abort:!1,...q(e)})),t.cidrv4=e=>t.check(new ir({type:"string",format:"cidrv4",check:"string_format",abort:!1,...q(e)})),t.cidrv6=e=>t.check(new is({type:"string",format:"cidrv6",check:"string_format",abort:!1,...q(e)})),t.e164=e=>t.check(new il({type:"string",format:"e164",check:"string_format",abort:!1,...q(e)})),t.datetime=e=>t.check(new ez({type:"string",format:"datetime",check:"string_format",offset:!1,local:!1,precision:null,...q(e)})),t.date=e=>t.check(new eC({type:"string",format:"date",check:"string_format",...q(e)})),t.time=e=>t.check(new ej({type:"string",format:"time",check:"string_format",precision:null,...q(e)})),t.duration=e=>t.check(new eV({type:"string",format:"duration",check:"string_format",...q(e)}))});function eQ(t){return new eJ({type:"string",...q(t)})}let eX=r("ZodStringFormat",(t,e)=>{tF.init(t,e),eq.init(t,e)}),e0=r("ZodEmail",(t,e)=>{tL.init(t,e),eX.init(t,e)}),e1=r("ZodGUID",(t,e)=>{tx.init(t,e),eX.init(t,e)}),e2=r("ZodUUID",(t,e)=>{tP.init(t,e),eX.init(t,e)}),e3=r("ZodURL",(t,e)=>{tM.init(t,e),eX.init(t,e)}),e4=r("ZodEmoji",(t,e)=>{tU.init(t,e),eX.init(t,e)}),e6=r("ZodNanoID",(t,e)=>{tk.init(t,e),eX.init(t,e)}),e8=r("ZodCUID",(t,e)=>{tz.init(t,e),eX.init(t,e)}),e5=r("ZodCUID2",(t,e)=>{tC.init(t,e),eX.init(t,e)}),e9=r("ZodULID",(t,e)=>{tj.init(t,e),eX.init(t,e)}),e7=r("ZodXID",(t,e)=>{tV.init(t,e),eX.init(t,e)}),it=r("ZodKSUID",(t,e)=>{t$.init(t,e),eX.init(t,e)}),ie=r("ZodIPv4",(t,e)=>{tH.init(t,e),eX.init(t,e)}),ii=r("ZodIPv6",(t,e)=>{tK.init(t,e),eX.init(t,e)}),ir=r("ZodCIDRv4",(t,e)=>{tq.init(t,e),eX.init(t,e)}),is=r("ZodCIDRv6",(t,e)=>{tJ.init(t,e),eX.init(t,e)}),io=r("ZodBase64",(t,e)=>{tX.init(t,e),eX.init(t,e)}),ia=r("ZodBase64URL",(t,e)=>{t0.init(t,e),eX.init(t,e)}),il=r("ZodE164",(t,e)=>{t1.init(t,e),eX.init(t,e)}),iu=r("ZodJWT",(t,e)=>{t2.init(t,e),eX.init(t,e)}),ic=r("ZodNumber",(t,e)=>{t3.init(t,e),eK.init(t,e),t.gt=(e,i)=>t.check(eF(e,i)),t.gte=(e,i)=>t.check(ex(e,i)),t.min=(e,i)=>t.check(ex(e,i)),t.lt=(e,i)=>t.check(eN(e,i)),t.lte=(e,i)=>t.check(eR(e,i)),t.max=(e,i)=>t.check(eR(e,i)),t.int=e=>t.check(ip(e)),t.safe=e=>t.check(ip(e)),t.positive=e=>t.check(eF(0,e)),t.nonnegative=e=>t.check(ex(0,e)),t.negative=e=>t.check(eN(0,e)),t.nonpositive=e=>t.check(eR(0,e)),t.multipleOf=(e,i)=>t.check(eP(e,i)),t.step=(e,i)=>t.check(eP(e,i)),t.finite=()=>t;let i=t._zod.bag;t.minValue=Math.max(i.minimum??Number.NEGATIVE_INFINITY,i.exclusiveMinimum??Number.NEGATIVE_INFINITY)??null,t.maxValue=Math.min(i.maximum??Number.POSITIVE_INFINITY,i.exclusiveMaximum??Number.POSITIVE_INFINITY)??null,t.isInt=(i.format??"").includes("int")||Number.isSafeInteger(i.multipleOf??.5),t.isFinite=!0,t.format=i.format??null});function id(t){return new ic({type:"number",checks:[],...q(t)})}let ih=r("ZodNumberFormat",(t,e)=>{t4.init(t,e),ic.init(t,e)});function ip(t){return new ih({type:"number",check:"number_format",abort:!1,format:"safeint",...q(t)})}let iy=r("ZodBoolean",(t,e)=>{t6.init(t,e),eK.init(t,e)});function ib(t){return new iy({type:"boolean",...q(t)})}let im=r("ZodUndefined",(t,e)=>{t8.init(t,e),eK.init(t,e)});function ig(t){return new im({type:"undefined",...q(t)})}let i_=r("ZodAny",(t,e)=>{t5.init(t,e),eK.init(t,e)});function iv(){return new i_({type:"any"})}let iw=r("ZodUnknown",(t,e)=>{t9.init(t,e),eK.init(t,e)});function iI(){return new iw({type:"unknown"})}let iS=r("ZodNever",(t,e)=>{t7.init(t,e),eK.init(t,e)}),iT=r("ZodArray",(t,e)=>{ee.init(t,e),eK.init(t,e),t.element=e.element,t.min=(e,i)=>t.check(eM(e,i)),t.nonempty=e=>t.check(eM(1,e)),t.max=(e,i)=>t.check(eL(e,i)),t.length=(e,i)=>t.check(eU(e,i)),t.unwrap=()=>t.element});function iE(t,e){return new iT({type:"array",element:t,...q(e)})}let iA=r("ZodObject",(t,e)=>{er.init(t,e),eK.init(t,e),z(t,"shape",()=>e.shape),t.keyof=()=>iM(Object.keys(t._zod.def.shape)),t.catchall=e=>t.clone({...t._zod.def,catchall:e}),t.passthrough=()=>t.clone({...t._zod.def,catchall:iI()}),t.loose=()=>t.clone({...t._zod.def,catchall:iI()}),t.strict=()=>{var e;return t.clone({...t._zod.def,catchall:new iS({type:"never",...q(void 0)})})},t.strip=()=>t.clone({...t._zod.def,catchall:void 0}),t.extend=e=>(function(t,e){if(!W(e))throw Error("Invalid input to extend: expected a plain object");let i=j(t._zod.def,{get shape(){let i={...t._zod.def.shape,...e};return C(this,"shape",i),i},checks:[]});return K(t,i)})(t,e),t.merge=e=>(function(t,e){let i=j(t._zod.def,{get shape(){let i={...t._zod.def.shape,...e._zod.def.shape};return C(this,"shape",i),i},get catchall(){return e._zod.def.catchall},checks:[]});return K(t,i)})(t,e),t.pick=e=>(function(t,e){let i=t._zod.def,r=j(t._zod.def,{get shape(){let t={};for(let r in e){if(!(r in i.shape))throw Error(`Unrecognized key: "${r}"`);e[r]&&(t[r]=i.shape[r])}return C(this,"shape",t),t},checks:[]});return K(t,r)})(t,e),t.omit=e=>(function(t,e){let i=t._zod.def,r=j(t._zod.def,{get shape(){let r={...t._zod.def.shape};for(let t in e){if(!(t in i.shape))throw Error(`Unrecognized key: "${t}"`);e[t]&&delete r[t]}return C(this,"shape",r),r},checks:[]});return K(t,r)})(t,e),t.partial=(...e)=>(function(t,e,i){let r=j(e._zod.def,{get shape(){let r=e._zod.def.shape,n={...r};if(i)for(let e in i){if(!(e in r))throw Error(`Unrecognized key: "${e}"`);i[e]&&(n[e]=t?new t({type:"optional",innerType:r[e]}):r[e])}else for(let e in r)n[e]=t?new t({type:"optional",innerType:r[e]}):r[e];return C(this,"shape",n),n},checks:[]});return K(e,r)})(iC,t,e[0]),t.required=(...e)=>(function(t,e,i){let r=j(e._zod.def,{get shape(){let r=e._zod.def.shape,n={...r};if(i)for(let e in i){if(!(e in n))throw Error(`Unrecognized key: "${e}"`);i[e]&&(n[e]=new t({type:"nonoptional",innerType:r[e]}))}else for(let e in r)n[e]=new t({type:"nonoptional",innerType:r[e]});return C(this,"shape",n),n},checks:[]});return K(e,r)})(iW,t,e[0])});function iO(t,e){return new iA({type:"object",get shape(){return C(this,"shape",{...t}),this.shape},...q(e)})}let iD=r("ZodUnion",(t,e)=>{es.init(t,e),eK.init(t,e),t.options=e.options});function iB(t,e){return new iD({type:"union",options:t,...q(e)})}let iN=r("ZodDiscriminatedUnion",(t,e)=>{iD.init(t,e),eo.init(t,e)});function iR(t,e,i){return new iN({type:"union",options:e,discriminator:t,...q(i)})}let iF=r("ZodIntersection",(t,e)=>{ea.init(t,e),eK.init(t,e)}),ix=r("ZodRecord",(t,e)=>{eu.init(t,e),eK.init(t,e),t.keyType=e.keyType,t.valueType=e.valueType});function iP(t,e,i){return new ix({type:"record",keyType:t,valueType:e,...q(i)})}let iL=r("ZodEnum",(t,e)=>{ec.init(t,e),eK.init(t,e),t.enum=e.entries,t.options=Object.values(e.entries);let i=new Set(Object.keys(e.entries));t.extract=(t,r)=>{let n={};for(let r of t)if(i.has(r))n[r]=e.entries[r];else throw Error(`Key ${r} not found in enum`);return new iL({...e,checks:[],...q(r),entries:n})},t.exclude=(t,r)=>{let n={...e.entries};for(let e of t)if(i.has(e))delete n[e];else throw Error(`Key ${e} not found in enum`);return new iL({...e,checks:[],...q(r),entries:n})}});function iM(t,e){return new iL({type:"enum",entries:Array.isArray(t)?Object.fromEntries(t.map(t=>[t,t])):t,...q(e)})}let iU=r("ZodLiteral",(t,e)=>{ed.init(t,e),eK.init(t,e),t.values=new Set(e.values),Object.defineProperty(t,"value",{get(){if(e.values.length>1)throw Error("This schema contains multiple valid literal values. Use `.values` instead.");return e.values[0]}})});function ik(t,e){return new iU({type:"literal",values:Array.isArray(t)?t:[t],...q(e)})}let iz=r("ZodTransform",(t,e)=>{eh.init(t,e),eK.init(t,e),t._zod.parse=(i,r)=>{i.addIssue=r=>{"string"==typeof r?i.issues.push(tr(r,i.value,e)):(r.fatal&&(r.continue=!1),r.code??(r.code="custom"),r.input??(r.input=i.value),r.inst??(r.inst=t),i.issues.push(tr(r)))};let n=e.transform(i.value,i);return n instanceof Promise?n.then(t=>(i.value=t,i)):(i.value=n,i)}}),iC=r("ZodOptional",(t,e)=>{ef.init(t,e),eK.init(t,e),t.unwrap=()=>t._zod.def.innerType});function ij(t){return new iC({type:"optional",innerType:t})}let iV=r("ZodNullable",(t,e)=>{ey.init(t,e),eK.init(t,e),t.unwrap=()=>t._zod.def.innerType});function i$(t){return new iV({type:"nullable",innerType:t})}let iZ=r("ZodDefault",(t,e)=>{eb.init(t,e),eK.init(t,e),t.unwrap=()=>t._zod.def.innerType,t.removeDefault=t.unwrap}),iY=r("ZodPrefault",(t,e)=>{eg.init(t,e),eK.init(t,e),t.unwrap=()=>t._zod.def.innerType}),iW=r("ZodNonOptional",(t,e)=>{e_.init(t,e),eK.init(t,e),t.unwrap=()=>t._zod.def.innerType}),iG=r("ZodCatch",(t,e)=>{ew.init(t,e),eK.init(t,e),t.unwrap=()=>t._zod.def.innerType,t.removeCatch=t.unwrap}),iH=r("ZodPipe",(t,e)=>{eI.init(t,e),eK.init(t,e),t.in=e.in,t.out=e.out});function iK(t,e){return new iH({type:"pipe",in:t,out:e})}let iq=r("ZodReadonly",(t,e)=>{eT.init(t,e),eK.init(t,e),t.unwrap=()=>t._zod.def.innerType}),iJ=r("ZodCustom",(t,e)=>{eA.init(t,e),eK.init(t,e)})}}]);
//# sourceMappingURL=7695.0faf48ff.js.map