"use strict";(self.webpackChunkwebsite=self.webpackChunkwebsite||[]).push([["5199"],{60378:function(e,o,t){t.r(o),t.d(o,{Builder:()=>o7,FoldMeasureId:()=>N,FoldMeasureName:()=>V,FoldMeasureValue:()=>H,ORIGINAL_DATA:()=>$,Separator:()=>j,UnfoldDimensionGroup:()=>G,UnfoldDimensionGroupId:()=>K,areaAdvancedPipeline:()=>eF,areaPercentAdvancedPipeline:()=>ez,areaPercentSpecPipeline:()=>oE,areaSpecPipeline:()=>ow,autoFormatter:()=>_,autoNumFormatter:()=>I,barAdvancedPipeline:()=>eC,barParallelAdvancedPipeline:()=>eR,barParallelSpecPipeline:()=>oX,barPercentAdvancedPipeline:()=>ev,barPercentSpecPipeline:()=>oD,barSpecPipeline:()=>oO,columnAdvancedPipeline:()=>eA,columnParallelAdvancedPipeline:()=>ek,columnParallelSpecPipeline:()=>oT,columnPercentAdvancedPipeline:()=>eS,columnPercentSpecPipeline:()=>oZ,columnSpecPipeline:()=>oL,createFormatter:()=>P,createNumFormatter:()=>z,darkTheme:()=>tf,dataReshapeFor1D1M:()=>eo,dataReshapeFor1D2M:()=>ei,dataReshapeFor2D1M:()=>Q,donutAdvancedPipeline:()=>eP,donutSpecPipeline:()=>oH,execPipeline:()=>m,findAllDimensions:()=>O,findAllMeasures:()=>L,findDimensionById:()=>T,findFirstDimension:()=>Z,findFirstMeasure:()=>W,findMeasureById:()=>M,foldMeasures:()=>q,funnelAdvancedPipeline:()=>eM,funnelSpecPipeline:()=>oK,i18n:()=>F,intl:()=>S,isPivotChart:()=>v,isPivotTable:()=>x,isTable:()=>y,isVChart:()=>R,isVTable:()=>C,lightTheme:()=>tg,lineAdvancedPipeline:()=>ex,lineSpecPipeline:()=>oW,pieAdvancedPipeline:()=>eI,pieSpecPipeline:()=>oV,pivotTableAdvancedPipeline:()=>eZ,pivotTableSpecPipeline:()=>o0,preorderTraverse:()=>B,registerAll:()=>ty,registerArea:()=>o9,registerAreaPercent:()=>te,registerBar:()=>o6,registerBarParallel:()=>tl,registerBarPercent:()=>to,registerColumn:()=>o3,registerColumnParallel:()=>ti,registerColumnPercent:()=>tt,registerCustomTheme:()=>tb,registerDarkTheme:()=>tm,registerDonut:()=>tn,registerFunnel:()=>ts,registerLightTheme:()=>th,registerLine:()=>o8,registerPie:()=>ta,registerPivotTable:()=>tc,registerRose:()=>tr,registerRoseParallel:()=>td,registerScatter:()=>tp,registerTable:()=>tu,roseAdvancedPipeline:()=>e_,roseParallelAdvancedPipeline:()=>eB,roseParallelSpecPipeline:()=>oG,roseSpecPipeline:()=>oN,scatterAdvancedPipeline:()=>eW,scatterSpecPipeline:()=>oj,tableAdvancedPipeline:()=>eO,tableSpecPipeline:()=>oQ,unfoldDimensions:()=>Y,zAdvancedVSeed:()=>iD,zAnnotation:()=>ix,zAnnotationArea:()=>iy,zAnnotationHorizontalLine:()=>im,zAnnotationPoint:()=>ib,zAnnotationVerticalLine:()=>ih,zArea:()=>i_,zAreaConfig:()=>t4,zAreaPercent:()=>iB,zAreaPercentConfig:()=>t2,zAreaStyle:()=>ic,zAxis:()=>it,zBackgroundColor:()=>tV,zBar:()=>iz,zBarConfig:()=>tQ,zBarParallel:()=>iI,zBarParallelConfig:()=>t0,zBarPercent:()=>iP,zBarPercentConfig:()=>t1,zBarStyle:()=>is,zChartType:()=>tx,zColor:()=>tH,zColumn:()=>ik,zColumnConfig:()=>tU,zColumnParallel:()=>iS,zColumnParallelConfig:()=>tq,zColumnPercent:()=>iF,zColumnPercentConfig:()=>tJ,zConfig:()=>io,zCrosshairLine:()=>tD,zCrosshairRect:()=>tw,zCustomTheme:()=>il,zCustomThemeConfig:()=>ii,zDataset:()=>tR,zDatasetReshapeInfo:()=>tW,zDatum:()=>tC,zDimension:()=>tv,zDimensionGroup:()=>tA,zDimensionTree:()=>tS,zDimensions:()=>tk,zDonut:()=>iT,zDonutConfig:()=>t6,zDualAxisConfig:()=>t8,zEncoding:()=>tL,zFoldInfo:()=>tB,zFunnel:()=>iO,zFunnelConfig:()=>ie,zLabel:()=>tN,zLegend:()=>tG,zLine:()=>iA,zLineConfig:()=>tY,zLineStyle:()=>iu,zLocale:()=>iC,zMarkStyle:()=>ig,zMeasure:()=>tz,zMeasureGroup:()=>tI,zMeasureTree:()=>t_,zMeasures:()=>tP,zNumFormat:()=>tF,zPie:()=>iL,zPieConfig:()=>t3,zPivotTable:()=>iv,zPivotTableConfig:()=>t$,zPointStyle:()=>ip,zRose:()=>iM,zRoseConfig:()=>t5,zRoseParallel:()=>iW,zRoseParallelConfig:()=>t7,zScatter:()=>iZ,zScatterConfig:()=>t9,zStackCornerRadius:()=>tE,zTable:()=>iR,zTableConfig:()=>tj,zTheme:()=>ia,zTooltip:()=>tK,zUnfoldInfo:()=>tM,zVSeed:()=>iX,zXBandAxis:()=>tT,zXLinearAxis:()=>tO,zYBandAxis:()=>tZ,zYLinearAxis:()=>tX});var i=t(12341),l=t(36922),a=t(2875),n=t(24356),r=t(84086),d=t(83361),s=t(51560),p=t(60647),u=t(83498),c=t(16304),f=t(53126),g=t(66698),b=t(24709);let h=(e,o)=>{let{vseed:t}=o,{chartType:i,locale:l}=t;return{...e,chartType:i,locale:l||"zh-CN"}},m=(e,o,t={})=>e.reduce((e,t)=>t(e,o),t),y=e=>"table"===e.chartType,x=e=>"pivotTable"===e.chartType,C=e=>["table","pivotTable"].includes(e.chartType),R=e=>!C(e),v=e=>{if(C(e))return!1;let{measures:o=[],dimensions:t=[]}=e,i=t&&t.some(e=>"rowDimension"===e.location||"columnDimension"===e.location),l=o&&o.find(e=>e&&e.children);return i||l};var A=JSON.parse('{"指标名称":{"en-US":"MeasureName","zh-CN":"指标名称"},"指标Id":{"en-US":"MeasureId","zh-CN":"指标Id"},"指标值":{"en-US":"MeasureValue","zh-CN":"指标值"}}');class k{static instance;translateMap=A;locale="zh-CN";canTranslate=e=>!!this.translateMap[e];i18n=(e,...o)=>{let t=e.map((e,t)=>e+(o[t]||"")).join(""),l=this.translateMap?.[t]?.[this.locale];return(0,i.a)(l)?(console.warn(`i18n ${this.locale} no translate: ${t}`),t):l};setLocale=e=>{this.locale=e};getLocale=()=>this.locale;static getInstance(){return k.instance||(k.instance=new k),k.instance}}let S=k.getInstance(),F=S.i18n,z=(e,o=S.getLocale())=>{let{type:t="number",ratio:i=1,symbol:a="",thousandSeparator:n=!0,prefix:r="",suffix:d="",fractionDigits:s=2,significantDigits:p,roundingMode:u="halfExpand",roundingPriority:c="auto"}=e||{},f={style:"decimal",notation:"scientific"===t?"scientific":"standard",roundingMode:u,roundingPriority:c};console.log("debug roundingMode",u),(0,l.a)(s)&&s>=0&&(f.minimumFractionDigits=s,f.maximumFractionDigits=s),(0,l.a)(p)&&p>0&&p>0&&(f.minimumSignificantDigits=p,f.maximumSignificantDigits=p);let g=new Intl.NumberFormat(o,f);return e=>{let o=Number(e),l="";if(Number.isNaN(o))return o.toString();"percent"===t?(o*=100,l="%"):"permille"===t?(o*=1e3,l="‰"):"number"===t&&(o/=i||1);let s=g.format(o);if(n){let e=s.split(".");e[0]=e[0].replace(/\B(?=(\d{3})+(?!\d))/g,","),s=e.join(".")}return`${r}${s}${l}${a}${d}`}},I=(e,o=S.getLocale())=>{if(null==e||Number.isNaN(Number(e)))return String(e);let t={style:"decimal",notation:"compact"};return t.minimumFractionDigits=0,t.maximumFractionDigits=2,new Intl.NumberFormat(o,{...t}).format(Number(e))},P=e=>z(e),_=(e,o)=>I(e,o),B=(e,o)=>{if(!e||0===e.length)return;let t=[...e].reverse();for(;t.length>0;){let e=t.pop();if(!0===o(e))return;if(!("children"in e))continue;let i=e.children;if(i&&i.length>0)for(let e=i.length-1;e>=0;e--){let o=i[e];t.push(o)}}},M=(e=[],o)=>{let t;if(e)return B(e,e=>!("children"in e)&&e.id===o&&(t=e,!0)),t},W=(e=[])=>{let o;if(e)return B(e,e=>!("children"in e)&&(o=e,!0)),o},L=(e=[])=>{if(!e)return[];let o=[];return B(e,e=>("children"in e||o.push(e),!1)),o},T=(e=[],o)=>{let t;if(e)return B(e,e=>!("children"in e)&&e.id===o&&(t=e,!0)),t},Z=(e=[])=>{let o;if(e)return B(e,e=>!("children"in e)&&(o=e,!0)),o},O=(e=[])=>{if(!e)return[];let o=[];return B(e,e=>("children"in e||o.push(e),!1)),o},X=(e,o)=>{let t={...e},{vseed:i}=o,{measures:l,dataset:a}=i;if(!a)throw Error("dataset is required");if(0===a.length)return t;if(v(i))return D(e,o);if(l)return t.measures=l,t;let n=a.slice(0,100);return t.measures=Object.keys(n.reduce((e,o)=>({...e,...o}),{})).filter(e=>n.some(o=>"number"==typeof o[e])&&!["",null,void 0].includes(e)).map(e=>({id:e,alias:e})),t},D=(e,o)=>{let{vseed:t}=o,{measures:i}=t,l=i?.some(e=>e.children);if(!i)return e;if(!l){let o=[{id:"measureGroup",alias:"measureGroup",children:i}];return{...e,measures:o}}let a=w(),n=[];for(let e of i)"children"in e?(a.children?.length&&(a.alias=a.children.map(e=>e.alias).join("-"),a.id=a.alias+a.children.map(e=>e.id).join("-"),n.push(a),a=w()),n.push(e)):a.children?.push(e);return a.children?.length&&(a.alias=a.children.map(e=>e.alias).join("-"),a.id=a.alias+a.children.map(e=>e.id).join("-"),n.push(a),a=w()),e.measures=n,e},w=()=>({id:"",alias:"",children:[]}),E=(e,o)=>{let t={...e},{vseed:i}=o,{dimensions:l,dataset:a}=i,n=L(e.measures);if(!a)throw Error("dataset is required");if(0===a.length)return t;if(l)return t.dimensions=l,t;let r=a.slice(0,100);return t.dimensions=Object.keys(r.reduce((e,o)=>({...e,...o}),{})).filter(e=>r.some(o=>"string"==typeof o[e])&&!["",null,void 0].includes(e)&&!n.some(o=>o.id===e)).map(e=>({id:e,alias:e,location:"dimension"})),t},V="__MeaName__",H="__MeaValue__",N="__MeaId__",G="__DimGroup__",K="__DimGroupID__",j="-",$="__OriginalData__",Y=(e,o,t,i=0,l=G,n=K,r=N,d=j)=>{if(i<0||i>=o.length)throw Error("unfoldStartIndex is out of range");let s=o.slice(i),p={groupName:l,groupId:n,colorItems:[],colorIdMap:{}};if(0===o.length||0===t.length)return{dataset:e,unfoldInfo:{groupName:l,groupId:n,colorItems:[],colorIdMap:{}}};let u=[],c={};for(let o=0;o<e.length;o++){let t=e[o],i=U(s,t,d),a=[i,t[r]||"id"].join(d);t[l]=i,t[n]=a,u.push(a),c[a]=i}return p.colorItems=(0,a.a)(u),p.colorIdMap=c,{dataset:e,unfoldInfo:p}},U=(e,o,t)=>e.map(e=>String(o[e.id])).join(t),q=(e,o,t=N,i=V,l=H)=>{let a={measureId:t,measureName:i,measureValue:l,foldMap:{}},r=Array(e.length*o.length),d=0,s=o.map(e=>e.id);for(let p=0;p<e.length;p++)for(let u=0;u<o.length;u++){let c=(0,n.a)({...e[p]},s);c[$]=e[p];let{id:f,alias:g}=o[u];c[f]=e[p][f],c[t]=f,c[i]=g||f,c[l]=e[p][f],a.foldMap[f]=g,r[d++]=c}return{dataset:r,foldInfo:a}},J={dataset:[],foldInfo:{foldMap:{},measureId:"",measureName:"",measureValue:""},unfoldInfo:{groupName:"",groupId:"",colorItems:[],colorIdMap:{}}},Q=(e,o,t,i)=>{let{foldMeasureId:l=N,foldMeasureName:a=V,foldMeasureValue:n=H,unfoldDimensionGroup:r=G,unfoldDimensionGroupId:d=K}=i||{};if(0===o.length&&0===t.length)return J;let{dataset:s,foldInfo:p}=q(e,t,l,a,n);if(0===o.length){let{dataset:e,unfoldInfo:o}=Y(s,[{id:l,alias:F`指标Id`,location:"dimension"},{id:a,alias:F`指标名称`,location:"dimension"}],[{id:n,alias:F`指标值`}],1,r,d,l);return{dataset:e,foldInfo:p,unfoldInfo:o}}{let e=1===t.length,i=1===o.length,u=[...o];(!e||i)&&u.push({id:a,alias:F`指标名称`,location:"dimension"});let{dataset:c,unfoldInfo:f}=Y(s,u,[{id:n,alias:F`指标值`}],1,r,d,l);return{dataset:c,foldInfo:p,unfoldInfo:f}}},ee={dataset:[],foldInfo:{foldMap:{},measureId:"",measureName:"",measureValue:""},unfoldInfo:{groupName:"",groupId:"",colorItems:[],colorIdMap:{}}},eo=(e,o,t,i)=>{let{foldMeasureId:l=N,foldMeasureName:a=V,foldMeasureValue:n=H,unfoldDimensionGroup:r=G,unfoldDimensionGroupId:d=K}=i||{};if(0===o.length&&0===t.length)return ee;let{dataset:s,foldInfo:p}=q(e,t,l,a,n);if(0===o.length){let{dataset:e,unfoldInfo:o}=Y(s,[{id:a,alias:F`指标名称`,location:"dimension"}],[{id:n,alias:F`指标值`}],0,r,d,l);return{dataset:e,foldInfo:p,unfoldInfo:o}}{let{dataset:e,unfoldInfo:i}=Y(s,1===t.length?[...o]:[...o,{id:a,alias:F`指标名称`,location:"dimension"}],[{id:n,alias:F`指标值`}],0,r,d,l);return{dataset:e,foldInfo:p,unfoldInfo:i}}},et={dataset:[],foldInfo:{foldMap:{},measureId:"",measureName:"",measureValue:""},unfoldInfo:{groupName:"",groupId:"",colorItems:[],colorIdMap:{}}},ei=(e,o,t,i)=>{let{foldMeasureId:l=N,foldMeasureName:a=V,foldMeasureValue:n=H,unfoldDimensionGroup:r=G,unfoldDimensionGroupId:d=K}=i||{};if(0===o.length&&0===t.length)return et;let{dataset:s,foldInfo:p}=q(e,t.length>1?t.slice(1):t,l,a,n);if(0===o.length){let{dataset:e,unfoldInfo:o}=Y(s,[{id:n,alias:F`指标值`,location:"dimension"}],[{id:n,alias:F`指标值`}],0,r,d,l);return{dataset:e,foldInfo:p,unfoldInfo:o}}{let{dataset:e,unfoldInfo:t}=Y(s,[...o],[{id:n,alias:F`指标值`}],0,r,d,l);return{dataset:e,foldInfo:p,unfoldInfo:t}}},el=(e,o)=>{let t={...e},{vseed:i}=o,{dataset:l}=i,{dimensions:a,measures:n}=e;if(!n||!a||!l)return t;if(0===n.length)throw Error("measures can not be empty");let{dataset:r,foldInfo:d,unfoldInfo:s}=Q(l,a,n);return{...t,dataset:r,datasetReshapeInfo:[{id:"2D1M",foldInfo:d,unfoldInfo:s}],dimensions:a,measures:n}},ea=(e,o)=>{let t={...e},{vseed:i}=o,{dataset:l}=i,{dimensions:a,measures:n}=e;if(!n||!a||!l)return t;if(0===n.length)throw Error("measures can not be empty");let{dataset:r,foldInfo:d,unfoldInfo:s}=eo(l,a,n);return{...t,dataset:r,datasetReshapeInfo:[{id:"1D1M",foldInfo:d,unfoldInfo:s}]}},en=(e,o)=>{let t={...e},{vseed:i}=o,{dataset:l}=i,{measures:a}=e,n=e.dimensions;if(!a||!n)return t;let r=[];a&&a.forEach(e=>{e.children&&e.children.length>0&&r.push(e)});let d=[],s=[];return r.forEach(e=>{let o=e.children;if(!o)return;let t=n.filter(e=>"dimension"===e.location),i=e.id,{dataset:a,foldInfo:r,unfoldInfo:p}=eo(l,t,o,{foldMeasureId:N,foldMeasureName:V,foldMeasureValue:H+i,unfoldDimensionGroup:G});d.push(a),s.push({id:i,foldInfo:r,unfoldInfo:p})}),{...t,dataset:d,datasetReshapeInfo:s}},er=(e,o)=>{let t={...e},{vseed:i}=o,{dataset:l}=i,{measures:a}=e,n=e.dimensions;if(!a||!n)return t;let r=[];a&&a.forEach(e=>{e.children&&e.children.length>0&&r.push(e)});let d=n.filter(e=>"dimension"===e.location),s=[],p=[];return r.forEach(e=>{let o=e.children;if(!o)return;let t=e.id,{dataset:i,foldInfo:a,unfoldInfo:n}=Q(l,d,o,{foldMeasureId:N,foldMeasureName:V,foldMeasureValue:H+t,unfoldDimensionGroup:G});s.push(i),p.push({id:t,foldInfo:a,unfoldInfo:n})}),{...t,dataset:s,datasetReshapeInfo:p}},ed=e=>{let o={...e},{datasetReshapeInfo:t,dimensions:i}=e;if(!t||!i)return o;let l=0===i.length,a=t.reduce((e,o)=>{let{foldInfo:t,unfoldInfo:a}=o,n=[l?t.measureName:i[0].id],r=[t.measureValue];return[...e,{x:n,y:r,group:[a.groupId],color:[t.measureName]}]},[]);return{...o,encoding:a}},es=e=>{let o={...e},{datasetReshapeInfo:t,dimensions:i}=e;if(!t||!i)return o;let l=0===i.length,a=t.reduce((e,o)=>{let{foldInfo:t,unfoldInfo:a}=o,n=[l?t.measureName:i[0].id],r=[t.measureValue];return[...e,{x:r,y:n,group:[a.groupId],color:[t.measureName]}]},[]);return{...o,encoding:a}},ep=e=>{let o={...e},{datasetReshapeInfo:t,dimensions:i,measures:l}=e;if(!t||!i||!l)return o;let a=1===i.length&&1===l.length,n=0===i.length,r=t.reduce((e,o)=>{let{foldInfo:t,unfoldInfo:l}=o,r=[t.measureValue],d=[n?t.measureName:i[0].id];return[...e,{angle:d,radius:r,group:[a?i[0].id:l.groupId],color:[a?i[0].id:l.groupId]}]},[]);return{...o,encoding:r}},eu=e=>{let o={...e},{datasetReshapeInfo:t,dimensions:i}=e;if(!t||!i)return o;let l=t.reduce((e,o)=>{let{foldInfo:t,unfoldInfo:i}=o,l=[t.measureValue],a=[i.groupId];return[...e,{angle:a,radius:l,group:[i.groupId],color:[i.groupId]}]},[]);return{...o,encoding:l}},ec=(e,o)=>{let{vseed:t}=o,{chartType:i}=t,l={...e},a=(0,r.a)(t,["backgroundColor","color","label","legend","tooltip","xAxis","yAxis","crosshairLine"]);return l.config={...l.config||{},[i]:{...a}},l},ef=(e,o)=>{let{vseed:t}=o,{chartType:i}=t,l={...e},a=(0,r.a)(t,["backgroundColor","color","label","legend","tooltip","xAxis","yAxis","crosshairRect","stackCornerRadius"]);return l.config={...l.config||{},[i]:{...a}},l},eg=(e,o)=>{let{vseed:t}=o,{chartType:i}=t,l={...e},a=(0,r.a)(t,["backgroundColor","color","label","legend","tooltip"]);return l.config={...l.config||{},[i]:{...a}},l},eb=(e,o)=>{let{customTheme:t,vseed:i}=o,{theme:l="light",chartType:a}=i,n={...e};if(!t||!t[l])return n;let r=t?.[l].config?.[a];if(r){let e=n.config?.[a]||{};n.config={[a]:(0,d.a)(r,(0,s.a)(e))}}let p=t?.[l]?.config?.[a];return n.customTheme={config:{[a]:p}},n},eh=(e,o)=>(t,i)=>{let{vseed:l}=i;return v(l)?m(o,i,t):m(e,i,t)},em=(e,o)=>{let{vseed:t}=o,i=(0,r.a)(t,["barStyle","pointStyle","lineStyle","areaStyle"]);return{...e,markStyle:i}},ey=(e,o)=>{let{vseed:t}=o,i=(0,r.a)(t,["annotationPoint","annotationHorizontalLine","annotationVerticalLine","annotationArea"]);return{...e,annotation:i}},ex=[h,X,E,eh([el],[er]),ed,ec,eb,em,ey],eC=[h,X,E,eh([el],[er]),es,ef,eb,em,ey],eR=[h,X,E,eh([el],[er]),es,ef,eb,em,ey],ev=[h,X,E,eh([el],[er]),es,ef,eb,em,ey],eA=[h,X,E,eh([el],[er]),ed,ef,eb,em,ey],ek=[h,X,E,eh([el],[er]),ed,ef,eb,em,ey],eS=[h,X,E,eh([el],[er]),ed,ef,eb,em,ey],eF=[h,X,E,eh([el],[er]),ed,ec,eb,em,ey],ez=[h,X,E,eh([el],[er]),ed,ec,eb,em,ey],eI=[h,X,E,eh([ea],[en]),eu,eg,eb,ey],eP=[h,X,E,eh([ea],[en]),eu,eg,eb,ey],e_=[h,X,E,eh([el],[er]),ep,eg,eb,em,ey],eB=[h,X,E,eh([el],[er]),ep,eg,eb,em,ey],eM=[h,X,E,eh([ea],[en]),e=>{let o={...e},{datasetReshapeInfo:t,dimensions:i}=e;if(!t||!i)return o;let l=t.reduce((e,o)=>{let{foldInfo:t,unfoldInfo:i}=o,l=[t.measureValue];return[...e,{size:l,group:[i.groupId],color:[i.groupId]}]},[]);return{...o,encoding:l}},eg,eb,ey],eW=[h,X,E,eh([(e,o)=>{let t={...e},{vseed:i}=o,{dataset:l}=i,{dimensions:a,measures:n}=e;if(!n||!a||!l)return t;if(0===n.length)throw Error("measures can not be empty");let{dataset:r,foldInfo:d,unfoldInfo:s}=ei(l,a,n);return{...t,dataset:r,datasetReshapeInfo:[{id:"1D2M",foldInfo:d,unfoldInfo:s}]}}],[(e,o)=>{let t={...e},{vseed:i}=o,{dataset:l}=i,{measures:a}=e,n=e.dimensions;if(!a||!n)return t;let r=[];a&&a.forEach(e=>{e.children&&e.children.length>0&&r.push(e)});let d=[],s=[];return r.forEach(e=>{let o=e.children;if(!o)return;let t=n.filter(e=>"dimension"===e.location),i=e.id,{dataset:a,foldInfo:r,unfoldInfo:p}=ei(l,t,o,{foldMeasureId:N,foldMeasureName:V,foldMeasureValue:H+i,unfoldDimensionGroup:G});d.push(a),s.push({id:i,foldInfo:r,unfoldInfo:p})}),{...t,dataset:d,datasetReshapeInfo:s}}]),e=>{let o={...e},{datasetReshapeInfo:t,measures:i}=e;if(!t||!i)return o;let l=W(i),a=t.reduce((e,o)=>{let{foldInfo:t,unfoldInfo:i}=o,a=[l?.id],n=[t.measureValue];return[...e,{x:a,y:n,group:[i.groupId],color:[i.groupId]}]},[]);return{...o,encoding:a}},ec,eb,em,ey],eL=(e,o)=>{let{vseed:t}=o,{chartType:i,locale:l}=t;return{...e,chartType:i,locale:l||"zh-CN"}},eT=(e,o)=>{let{vseed:t}=o,{dataset:i}=t;return{...e,dataset:i}},eZ=[eL,(e,o)=>{let t={...e},{vseed:i}=o,{dataset:l}=i,a=L(i.measures);if(!l)throw Error("dataset is required");if(0===l.length)return t;if(a&&a.length>0)return t.measures=L(a),t;let n=l.slice(0,100);return t.measures=Object.keys(n.reduce((e,o)=>({...e,...o}),{})).filter(e=>n.some(o=>"number"==typeof o[e])&&!["",null,void 0].includes(e)).map(e=>({id:e,alias:e})),t},(e,o)=>{let t={...e},{vseed:i}=o,{dimensions:l,dataset:a}=i,n=L(e.measures);if(!a)throw Error("dataset is required");if(0===a.length)return t;if(l&&l.length>0)return t.dimensions=O(l).map((e,o)=>"rowDimension"===e.location||"columnDimension"===e.location?e:{...e,location:o%2==0?"columnDimension":"rowDimension"}),t;let r=a.slice(0,100),d=r.reduce((e,o)=>({...e,...o}),{}),s=0;return t.dimensions=Object.keys(d).filter(e=>r.some(o=>"string"==typeof o[e])&&!["",null,void 0].includes(e)&&!n.some(o=>o.id===e)).map(e=>({id:e,alias:e,location:s++%2==0?"columnDimension":"rowDimension"})),t},eT,eb],eO=[eL,(e,o)=>{let t={...e},{vseed:i}=o,{measures:l,dataset:a}=i;if(!a)throw Error("dataset is required");if(0===a.length)return t;if(l&&l.length>0)return t.measures=l,t;let n=a.slice(0,100);return t.measures=Object.keys(n.reduce((e,o)=>({...e,...o}),{})).filter(e=>n.some(o=>"number"==typeof o[e])&&!["",null,void 0].includes(e)).map(e=>({id:e,alias:e})),t},(e,o)=>{let t={...e},{vseed:i}=o,{dimensions:l,dataset:a}=i,n=L(e.measures);if(!a)throw Error("dataset is required");if(0===a.length)return t;if(l&&l.length>0)return t.dimensions=l,t;let r=a.slice(0,100);return t.dimensions=Object.keys(r.reduce((e,o)=>({...e,...o}),{})).filter(e=>r.some(o=>"string"==typeof o[e])&&!["",null,void 0].includes(e)&&!n.some(o=>o.id===e)).map(e=>({id:e,alias:e,location:"dimension"})),t},eT,eb],eX=(e,o)=>{let{advancedVSeed:t}=o,{encoding:i}=t,l=i[0]?.angle?.[0],a=i[0]?.x?.[0],n=i[0]?.group?.[0],r={};return l&&(r[l]={sortIndex:0}),a&&(r[a]={sortIndex:0}),n&&(r[n]={sortIndex:1}),{...e,data:{values:t.dataset,fields:r}}},eD=(e,o)=>{let t={...e},{advancedVSeed:i}=o,{dataset:l,datasetReshapeInfo:a}=i,n=l.reduce((e,o,t)=>(e[a[t].id]=o,e),{});return{...t,records:n}},ew=e=>({...e,data:{id:"placeholderDataId"}}),eE=(e,o)=>{let t={...e},{advancedVSeed:i}=o,{encoding:l}=i;return l[0].y&&l[0].x&&l[0].group&&(t.type="bar",t.direction="vertical",t.xField=l[0].x[0],t.yField=l[0].y[0],t.seriesField=l[0].group[0],t.padding=0,t.region=[{clip:!0}],t.animation=!0),t},eV=(e,o)=>{let t={...e},{advancedVSeed:i}=o,{encoding:l}=i;return l[0].y&&l[0].x&&l[0].group&&(t.type="bar",t.direction="horizontal",t.yField=l[0].y?.[0],t.xField=l[0].x?.[0],t.seriesField=l[0].group?.[0],t.padding=0,t.region=[{clip:!0}],t.animation=!0),t},eH=(e,o)=>{let t={...e},{advancedVSeed:i}=o,{encoding:l,datasetReshapeInfo:a}=i,{unfoldInfo:n}=a[0];return l[0].y&&l[0].x&&l[0].group&&(t.type="bar",t.direction="horizontal",t.yField=[l[0].y[0],n.groupName],t.xField=l[0].x[0],t.seriesField=l[0].group[0],t.padding=0,t.region=[{clip:!0}],t.animation=!0),t},eN=(e,o)=>{let t={...e},{advancedVSeed:i}=o,{encoding:l}=i;return l[0].y&&l[0].x&&l[0].group&&(t.type="area",t.direction="vertical",t.xField=l[0].x[0],t.yField=l[0].y[0],t.seriesField=l[0].group[0],t.padding=0,t.region=[{clip:!0}],t.animation=!0),t},eG=(e,o)=>{let t={...e},{advancedVSeed:i}=o,{encoding:l}=i;return l[0].y&&l[0].x&&l[0].group&&(t.type="line",t.direction="vertical",t.xField=l[0].x[0],t.yField=l[0].y[0],t.seriesField=l[0].group[0],t.padding=0,t.region=[{clip:!0}],t.animation=!0),t},eK=(e,o)=>{let t={...e},{advancedVSeed:i}=o,{encoding:l,datasetReshapeInfo:a}=i,{unfoldInfo:n}=a[0];return l[0].y&&l[0].x&&l[0].group&&(t.type="bar",t.direction="vertical",t.xField=[l[0].x[0],n.groupName],t.yField=l[0].y[0],t.seriesField=l[0].group[0],t.padding=0,t.region=[{clip:!0}],t.animation=!0),t},ej=(e,o)=>{let t={...e},{advancedVSeed:i}=o,{encoding:l}=i;return l[0].angle&&l[0].radius&&l[0].group&&(t.type="pie",t.outerRadius=.8,t.innerRadius=0,t.valueField=l[0].radius[0],t.categoryField=l[0].angle[0],t.seriesField=l[0].group[0],t.padding=0,t.region=[{clip:!0}],t.pie={style:{stroke:"#ffffff",lineWidth:1,centerOffset:0},state:{hover:{centerOffset:5,outerRadius:1.1*t.outerRadius}}},t.animation=!0),t},e$=(e,o)=>{let t={...e},{advancedVSeed:i}=o,{encoding:l}=i;return l[0].angle&&l[0].radius&&l[0].group&&(t.type="pie",t.outerRadius=.8,t.innerRadius=.8*t.outerRadius,t.valueField=l[0].radius[0],t.categoryField=l[0].angle[0],t.seriesField=l[0].group[0],t.padding=0,t.region=[{clip:!0}],t.pie={style:{stroke:"#ffffff",lineWidth:1},state:{hover:{outerRadius:1.1*t.outerRadius}}},t.animation=!0),t},eY=(e,o)=>{let t={...e},{advancedVSeed:i}=o,{encoding:l,dataset:a,datasetReshapeInfo:n}=i,{foldInfo:r}=n[0];return l[0].radius&&l[0].angle&&l[0].group&&(t.type="rose",t.categoryField=l[0].angle[0],t.valueField=l[0].radius[0],t.seriesField=l[0].group[0],t.padding=0,t.outerRadius=.9,t.innerRadius=0,a.flat().find(e=>e[r.measureValue]<0)&&(t.innerRadius=.05),t.rose={style:{stroke:"#ffffff",lineWidth:1},state:{hover:{lineWidth:1,fillOpacity:.6}}},t.region=[{clip:!0}],t.animation=!0),t},eU=(e,o)=>{let t={...e},{advancedVSeed:i}=o,{encoding:l,datasetReshapeInfo:a,dataset:n}=i,{unfoldInfo:r,foldInfo:d}=a[0];return l[0].radius&&l[0].angle&&l[0].group&&(t.type="rose",t.categoryField=[l[0].angle[0],r.groupName],t.valueField=l[0].radius[0],t.seriesField=l[0].group[0],t.padding=0,t.outerRadius=.9,t.innerRadius=0,n.flat().find(e=>e[d.measureValue]<0)&&(t.innerRadius=.05),t.rose={style:{stroke:"#ffffff",lineWidth:1},state:{hover:{lineWidth:1,fillOpacity:.6}}},t.region=[{clip:!0}],t.animation=!0),t},eq=e=>({...e,animation:!0,rows:[],columns:[],indicators:[],records:[],widthMode:"adaptive",heightMode:"adaptive",indicatorsAsCol:!1}),eJ=(e,o)=>{let t={...e},{advancedVSeed:i}=o,{encoding:l}=i;return l[0].size&&l[0].group&&l[0].color&&(t.type="funnel",t.valueField=l[0].size[0],t.categoryField=l[0].group[0],t.padding=0,t.isTransform=!0,t.shape="rect",t.maxSize="75%",t.minSize="10%",t.region=[{clip:!0}],t.funnel={style:{cornerRadius:4},state:{hover:{fillOpacity:.6}}},t.transformLabel={visible:!0},t.animation=!0),t},eQ=(e,o)=>{let t={...e},{advancedVSeed:i}=o,{encoding:l}=i;return l[0].y&&l[0].x&&l[0].group&&(t.type="scatter",t.direction="vertical",t.xField=l[0].x[0],t.yField=l[0].y[0],t.seriesField=l[0].group[0],t.padding=0,t.region=[{clip:!0}],t.animation=!0),t},e0=(e,o)=>{let t={...e},{advancedVSeed:i,vseed:l}=o,{chartType:a}=l,n=i.config?.[a]?.xAxis;if(t.axes||(t.axes=[]),!n)return t.axes=[...t.axes,{visible:!0,type:"band",orient:"bottom"}],t;let{visible:r=!0,label:d,tick:s,title:p,grid:u,line:c,labelAutoHide:f,labelAutoHideGap:g,labelAutoLimit:b,labelAutoLimitLength:h,labelAutoRotate:m,labelAutoRotateAngleRange:y}=n,x={visible:r,type:"band",orient:"bottom",maxHeight:h,sampling:!(f||m||b),hover:!0,label:{visible:d?.visible,flush:!0,space:8,style:{maxLineWidth:h,fill:d?.labelColor,angle:d?.labelAngle,fontSize:d?.labelFontSize,fontWeight:d?.labelFontWeight},minGap:g,autoHide:f,autoHideMethod:"greedy",autoHideSeparation:g,autoLimit:b,autoRotate:m,autoRotateAngle:y,lastVisible:!0},title:{visible:p?.visible,text:p?.titleText,style:{fill:p?.titleColor,fontSize:p?.titleFontSize,fontWeight:p?.titleFontWeight}},tick:{visible:s?.visible,tickSize:s?.tickSize,inside:s?.tickInside,style:{stroke:s?.tickColor}},grid:{visible:u?.visible,style:{lineWidth:u?.gridWidth,stroke:u?.gridColor}},domainLine:{visible:c?.visible,style:{lineWidth:c?.lineWidth,stroke:c?.lineColor}},paddingInner:[.15,.1],paddingOuter:[.075,.1]};return t.axes=[...t.axes,x],t},e1=(e,o)=>{let t={...e},{advancedVSeed:i,vseed:l}=o,{chartType:a}=l,{locale:n}=i,r=i.config?.[a]?.xAxis;if(t.axes||(t.axes=[]),!r)return t.axes=[...t.axes,{visible:!0,type:"linear",orient:"bottom"}],t;let{visible:d=!0,label:s,tick:p,title:u,grid:c,line:f,zero:g,nice:b,inverse:h,max:m,min:y,log:x,logBase:C=10}=r,R={visible:d,type:x?"log":"linear",base:C,orient:"bottom",nice:b,zero:!x&&g,inverse:h,max:m,min:y,label:{visible:s?.visible,formatMethod:e=>_(e,n),style:{fill:s?.labelColor,angle:s?.labelAngle,fontSize:s?.labelFontSize,fontWeight:s?.labelFontWeight}},title:{visible:u?.visible,text:u?.titleText,style:{fill:u?.titleColor,fontSize:u?.titleFontSize,fontWeight:u?.titleFontWeight}},tick:{visible:p?.visible,tickSize:p?.tickSize,inside:p?.tickInside,style:{stroke:p?.tickColor}},grid:{visible:c?.visible,style:{lineWidth:c?.gridWidth,stroke:c?.gridColor}},domainLine:{visible:f?.visible,style:{lineWidth:f?.lineWidth,stroke:f?.lineColor}},innerOffset:{right:7}};return t.axes=[...t.axes,R],t},e4=(e,o)=>{let t={...e},{advancedVSeed:i,vseed:l}=o,{chartType:a}=l,n=i.config?.[a]?.yAxis;if(t.axes||(t.axes=[]),!n)return t.axes=[...t.axes,{visible:!0,type:"band",orient:"left"}],t;let{visible:r=!0,label:d,tick:s,title:p,grid:u,line:c,labelAutoHide:f,labelAutoHideGap:g,labelAutoLimit:b,labelAutoLimitLength:h,labelAutoRotate:m,labelAutoRotateAngleRange:y}=n,x={visible:r,type:"band",orient:"left",maxWidth:h,sampling:!(f||m||b),hover:!0,label:{visible:d?.visible,flush:!0,containerAlign:"left",space:8,style:{maxLineWidth:h,fill:d?.labelColor,angle:d?.labelAngle,fontSize:d?.labelFontSize,fontWeight:d?.labelFontWeight},minGap:g,autoHide:f,autoHideMethod:"greedy",autoHideSeparation:g,autoLimit:b,autoRotate:m,autoRotateAngle:y,lastVisible:!0},title:{visible:p?.visible,text:p?.titleText,style:{fill:p?.titleColor,fontSize:p?.titleFontSize,fontWeight:p?.titleFontWeight}},tick:{visible:s?.visible,tickSize:s?.tickSize,inside:s?.tickInside,style:{stroke:s?.tickColor}},grid:{visible:u?.visible,style:{lineWidth:u?.gridWidth,stroke:u?.gridColor}},domainLine:{visible:c?.visible,style:{lineWidth:c?.lineWidth,stroke:c?.lineColor}},paddingInner:[.15,.1],paddingOuter:[.075,.1]};return t.axes=[...t.axes,x],t},e2=(e,o)=>{let t={...e},{advancedVSeed:i,vseed:l}=o,{chartType:a}=l,{locale:n}=i,r=i.config?.[a]?.yAxis;if(t.axes||(t.axes=[]),!r)return t.axes=[...t.axes,{visible:!0,type:"linear",orient:"left"}],t;let{visible:d=!0,label:s,tick:p,title:u,grid:c,line:f,zero:g,nice:b,inverse:h,max:m,min:y,log:x,logBase:C=10}=r,R={visible:d,type:x?"log":"linear",base:C,orient:"left",nice:b,zero:!x&&g,inverse:h,max:m,min:y,label:{visible:s?.visible,formatMethod:e=>_(e,n),style:{fill:s?.labelColor,angle:s?.labelAngle,fontSize:s?.labelFontSize,fontWeight:s?.labelFontWeight}},title:{visible:u?.visible,text:u?.titleText,style:{fill:u?.titleColor,fontSize:u?.titleFontSize,fontWeight:u?.titleFontWeight}},tick:{visible:p?.visible,tickSize:p?.tickSize,inside:p?.tickInside,style:{stroke:p?.tickColor}},grid:{visible:c?.visible,style:{lineWidth:c?.gridWidth,stroke:c?.gridColor}},domainLine:{visible:f?.visible,style:{lineWidth:f?.lineWidth,stroke:f?.lineColor}},innerOffset:{top:7}};return t.axes=[...t.axes,R],t},e5=(e,o)=>{let t={...e},{advancedVSeed:i}=o,{dimensions:l,measures:a}=i;if(!l||!a)return e;let n=0===l.length,r=1===l.length&&1===a.length,d=!(n||r);return t.axes||(t.axes=[]),t.axes.push({orient:"radius",visible:d,zero:!0,nice:!!d,grid:{visible:d},tick:{visible:d},label:{visible:d},domainLine:{visible:d}}),t},e7=(e,o)=>{let t={...e},{advancedVSeed:i}=o,{dimensions:l,measures:a}=i;if(!l||!a)return e;let n=0===l.length,r=1===l.length&&1===a.length,d=!(n||r);return t.axes||(t.axes=[]),t.axes.push({orient:"angle",visible:d,zero:!0,nice:!!d,paddingInner:d?[.15,.1]:[0,0],paddingOuter:d?[.075,.1]:[0,0],grid:{visible:d},domainLine:{visible:d},tick:{visible:d}}),t},e3=(e,o)=>{let t={...e};return t.percent=!0,t},e6=e=>{let o={...e};return o.stackInverse=!0,o},e8=(e,o)=>{let{advancedVSeed:t,vseed:i}=o,{chartType:l}=i,a=t.config?.[l]?.stackCornerRadius;return{...e,stackCornerRadius:a}},e9=(e,o)=>{let t={...e},{advancedVSeed:i}=o,{chartType:l}=i,{backgroundColor:a}=i.config[l];return{...t,background:a}},oe=(e,o)=>{let t={...e},{advancedVSeed:i}=o,{measures:l,datasetReshapeInfo:a,chartType:n}=i,{tooltip:r}=i.config[n],{enable:d}=r,{measureId:s,measureValue:u}=a[0].foldInfo,{groupName:c}=a[0].unfoldInfo;return t.tooltip={visible:d,mark:{title:{value:e=>e&&e[c]||""},content:[{visible:!0,key:e=>e&&e[c]||"",value:e=>{if(!e)return"";let o=e[u],t=M(l,e[s]);if(!t)return String(o);let{format:i={},autoFormat:a=!0}=t;return(0,p.a)(i)?a?_(o):String(o):P(i)(o)}}]},dimension:{content:[{visible:!0,key:e=>e&&e[c]||"",value:e=>{if(!e)return"";let o=e[u],t=M(l,e[s]);if(!t)return String(o);let{format:i={},autoFormat:a=!0}=t;return(0,p.a)(i)?a?_(o):String(o):P(i)(o)}}]}},t},oo=(e,o)=>{let t={...e},{advancedVSeed:i}=o,{measures:l,datasetReshapeInfo:a,locale:n}=i,{chartType:r}=i,d=i.config[r];if(!d||!d.label)return t;let{measureId:s,measureValue:u}=a[0].foldInfo,{label:c}=d,{enable:f}=c;return t.label={visible:f,formatMethod:(e,o)=>{let t=[];return t.push((e=>{let t=M(l,o[s]);if(!t)return e;let{format:i={},autoFormat:a=!0}=t;return(0,p.a)(i)?a?_(e,n):String(e):P(i)(e)})(o[u])),t.join(" ")}},t},ot=(e,o)=>{let t={...e},{advancedVSeed:i}=o,{datasetReshapeInfo:l,chartType:a}=i,{unfoldInfo:n}=l[0],r=i.config[a];if(!r||!r.legend)return t;let{legend:d}=r,{enable:s,position:p="bottom",labelFontColor:u,labelFontSize:c=12,labelFontWeight:f,maxSize:g,border:b,shapeType:h="rectRound"}=d||{};return t.legends={type:"discrete",visible:s,maxCol:g,maxRow:g,autoPage:!0,orient:["bottom","bottomLeft","bottomRight","bl","br"].includes(p)?"bottom":["top","topLeft","topRight","tl","tr"].includes(p)?"top":["left","leftTop","leftBottom","lt","lb"].includes(p)?"left":"right",position:["topLeft","bottomLeft","leftTop","rightTop","lt","rt","tl","bl"].includes(p)?"start":["topRight","bottomRight","leftBottom","rightBottom","lb","rb","rt","br"].includes(p)?"end":"middle",data:b?e=>e.map(e=>(e.shape.outerBorder={stroke:e.shape.fill,distance:3,lineWidth:1},e)):void 0,item:{focus:!0,focusIconStyle:{size:c+2,fill:u,fontWeight:f},shape:{space:b?6:4,style:{symbolType:h,size:b?8:10}},label:{formatMethod:e=>n.colorIdMap[String(e)]??e,style:{fontSize:c,fill:u,fontWeight:f}},background:{state:{selectedHover:{fill:u,fillOpacity:.05}}}}},t},oi=(e,o)=>{let t={...e},{advancedVSeed:i}=o,{chartType:l}=i,n=i.config[l];if(!n||!n.legend)return t;let{datasetReshapeInfo:r}=i,d=(0,a.a)(r.flatMap(e=>e.unfoldInfo.colorItems)),s=r.reduce((e,o)=>({...e,...o.unfoldInfo.colorIdMap}),{}),{legend:p,color:u}=n,{colorScheme:c}=u,{enable:f,position:g="bottom",labelFontColor:b,labelFontSize:h=12,labelFontWeight:m,maxSize:y,border:x,shapeType:C="rectRound"}=p||{},R={visible:f,type:"discrete",orient:["bottom","bottomLeft","bottomRight","bl","br"].includes(g)?"bottom":["top","topLeft","topRight","tl","tr"].includes(g)?"top":["left","leftTop","leftBottom","lt","lb"].includes(g)?"left":"right",position:["topLeft","bottomLeft","leftTop","rightTop","lt","rt","tl","bl"].includes(g)?"start":["topRight","bottomRight","leftBottom","rightBottom","lb","rb","rt","br"].includes(g)?"end":"middle",maxCol:y,maxRow:y,data:d.map((e,o)=>({label:e,shape:{outerBorder:x?{stroke:c?.[o],distance:3,lineWidth:1}:void 0,fill:c?.[o]}})),item:{focus:!0,focusIconStyle:{size:h+2,fill:b,fontWeight:m},shape:{space:x?6:4,style:{symbolType:C,size:x?8:10}},label:{formatMethod:e=>s[String(e)]??e,style:{fontSize:h,fill:b,fontWeight:m}},background:{state:{selectedHover:{fill:b,fillOpacity:.05}}}}};return{...t,legends:R}},ol=(e,o)=>{let t={...e},{advancedVSeed:i}=o,{datasetReshapeInfo:l,chartType:a}=i,{unfoldInfo:n}=l[0],r=i.config[a];if(!r||!r.color)return t;let{color:d}=r,{colorScheme:s,colorMapping:p}=d,u=[];return p&&Object.entries(p).sort((e,o)=>e[0].split(j).length-o[0].split(j).length).forEach(([e,o])=>{for(let[t]of Object.entries(n.colorIdMap).filter(([o,t])=>t.includes(e)))u.push([t,o])}),t.color={type:"ordinal",domain:n.colorItems,range:s,specified:Object.fromEntries(u)},t},oa=(e,o)=>(t,i)=>{let{vseed:l}=i;return v(l)?m(o,i,t):m(e,i,t)},on=e=>(o,t)=>{let i={...o},{advancedVSeed:l}=t,{measures:n,datasetReshapeInfo:r,encoding:d}=l,s=(0,a.a)(r.flatMap(e=>e.unfoldInfo.colorItems)),p=r.map((o,i)=>{let a=n?.find(e=>e.id===o.id),r=[d[i]],p=[{...o,unfoldInfo:{...o.unfoldInfo,colorItems:s}}],u=m(e,{...t,advancedVSeed:{...l,datasetReshapeInfo:p,encoding:r}},{});return{indicatorKey:o.id,title:a?.alias,cellType:"chart",chartModule:"vchart",chartSpec:u,style:{padding:[1,1,0,1]}}});return{...i,indicators:p}},or=e=>({...e,indicatorsAsCol:!1}),od=e=>({...e,indicatorsAsCol:!0}),os=e=>{let o={...e},t="rgba(0,0,0,0)",i="rgba(178,186,207, 0.2)";return{...o,theme:{underlayBackgroundColor:t,bodyStyle:{borderColor:"rgba(0,4,20,0.2)",borderLineWidth:[0,0,2,0],bgColor:t,padding:[0,0,1,0],hover:{cellBgColor:"transparent"}},headerStyle:{borderColor:"rgba(0,4,20,0.2)",fontSize:12,color:"#333333",textAlign:"center",borderLineWidth:0,bgColor:t,hover:{cellBgColor:i}},rowHeaderStyle:{borderColor:"rgba(0,4,20,0.2)",fontSize:12,color:"#333333",borderLineWidth:0,bgColor:t,hover:{cellBgColor:i}},cornerHeaderStyle:{borderColor:"rgba(0,4,20,0.2)",textAlign:"center",fontSize:12,color:"#333333",fontWeight:"bold",borderLineWidth:[0,0,0,0],bgColor:t,hover:{cellBgColor:i}},cornerRightTopCellStyle:{borderColor:"rgba(0,4,20,0.2)",borderLineWidth:0,bgColor:t,hover:{cellBgColor:i}},cornerLeftBottomCellStyle:{borderColor:"rgba(0,4,20,0.2)",borderLineWidth:0,bgColor:t,hover:{cellBgColor:i}},cornerRightBottomCellStyle:{borderColor:"rgba(0,4,20,0.2)",borderLineWidth:0,bgColor:t,hover:{cellBgColor:i}},rightFrozenStyle:{borderColor:"rgba(0,4,20,0.2)",borderLineWidth:0,bgColor:t,hover:{cellBgColor:i}},bottomFrozenStyle:{borderColor:"rgba(0,4,20,0.2)",borderLineWidth:0,bgColor:t,hover:{cellBgColor:i}},selectionStyle:{cellBgColor:"",cellBorderColor:""},frameStyle:{borderLineWidth:0,bgColor:t}}}},op=(e,o)=>{let t={...e},{advancedVSeed:i}=o,l=i.dimensions;if(!l)return t;let a=l.filter(e=>"columnDimension"===e.location).map(e=>({dimensionKey:e.id,title:e.alias||e.id}));return{...t,columns:a}},ou=(e,o)=>{let t={...e},{advancedVSeed:i}=o,l=i.dimensions;if(!l)return t;let a=l.filter(e=>"rowDimension"===e.location).map(e=>({dimensionKey:e.id,title:e.alias||e.id}));return{...t,rows:a}},oc=(e,o)=>{if(!o)return!0;let t=Object.keys(e).filter(e=>e.toLocaleLowerCase().startsWith("__vchart")),i=(0,n.a)(e,t);for(let e of Array.isArray(o)?o:[o])if(of(e)){if(Object.values(i).find(o=>o===e))return!0}else if(ob(e)){let o=e.operator||e.op,t=Array.isArray(e.value)?e.value:[e.value];switch(o){case"=":case"==":if(i[e.field]===t[0])return!0;break;case"!=":if(i[e.field]!==t[0])return!0;break;case">":if(i[e.field]>t[0])return!0;break;case"<":if(i[e.field]<t[0])return!0;break;case">=":if(i[e.field]>=t[0])return!0;break;case"<=":if(i[e.field]<=t[0])return!0;break;case"between":if(Array.isArray(e.value)&&i[e.field]>=t[0]&&i[e.field]<=t[1])return!0}}else if(oh(e)){let o=e.operator||e.op,t=Array.isArray(e.value)?e.value:[e.value];switch(o){case"in":if(t.includes(i[e.field]))return!0;break;case"not in":if(!t.includes(i[e.field]))return!0}}else if(og(e)&&Object.keys(e).every(o=>i[o]===e[o]))return!0;return!1},of=e=>"string"==typeof e||"number"==typeof e,og=e=>"object"==typeof e&&null!==e,ob=e=>"object"==typeof e&&null!==e&&"field"in e&&("operator"in e||"op"in e)&&"value"in e&&(["=","==","!=",">","<",">=","<=","between"].includes(e.operator)||["=","==","!=",">","<",">=","<=","between"].includes(e.op)),oh=e=>"object"==typeof e&&null!==e&&"field"in e&&("operator"in e||"op"in e)&&"value"in e&&(["in","not in"].includes(e.operator)||["in","not in"].includes(e.op)),om=(e,o)=>{let{advancedVSeed:t}=o,{markStyle:i}=t,{barStyle:l}=i,a={...e,bar:{style:{stroke:"#fff",lineWidth:1},state:{hover:{fillOpacity:.6}}}};if(!l)return a;let n=(Array.isArray(l)?l:[l]).reduce((e,o,t)=>{let{barBorderColor:i,barBorderStyle:l,barBorderWidth:a,barColor:n,barColorOpacity:r,barRadius:d}=o;return{...e,[`custom${t+1}`]:{level:t+1,filter:e=>!!oc(e,o.selector),style:{fill:n,fillOpacity:r,stroke:i,lineWidth:a,lineDash:"dashed"===l?[5,2]:"dotted"===l?[2,5]:[0,0],cornerRadius:d}}}},{});return{...a,bar:{state:{...n}}}},oy=(e,o)=>{let{advancedVSeed:t}=o,{markStyle:i}=t,{pointStyle:l}=i,a={...e};if(!l)return a;let n=(Array.isArray(l)?l:[l]).reduce((e,o,t)=>{let{pointBorderColor:i,pointBorderStyle:l,pointBorderWidth:a,pointColor:n,pointColorOpacity:r,pointSize:d}=o;return{...e,[`custom${t+1}`]:{level:t+1,filter:e=>!!oc(e,o.selector),style:{size:d,fill:n,fillOpacity:r,stroke:i,lineWidth:a,lineDash:"dashed"===l?[5,2]:"dotted"===l?[2,5]:[0,0]}}}},{});return{...a,point:{state:{...n}}}},ox=e=>{let o=e.point||{};return{...e,point:{...o,state:{...o.state||{},dimension_hover:{scaleX:1.4,scaleY:1.4}}}}},oC=(e,o)=>{let t=e.point||{},{advancedVSeed:i}=o,{encoding:l}=i;return{...e,point:{...t,state:{...t.state||{},hover:{scaleX:1.4,scaleY:1.4,stroke:(e,o)=>{let t=l[0]?.group?.[0];return o.seriesColor(e[t])},fillOpacity:.6,lineWidth:1}}}}},oR=(e,o)=>{let{advancedVSeed:t}=o,{markStyle:i,encoding:l,dataset:a}=t,{lineStyle:n}=i;if(!n)return e;let r={...e},d=Array.isArray(n)?n:[n],s=l[0]?.group?.[0],p=(0,u.a)(a,e=>e[s??""]),c=d.reduce((e,o,t)=>{let{lineColor:i,lineColorOpacity:l,lineSmooth:a,lineStyle:n,lineWidth:r}=o,d=(r??2)*2,u=r??2;return{...e,[`custom${t+1}`]:{level:t+1,filter:e=>{for(let t of p[e[s??""]])if(oc(t,o.selector))return!0;return!1},style:{curveType:a?"monotone":"linear",strokeOpacity:l,stroke:i,lineWidth:r,lineDash:"dashed"===n?[d,d]:"dotted"===n?[u/2,2*u]:[0,0]}}}},{});return{...r,line:{state:{...c}}}},ov=(e,o)=>{let{advancedVSeed:t}=o,{markStyle:i,encoding:l,dataset:a}=t,{areaStyle:n}=i;if(!n)return e;let r={...e},d=Array.isArray(n)?n:[n],s=l[0]?.group?.[0],p=(0,u.a)(a,e=>e[s??""]),c=d.reduce((e,o,t)=>{let{areaColor:i,areaColorOpacity:l}=o;return{...e,[`custom${t+1}`]:{level:t+1,filter:e=>{for(let t of p[e[s??""]])if(oc(t,o.selector))return!0;return!1},style:{fill:i,fillOpacity:l}}}},{});return{...r,area:{state:{...c}}}},oA=(e,o)=>Object.entries(e).every(([e,t])=>"string"!=typeof t&&"number"!=typeof t||o[e]===t),ok=(e,o)=>{let{advancedVSeed:t}=o,{annotation:i}=t;if(!i||!i.annotationPoint)return e;let{annotationPoint:l}=i,a=(Array.isArray(l)?l:[l]).flatMap(e=>{let{selector:o,text:i="",textColor:l="#ffffff",textFontSize:a=12,textFontWeight:n=400,textAlign:r="center",textBaseline:d="middle",backgroundBorderColor:s,backgroundBorderRadius:p=4,backgroundBorderWidth:u=1,backgroundColor:c="#212121",backgroundPadding:f=2,backgroundVisible:g=!0,offsetX:b=0,offsetY:h=0}=e;return t.dataset.flat().filter(e=>oc(e,o)).map(e=>({zIndex:1e3,regionRelative:!0,position:(o,t)=>{let i=o.find(o=>oA(e,o));if(i){let{x:e,y:o}=t.dataToPosition(i);return{x:e,y:o}}},itemLine:{visible:!1},itemContent:{offsetY:h,offsetX:b,text:{visible:!0,text:i,style:{textAlign:r,textBaseline:d,fill:l,fontSize:a,fontWeight:n},labelBackground:{visible:g,padding:f,style:{cornerRadius:p??4,fill:c,stroke:s,strokeWidth:u}}}}}))});return{...e,markPoint:a}},oS=(e,o)=>{let{advancedVSeed:t}=o,{annotation:i,encoding:a}=t;if(!i||!i.annotationVerticalLine)return e;let{annotationVerticalLine:n}=i,r=Array.isArray(n)?n:[n],d={outsideStart:"start",outsideEnd:"end",outsideMiddle:"middle",insideStart:"insideStartTop",insideMiddle:"insideMiddleTop",insideEnd:"insideEndTop"},s=r.flatMap(e=>{let{selector:o,xValue:i,text:n="",textPosition:r="insideEnd",textColor:s="#ffffff",textFontSize:p=12,textFontWeight:u=400,textAlign:g="right",textBaseline:b="top",backgroundBorderColor:h,backgroundBorderRadius:m=4,backgroundBorderWidth:y=1,backgroundColor:x="#212121",backgroundPadding:C=2,backgroundVisible:R=!0,lineColor:v="#212121",lineStyle:A="dashed",lineVisible:k=!0,lineWidth:S=1}=e,F=t.dataset.flat(),z=e=>({x:e,zIndex:1e3,line:{visible:k,style:{stroke:v,lineStyle:A,lineWidth:S,lineDash:"dashed"===A?[5,2]:"dotted"===A?[2,5]:[0]}},label:{text:n,position:d[r],style:{visible:!0,textAlign:g,textBaseline:b,fill:s,fontSize:p,fontWeight:u},labelBackground:{visible:R,padding:C,style:{cornerRadius:m??4,fill:x,stroke:h,strokeWidth:y}}},endSymbol:{visible:!0,style:{fill:v}}});return!o&&(0,c.a)(i)||(0,f.a)(i)||(0,l.a)(i)?(Array.isArray(i)?i:[i]).map(z):F.filter(e=>oc(e,o)).map(e=>{let o=a[0]?.x?.[0];return o?z(e[o]):{}})}),p=[...e.markLine||[],...s||[]];return{...e,markLine:p}},oF=(e,o)=>{let{advancedVSeed:t}=o,{annotation:i,encoding:a}=t;if(!i||!i.annotationHorizontalLine)return e;let{annotationHorizontalLine:n}=i,r=Array.isArray(n)?n:[n],d={outsideStart:"start",outsideEnd:"end",outsideMiddle:"middle",insideStart:"insideStartTop",insideMiddle:"insideMiddleTop",insideEnd:"insideEndTop"},s=r.flatMap(e=>{let{selector:o,yValue:i,text:n="",textPosition:r="insideEnd",textColor:s="#ffffff",textFontSize:p=12,textFontWeight:u=400,textAlign:g="center",textBaseline:b="bottom",backgroundBorderColor:h,backgroundBorderRadius:m=4,backgroundBorderWidth:y=1,backgroundColor:x="#212121",backgroundPadding:C=2,backgroundVisible:R=!0,lineColor:v="#212121",lineStyle:A="dashed",lineVisible:k=!0,lineWidth:S=1}=e,F=t.dataset.flat(),z=e=>({y:e,zIndex:1e3,line:{visible:k,style:{stroke:v,lineStyle:A,lineWidth:S,lineDash:"dashed"===A?[5,2]:"dotted"===A?[2,5]:[0]}},label:{text:n,position:d[r],style:{visible:!0,textAlign:g,textBaseline:b,fill:s,fontSize:p,fontWeight:u},labelBackground:{visible:R,padding:C,style:{cornerRadius:m??4,fill:x,stroke:h,strokeWidth:y}}},endSymbol:{visible:!0,style:{fill:v}}});return!o&&(0,c.a)(i)||(0,f.a)(i)||(0,l.a)(i)?(Array.isArray(i)?i:[i]).map(z):F.filter(e=>oc(e,o)).map(e=>{let o=a[0]?.y?.[0];return o?z(e[o]):{}})}),p=[...e.markLine||[],...s||[]];return{...e,markLine:p}},oz=(e,o)=>{let{advancedVSeed:t}=o,{annotation:i}=t;if(!i||!i.annotationArea)return e;let{annotationArea:l}=i,a=Array.isArray(l)?l:[l],n={top:"insideTop",topRight:"insideTopRight",topLeft:"insideTopLeft",bottom:"insideBottom",bottomLeft:"insideBottomLeft",bottomRight:"insideBottomRight",left:"insideLeft",right:"insideRight"},r=a.flatMap(e=>{let{selector:o,text:i="",textPosition:l="top",textColor:a="#ffffff",textFontSize:r=12,textFontWeight:d=400,textAlign:s="center",textBaseline:p="top",backgroundBorderColor:u,backgroundBorderRadius:c=4,backgroundBorderWidth:f=1,backgroundColor:g="#191d24",backgroundPadding:b=10,backgroundVisible:h=!0,outerPadding:m=4,areaColor:y="#888888",areaColorOpacity:x=.15,areaBorderColor:C,areaBorderRadius:R,areaBorderWidth:v}=e,A=t.dataset.flat().filter(e=>oc(e,o));return{zIndex:1e3,regionRelative:!0,positions:(e,o)=>{let t=e.filter(e=>A.some(o=>oA(o,e))).map(e=>o.dataToPosition(e)),i=o.getYAxisHelper(),l=o.getXAxisHelper();if("function"==typeof l?.getBandwidth){let e=i.getScale(),o=Math.min(...t.map(e=>e.x))-m,l=Math.max(...t.map(e=>e.x))+m,a=Math.min(...e.range()),n=Math.max(...e.range());return[{x:o,y:a},{x:l,y:a},{x:l,y:n},{x:o,y:n}]}if("function"==typeof i?.getBandwidth){let e=l.getScale(),o=Math.min(...t.map(e=>e.y))-m,i=Math.max(...t.map(e=>e.y))+m,a=Math.min(...e.range()),n=Math.max(...e.range());return[{x:a,y:o},{x:n,y:o},{x:n,y:i},{x:a,y:i}]}return[]},label:{position:n[l],visible:!0,text:i,style:{textAlign:s,textBaseline:p,fill:a,fontSize:r,fontWeight:d},labelBackground:{visible:h,padding:b,style:{cornerRadius:c??4,fill:g,stroke:u,strokeWidth:f}}},area:{style:{visible:!0,fill:y,fillOpacity:x,stroke:C,strokeWidth:v,cornerRadius:R}}}});return{...e,markArea:r}},oI=(e,o)=>{let{advancedVSeed:t}=o,{annotation:i}=t;if(!i||!i.annotationArea)return e;let{annotationArea:l}=i,a=Array.isArray(l)?l:[l],n={top:"insideTop",topRight:"insideTopRight",topLeft:"insideTopLeft",bottom:"insideBottom",bottomLeft:"insideBottomLeft",bottomRight:"insideBottomRight",left:"insideLeft",right:"insideRight"},r=a.flatMap(e=>{let{selector:o,text:i="",textPosition:l="top",textColor:a="#ffffff",textFontSize:r=12,textFontWeight:d=400,textAlign:s="center",textBaseline:p="top",backgroundBorderColor:u,backgroundBorderRadius:c=4,backgroundBorderWidth:f=1,backgroundColor:g="#191d24",backgroundPadding:b=4,backgroundVisible:h=!0,outerPadding:m=8,areaColor:y="#888888",areaColorOpacity:x=.15,areaBorderColor:C,areaBorderRadius:R,areaBorderWidth:v}=e,A=t.dataset.flat().filter(e=>oc(e,o));return{zIndex:1e3,regionRelative:!0,positions:(e,o)=>{let t=e.filter(e=>A.some(o=>oA(o,e))).map(e=>o.dataToPosition(e)),i=o.getYAxisHelper(),l=o.getXAxisHelper();if("function"==typeof l?.getBandwidth){let e=o.fieldX.length??0,a=l?.getBandwidth?.(e-1),n=i.getScale(),r=Math.min(...t.map(e=>e.x))-m,d=Math.max(...t.map(e=>e.x))+a+m,s=Math.min(...n.range()),p=Math.max(...n.range());return[{x:r,y:s},{x:d,y:s},{x:d,y:p},{x:r,y:p}]}if("function"==typeof i?.getBandwidth){let e=o.fieldY.length??0,a=i?.getBandwidth?.(e-1),n=l.getScale(),r=Math.min(...t.map(e=>e.y))-m,d=Math.max(...t.map(e=>e.y))+a+m,s=Math.min(...n.range()),p=Math.max(...n.range());return[{x:s,y:r},{x:p,y:r},{x:p,y:d},{x:s,y:d}]}return[]},label:{position:n[l],visible:!0,text:i,style:{textAlign:s,textBaseline:p,fill:a,fontSize:r,fontWeight:d},labelBackground:{visible:h,padding:b,style:{cornerRadius:c??4,fill:g,stroke:u,strokeWidth:f}}},area:{style:{visible:!0,fill:y,fillOpacity:x,stroke:C,strokeWidth:v,cornerRadius:R}}}});return{...e,markArea:r}},oP=(e,o)=>{let t={...e},{advancedVSeed:i,vseed:l}=o,{chartType:a}=l,n=i.config?.[a]?.crosshairLine;if(!n)return t;t.crosshair||(t.crosshair={});let{visible:r=!0,lineColor:d,labelColor:s,labelVisible:p,labelBackgroundColor:u}=n;return t.crosshair.xField={visible:r,line:{type:"line",style:{lineWidth:1,opacity:1,stroke:d,lineDash:[4,2]}},label:{visible:p,labelBackground:{visible:p,style:{fill:u}},style:{fill:s}}},t},o_=(e,o)=>{let t={...e},{advancedVSeed:i,vseed:l}=o,{chartType:a}=l,n=i.config?.[a]?.crosshairRect;if(!n)return t;t.crosshair||(t.crosshair={});let{visible:r=!0,rectColor:d,labelColor:s,labelVisible:p,labelBackgroundColor:u}=n;return t.crosshair.xField={visible:r,line:{type:"rect",style:{lineWidth:0,opacity:.2,fill:d}},label:{visible:p,labelBackground:{visible:p,style:{fill:u}},style:{fill:s}}},t},oB=(e,o)=>{let t={...e},{advancedVSeed:i,vseed:l}=o,{chartType:a}=l,n=i.config?.[a]?.crosshairRect;if(!n)return t;t.crosshair||(t.crosshair={});let{visible:r=!0,rectColor:d,labelColor:s,labelVisible:p,labelBackgroundColor:u}=n;return t.crosshair.yField={visible:r,line:{type:"rect",style:{lineWidth:0,opacity:.2,fill:d}},label:{visible:p,labelBackground:{visible:p,style:{fill:u}},style:{fill:s}}},t},oM=(e,o)=>{let t={...e},{advancedVSeed:i,vseed:l}=o,{chartType:a}=l,n=i.config?.[a]?.crosshairLine;if(!n)return t;t.crosshair||(t.crosshair={});let{visible:r=!0,lineColor:d,labelColor:s,labelVisible:p,labelBackgroundColor:u}=n;return t.crosshair.yField={visible:r,line:{type:"line",style:{lineWidth:1,opacity:1,stroke:d,lineDash:[4,2]}},label:{visible:p,labelBackground:{visible:p,style:{fill:u}},style:{fill:s}}},t},oW=[oa([eG,ol,e9,eX,e0,e2,oo,oe,oP,ot,oy,ox,oR,ok,oS,oF,oz],[eq,os,or,eD,on([eG,ol,e9,ew,e0,e2,oo,oe,oP,oy,ox,oR,ok,oS,oF,oz]),ou,op,oi])],oL=[oa([eE,e8,e6,ol,e9,eX,e0,e2,oo,oe,o_,ot,om,ok,oS,oF,oI],[eq,os,or,eD,on([eE,e8,e6,ol,e9,ew,e0,e2,oo,oe,o_,om,ok,oS,oF,oI]),ou,op,oi])],oT=[oa([eK,e8,ol,e9,eX,e0,e2,oo,oe,ot,o_,om,ok,oS,oF,oI],[eq,os,or,eD,on([eK,e8,ol,e9,ew,e0,e2,oo,oe,o_,om,ok,oS,oF,oI]),ou,op,oi])],oZ=[oa([eE,e8,e6,ol,e9,e3,eX,e0,e2,oo,oe,o_,ot,om,ok,oS,oF,oI],[eq,os,or,eD,on([eE,e8,e6,ol,e3,e9,ew,e0,e2,oo,oe,o_,om,ok,oS,oF,oI]),ou,op,oi])],oO=[oa([eV,e8,ol,e9,eX,e1,e4,oo,oe,oB,ot,om,ok,oS,oF,oI],[eq,os,od,eD,on([eV,e8,ol,e9,ew,e4,oo,oo,oe,oB,om,ok,oS,oF,oI]),ou,op,oi])],oX=[oa([eH,e8,ol,e9,eX,e1,e4,oo,oe,oB,ot,om,ok,oS,oF,oI],[eq,os,od,eD,on([eH,e8,ol,e9,ew,e4,e1,oo,oe,oB,om,ok,oS,oF,oI]),ou,op,oi])],oD=[oa([eV,e8,ol,e9,e3,eX,e1,e4,oo,oe,oB,ot,om,ok,oS,oF,oI],[eq,os,od,eD,on([eV,e8,ol,e9,e3,ew,e4,e1,oo,oe,oB,om,ok,oS,oF,oI]),ou,op,oi])],ow=[oa([eN,e6,ol,e9,eX,e0,e2,oo,oe,oP,ot,oy,ox,oR,ov,ok,oS,oF,oz],[eq,os,or,eD,on([eN,ol,e9,e6,ew,e0,e2,oo,oe,oP,oy,ox,oR,ov,ok,oS,oF,oz]),ou,op,oi])],oE=[oa([eN,e6,ol,e9,e3,eX,e0,e2,oo,oe,oP,ot,oy,oR,ov,ok,oS,oF,oz],[eq,os,or,eD,on([eN,e6,ol,e9,e3,ew,e0,e2,oo,oe,oP,oy,oR,ov,ok,oS,oF,oz]),ou,op,oi])],oV=[oa([ej,ol,e9,eX,oo,oe,ot,ok,oS,oF,oz],[eq,os,or,eD,on([ej,ol,e9,ew,oo,oe,ok,oS,oF,oz]),ou,op,oi])],oH=[oa([e$,ol,e9,eX,oo,oe,ot,ok,oS,oF,oz],[eq,os,or,eD,on([e$,ol,e9,ew,oo,oe,ok,oS,oF,oz]),ou,op,oi])],oN=[oa([eY,e8,e6,ol,e9,eX,e5,e7,oo,oe,o_,ot],[eq,os,or,eD,on([eY,e8,e6,ol,e9,ew,e5,e7,oo,oe,o_]),ou,op,oi])],oG=[oa([eU,e8,ol,e9,eX,e5,e7,oo,oe,ot,o_,ok,oS,oF,oI],[eq,os,or,eD,on([eU,e8,ol,e9,ew,e5,e7,oo,oe,o_,ok,oS,oF,oI]),ou,op,oi])],oK=[oa([eJ,ol,e9,eX,oo,oe,ot,ok,oS,oF,oz],[eq,os,or,eD,on([eJ,ol,e9,ew,oo,oe,ok,oS,oF,oz]),ou,op,oi])],oj=[oa([eQ,ol,e9,eX,e1,e2,oo,oe,oP,oM,ot,oy,oC,ok,oS,oF,oz],[eq,os,or,eD,on([eQ,ol,e9,ew,e1,e2,oo,oe,oP,oM,oy,oC,ok,oS,oF,oz]),ou,op,oi])],o$=(e,o)=>e.map(e=>{if("children"in e&&Array.isArray(e.children)){let t=e.id,i=e.alias??e.id,l=o?.(e)||{};return{field:t,title:i,columns:o$(e.children,o),...l}}{let t=e.id;return{field:t,title:e.alias??e.id,...o?.(e)||{}}}})||[],oY=(e,o)=>{let t={...e},{advancedVSeed:i}=o,{customTheme:l,chartType:a}=i,n=l?.config?.[a];if(!t.theme||!n)return t;let r=n.borderColor||"rgb(224, 224, 224)",d=n.bodyBackgroundColor||"#fff",s=n.bodyFontColor||"#1B1F23",p=n.bodyFontSize||12,u=n.hoverBodyBackgroundColor||"#bedaff",c=(0,g.ZP)(u)?.copy({opacity:.1}).toString();return t.theme.bodyStyle={borderColor:r,borderLineWidth:1,padding:[8.6,12,8.6,12],textAlign:"right",hover:{cellBgColor:u,inlineRowBgColor:c,inlineColumnBgColor:c},color:s,fontSize:p,fontStyle:"normal",fontWeight:"normal",fontVariant:"normal",bgColor:d,lineHeight:1.5*p},t},oU=(e,o)=>{let t={...e},{advancedVSeed:i}=o,{customTheme:l,chartType:a}=i,n=l?.config?.[a];if(!t.theme||!n)return t;let r=n.borderColor||"rgb(224, 224, 224)",d=n.headerBackgroundColor||"#EEF1F5",s=n.headerFontColor||"#1B1F23",p=n.headerFontSize||12,u=n.hoverHeaderBackgroundColor||"#bedaff",c=n.hoverHeaderBackgroundColor;return t.theme.headerStyle={borderColor:r,borderLineWidth:1,padding:[8,12,8,12],textAlign:"center",hover:{cellBgColor:(0,g.ZP)(u)?.copy({opacity:1}).brighter(.5).toString(),inlineRowBgColor:c,inlineColumnBgColor:c},frameStyle:{borderColor:[null,null,r,null],borderLineWidth:1},fontSize:p,fontVariant:"normal",fontStyle:"normal",fontWeight:"bold",color:s,bgColor:d,lineHeight:1.5*p},t},oq=(e,o)=>{let t={...e},{advancedVSeed:i}=o,{customTheme:l,chartType:a}=i,n=l?.config?.[a];if(!t.theme||!n)return t;let r=n.borderColor||"rgb(224, 224, 224)";return t.theme.frameStyle={borderColor:r,borderLineWidth:0,cornerRadius:0},t},oJ=(e,o)=>{let t={...e},{advancedVSeed:i}=o,{customTheme:l,chartType:a}=i,n=l?.config?.[a];if(!t.theme||!n)return t;let r=n.selectedBorderColor||"rgb(224, 224, 224)";return t.theme.selectionStyle={cellBorderColor:r,cellBorderLineWidth:2,cellBgColor:(0,g.ZP)(r)?.copy({opacity:.15}).toString()},t},oQ=[(e,o)=>{let{advancedVSeed:t}=o,{dataset:i}=t;return{...e,records:i,widthMode:"standard",heightMode:"autoHeight",autoWrapText:!0,columnResizeMode:"all",showHeader:!0,tooltip:{isShowOverflowTextTooltip:!0},animationAppear:{duration:300,delay:250,type:"one-by-one",direction:"row"},theme:{underlayBackgroundColor:"transparent"}}},(e,o)=>{let{advancedVSeed:t}=o,i=t.dimensions,l={...e},a=o$(i,e=>"children"in e?{}:{width:"auto"});return{...l,columns:[...l.columns||[],...a]}},(e,o)=>{let{advancedVSeed:t}=o,i=t.measures,l={...e},a=o$(i,e=>"children"in e?{}:{width:"auto"});return{...l,columns:[...l.columns||[],...a]}},oY,oU,oq,oJ],o0=[(e,o)=>{let{advancedVSeed:t}=o,{dataset:i}=t;return{...e,records:i,widthMode:"standard",heightMode:"autoHeight",autoWrapText:!0,columnResizeMode:"all",columnResizeType:"column",showColumnHeader:!0,showRowHeader:!0,select:{highlightMode:"cell",headerSelectMode:"inline"},hover:{highlightMode:"cross"},tooltip:{isShowOverflowTextTooltip:!0},widthAdaptiveMode:"all",animationAppear:{duration:300,delay:250,type:"one-by-one",direction:"row"},theme:{underlayBackgroundColor:"transparent"}}},(e,o)=>{let{advancedVSeed:t}=o,i=t.dimensions.filter(e=>"columnDimension"===e.location);return{...e,columns:i.map(e=>({dimensionKey:e.id,title:e.alias||e.id,width:"auto"}))}},(e,o)=>{let{advancedVSeed:t}=o,i=t.dimensions.filter(e=>"rowDimension"===e.location);return{...e,rows:i.map(e=>({dimensionKey:e.id,title:e.alias||e.id,width:"auto"}))}},(e,o)=>{let{advancedVSeed:t}=o,i=t.measures;return{...e,indicatorsAsCol:!0,indicatorTitle:S.i18n`指标名称`,indicators:i.map(e=>({cellType:"text",indicatorKey:e.id,title:e.alias||e.id,width:"auto"}))}},oY,oU,(e,o)=>{let t={...e},{advancedVSeed:i}=o,{customTheme:l,chartType:a}=i,n=l?.config?.[a];if(!t.theme||!n)return t;let r=n.borderColor||"rgb(224, 224, 224)",d=n.headerBackgroundColor||"#EEF1F5",s=n.headerFontColor||"#1B1F23",p=n.headerFontSize||12,u=n.hoverHeaderBackgroundColor||"#bedaff",c=n.hoverHeaderBackgroundColor;return t.theme.rowHeaderStyle={borderColor:r,borderLineWidth:1,padding:[8.6,12,8.6,12],textAlign:"left",hover:{cellBgColor:(0,g.ZP)(u)?.copy({opacity:1}).brighter(.5).toString(),inlineRowBgColor:c,inlineColumnBgColor:c},frameStyle:{borderColor:[null,r,null,null],borderLineWidth:1},fontSize:p,fontVariant:"normal",fontStyle:"normal",fontWeight:"bold",color:s,bgColor:d,lineHeight:1.5*p},t},(e,o)=>{let t={...e},{advancedVSeed:i}=o,{customTheme:l,chartType:a}=i,n=l?.config?.[a];if(!t.theme||!n)return t;let r=n.borderColor||"rgb(224, 224, 224)",d=n.headerBackgroundColor||"#EEF1F5",s=n.headerFontColor||"#1B1F23",p=n.headerFontSize||12,u=n.hoverHeaderBackgroundColor||"#bedaff",c=n.hoverHeaderBackgroundColor;return t.theme.cornerHeaderStyle={borderColor:[r,r],borderLineWidth:1,padding:[8,12,8,12],textAlign:"left",hover:{cellBgColor:(0,g.ZP)(u)?.copy({opacity:1}).brighter(.5).toString(),inlineRowBgColor:c,inlineColumnBgColor:c},frameStyle:{borderColor:[null,r,r,null],borderLineWidth:1},fontSize:p,fontVariant:"normal",fontStyle:"normal",fontWeight:"bold",color:s,bgColor:d,lineHeight:1.5*p},t},oq,oJ],o1=e=>{let{chartType:o}=e.vseed;if(!o)throw Error("chartType is nil in buildAdvanced");let t=e.getAdvancedPipeline(o);if(!t)throw Error(`no advanced pipeline for chartType ${o}`);let i={vseed:e.vseed,customTheme:e.getThemeMap()};try{return m(t,i)}catch(e){throw console.error(e),Error("buildAdvanced error, see error info in console")}},o4=(e,o)=>{let{chartType:t}=e.vseed;if(!t)throw Error("chartType is nil in buildSpec");let i=e.getSpecPipeline(t);if(!i)throw Error(`no spec pipeline for chartType ${t}`);let l={vseed:e.vseed,advancedVSeed:o};try{return m(i,l)}catch(e){throw console.error(e),Error("buildSpec error, see error info in console")}},o2=e=>{let o=e.buildAdvanced();if(e.advancedVSeed=o,!o)throw Error("advancedVSeed is null");let t=e.buildSpec(o);return e.spec=t,t},o5=e=>{let o=e.advancedVSeed;if(!o)return[];let{datasetReshapeInfo:t}=o,i=(0,a.a)(t.flatMap(e=>e.unfoldInfo.colorItems)),l=t.reduce((e,o)=>({...e,...o.unfoldInfo.colorIdMap}),{});return i.map(e=>l[e])};class o7{_vseed;_advancedVSeed=null;_spec=null;constructor(e){this._vseed=e,this._vseed.locale=e.locale||S.getLocale()}build=()=>o2(this);buildSpec=e=>o4(this,e);buildAdvanced=()=>o1(this);getAdvancedPipeline=e=>o7._advancedPipelineMap[e];getSpecPipeline=e=>o7._specPipelineMap[e];getTheme=e=>o7._themeMap[e];getThemeMap=()=>o7._themeMap;getColorItems=()=>o5(this);get vseed(){return this._vseed}set vseed(e){this._vseed=e}get advancedVSeed(){return this._advancedVSeed}set advancedVSeed(e){this._advancedVSeed=e}get spec(){return this._spec}set spec(e){this._spec=e}static _advancedPipelineMap={};static _specPipelineMap={};static _themeMap={};static from=e=>new o7(e)}let o3=()=>{o7._advancedPipelineMap.column=eA,o7._specPipelineMap.column=oL},o6=()=>{o7._advancedPipelineMap.bar=eC,o7._specPipelineMap.bar=oO},o8=()=>{o7._advancedPipelineMap.line=ex,o7._specPipelineMap.line=oW},o9=()=>{o7._advancedPipelineMap.area=eF,o7._specPipelineMap.area=ow},te=()=>{o7._advancedPipelineMap.areaPercent=ez,o7._specPipelineMap.areaPercent=oE},to=()=>{o7._advancedPipelineMap.barPercent=ev,o7._specPipelineMap.barPercent=oD},tt=()=>{o7._advancedPipelineMap.columnPercent=eS,o7._specPipelineMap.columnPercent=oZ},ti=()=>{o7._advancedPipelineMap.columnParallel=ek,o7._specPipelineMap.columnParallel=oT},tl=()=>{o7._advancedPipelineMap.barParallel=eR,o7._specPipelineMap.barParallel=oX},ta=()=>{o7._advancedPipelineMap.pie=eI,o7._specPipelineMap.pie=oV},tn=()=>{o7._advancedPipelineMap.donut=eP,o7._specPipelineMap.donut=oH},tr=()=>{o7._advancedPipelineMap.rose=e_,o7._specPipelineMap.rose=oN},td=()=>{o7._advancedPipelineMap.roseParallel=eB,o7._specPipelineMap.roseParallel=oG},ts=()=>{o7._advancedPipelineMap.funnel=eM,o7._specPipelineMap.funnel=oK},tp=()=>{o7._advancedPipelineMap.scatter=eW,o7._specPipelineMap.scatter=oj},tu=()=>{o7._advancedPipelineMap.table=eO,o7._specPipelineMap.table=oQ},tc=()=>{o7._advancedPipelineMap.pivotTable=eZ,o7._specPipelineMap.pivotTable=o0},tf=()=>{let e={nice:!0,zero:!0,label:{visible:!0,labelAngle:0,labelColor:"#E2E3E6",labelFontSize:12,labelFontWeight:400},title:{visible:!1,titleText:"",titleColor:"#FDFDFD",titleFontSize:12,titleFontWeight:400},grid:{visible:!0,gridColor:"#404349",gridWidth:.5},tick:{visible:!1,tickInside:!1,tickSize:4,tickColor:"#4B4F54"},line:{visible:!1,lineColor:"#4B4F54",lineWidth:1}},o={labelAutoHide:!0,labelAutoHideGap:4,labelAutoLimit:!0,labelAutoLimitLength:100,labelAutoRotate:!1,labelAutoRotateAngleRange:[0,-45,-90],label:{visible:!0,labelAngle:0,labelColor:"#E2E3E6",labelFontSize:12,labelFontWeight:400},title:{visible:!1,titleText:"",titleColor:"#FDFDFD",titleFontSize:12,titleFontWeight:400},grid:{visible:!1,gridColor:"#404349",gridWidth:.5},tick:{visible:!1,tickInside:!1,tickSize:4,tickColor:"#4B4F54"},line:{visible:!0,lineColor:"#4B4F54",lineWidth:1}},t={...o,labelAutoHide:!1,labelAutoHideGap:1,labelAutoLimit:!1,labelAutoLimitLength:void 0,labelAutoRotate:!1,labelAutoRotateAngleRange:[0,-45,-90]},i={visible:!0,labelVisible:!0,lineColor:"#E2E3E6",labelColor:"#4B4F54",labelBackgroundColor:"#ffffff"},l={visible:!0,labelVisible:!0,lineColor:"#E2E3E6",labelColor:"#4B4F54",labelBackgroundColor:"#ffffff"},a={backgroundColor:"transparent",color:{colorScheme:["#2E62F1","#4DC36A","#FF8406","#FFCC00","#4F44CF","#5AC8FA","#003A8C","#B08AE2","#FF6341","#98DD62"]},label:{enable:!0},tooltip:{enable:!0},legend:{enable:!0,border:!0,maxSize:1,position:"rt",shapeType:"rectRound",labelFontColor:"#FDFDFD",labelFontSize:12,labelFontWeight:400}},n={borderColor:"#4b4e53",bodyFontSize:12,bodyFontColor:"#fdfdfd",bodyBackgroundColor:"transparent",headerFontSize:12,headerFontColor:"#fdfdfd",headerBackgroundColor:"#36393e",hoverBodyBackgroundColor:"#4284ff66",hoverHeaderBackgroundColor:"#5f5f5f88",selectedBorderColor:"#3073F2"};return{config:{table:n,pivotTable:n,line:{...a,xAxis:o,yAxis:e,crosshairLine:i},column:{...a,xAxis:o,yAxis:e,crosshairRect:l,stackCornerRadius:[4,4,0,0]},columnParallel:{...a,xAxis:o,yAxis:e,crosshairRect:l,stackCornerRadius:[4,4,0,0]},columnPercent:{...a,xAxis:o,yAxis:e,crosshairRect:l,stackCornerRadius:[4,4,0,0]},bar:{...a,xAxis:e,yAxis:t,crosshairRect:l,stackCornerRadius:[0,4,4,0]},barParallel:{...a,xAxis:e,yAxis:t,crosshairRect:l,stackCornerRadius:[0,4,4,0]},barPercent:{...a,xAxis:e,yAxis:t,crosshairRect:l,stackCornerRadius:[0,4,4,0]},area:{...a,xAxis:o,yAxis:e,crosshairLine:i},areaPercent:{...a,xAxis:o,yAxis:e,crosshairLine:i},scatter:{...a,xAxis:{...e,line:{...e.line,visible:!0}},yAxis:{...e,line:{...e.line,visible:!0}},crosshairLine:i},pie:{...a},donut:{...a},rose:{...a},roseParallel:{...a},funnel:{...a,color:{colorScheme:["#2E62F1","#3A6EF6","#4780FA","#548CFE","#6198FF","#6FA3FF","#7CACFF","#88B7FF","#94C2FF","#A0CEFF"]}}}}},tg=()=>{let e={nice:!0,zero:!0,inverse:!1,label:{visible:!0,labelAngle:0,labelColor:"#797B85",labelFontSize:12,labelFontWeight:400},title:{visible:!1,titleText:"",titleColor:"#646A73",titleFontSize:12,titleFontWeight:400},grid:{visible:!0,gridColor:"#36415926",gridWidth:.5},tick:{visible:!1,tickInside:!1,tickSize:4,tickColor:"#3641594d"},line:{visible:!1,lineColor:"#3641594d",lineWidth:1}},o={labelAutoHide:!0,labelAutoHideGap:4,labelAutoLimit:!0,labelAutoLimitLength:100,labelAutoRotate:!1,labelAutoRotateAngleRange:[0,-45,-90],label:{visible:!0,labelAngle:0,labelColor:"#797B85",labelFontSize:12,labelFontWeight:400},title:{visible:!1,titleText:"",titleColor:"#646A73",titleFontSize:12,titleFontWeight:400},grid:{visible:!1,gridColor:"#36415926",gridWidth:.5},tick:{visible:!1,tickInside:!1,tickSize:4,tickColor:"#3641594d"},line:{visible:!0,lineColor:"#3641594d",lineWidth:1}},t={...o,labelAutoHide:!1,labelAutoHideGap:1,labelAutoLimit:!1,labelAutoLimitLength:void 0,labelAutoRotate:!1,labelAutoRotateAngleRange:[0,-45,-90]},i={visible:!0,labelVisible:!0,lineColor:"#3641594d",labelColor:"#ffffff",labelBackgroundColor:"#364159"},l={visible:!0,labelVisible:!0,rectColor:"#3641594d",labelColor:"#ffffff",labelBackgroundColor:"#364159"},a={backgroundColor:"transparent",color:{colorScheme:["#8D72F6","#5766EC","#66A3FE","#51D5E6","#4EC0B3","#F9DF90","#F9AD71","#ED8888","#E9A0C3","#D77DD3"]},label:{enable:!0},tooltip:{enable:!0},legend:{enable:!0,border:!0,maxSize:1,shapeType:"rectRound",position:"rt",labelFontColor:"#646A73",labelFontSize:12,labelFontWeight:400}},n={borderColor:"#e3e5eb",bodyFontSize:12,bodyFontColor:"#141414",bodyBackgroundColor:"transparent",headerFontSize:12,headerFontColor:"#21252c",headerBackgroundColor:"#f6f7f9",hoverBodyBackgroundColor:"#bedaff",hoverHeaderBackgroundColor:"#D9DDE488",selectedBorderColor:"#4080ff"};return{config:{table:n,pivotTable:n,line:{...a,xAxis:o,yAxis:e,crosshairLine:i},column:{...a,xAxis:o,yAxis:e,crosshairRect:l,stackCornerRadius:[4,4,0,0]},columnParallel:{...a,xAxis:o,yAxis:e,crosshairRect:l,stackCornerRadius:[4,4,0,0]},columnPercent:{...a,xAxis:o,yAxis:e,crosshairRect:l,stackCornerRadius:[4,4,0,0]},bar:{...a,xAxis:e,yAxis:t,crosshairRect:l,stackCornerRadius:[0,4,4,0]},barParallel:{...a,xAxis:e,yAxis:t,crosshairRect:l,stackCornerRadius:[0,4,4,0]},barPercent:{...a,xAxis:e,yAxis:t,crosshairRect:l,stackCornerRadius:[0,4,4,0]},area:{...a,xAxis:o,yAxis:e,crosshairLine:i},areaPercent:{...a,xAxis:o,yAxis:e,crosshairLine:i},scatter:{...a,xAxis:{...e,line:{...e.line,visible:!0}},yAxis:{...e,line:{...e.line,visible:!0}},crosshairLine:i},pie:{...a},donut:{...a},rose:{...a},roseParallel:{...a},funnel:{...a,color:{colorScheme:["#5766EC","#6372F0","#7080F4","#7C8CFA","#8998FF","#95A3FF","#A0AEFF","#ACB9FF","#B7C4FF","#C2CEFF"]}}}}},tb=(e,o)=>{let t="function"==typeof o?o({lightTheme:tg(),darkTheme:tf()}):o;o7._themeMap[e]=t},th=()=>{tb("light",tg())},tm=()=>{tb("dark",tf())},ty=()=>{o8(),o3(),ti(),tt(),o6(),tl(),to(),o9(),te(),ta(),tn(),tr(),td(),ts(),tp(),tu(),tc(),th(),tm()},tx=b.Km(["table","pivotTable","line","column","columnPercent","columnParallel","bar","barPercent","barParallel","area","areaPercent","rose","roseParallel","pie","donut","dualAxis","scatter","funnel"]),tC=b.IM(b.Z_().or(b.Rx()),b.Yj()),tR=b.IX(tC),tv=b.Ry({id:b.Z_(),alias:b.Z_().optional(),location:b.Km(["dimension","rowDimension","columnDimension"]).default("dimension")}),tA=b.Ry({id:b.Z_(),alias:b.Z_().optional(),get children(){return b.IX(tA.or(tv)).optional()}}),tk=b.IX(tv),tS=b.IX(tA.or(tv)),tF=b.Ry({type:b.Km(["number","percent","permille","scientific"]).default("number").optional(),ratio:b.Rx().default(1).optional(),symbol:b.Z_().default("").optional(),thousandSeparator:b.O7().default(!1).optional(),prefix:b.Z_().default("").optional(),suffix:b.Z_().default("").optional(),fractionDigits:b.Rx().default(2).optional(),significantDigits:b.Rx().default(0).optional(),roundingPriority:b.Km(["morePrecision","lessPrecision"]).default("morePrecision").optional(),roundingMode:b.Km(["floor","ceil","halfEven","expand","trunc","halfFloor","halfCeil","halfExpand","halfTrunc"]).default("halfCeil").optional()}).optional(),tz=b.Ry({id:b.Z_(),alias:b.Z_().optional(),autoFormat:b.O7().default(!0),format:tF.default({})}),tI=b.Ry({id:b.Z_(),alias:b.Z_().optional(),get children(){return b.IX(tI.or(tz)).optional()}}),tP=b.IX(tz),t_=b.IX(tI.or(tz)),tB=b.Ry({foldMap:b.IM(b.Z_(),b.Z_().or(b.S1())),measureId:b.Z_(),measureName:b.Z_(),measureValue:b.Z_()}),tM=b.Ry({colorItems:b.IX(b.Z_()),groupId:b.Z_(),colorIdMap:b.IM(b.Z_(),b.Z_()),groupName:b.Z_()}),tW=b.IX(b.Ry({id:b.Z_(),foldInfo:tB,unfoldInfo:tM})),tL=b.IX(b.Ry({x:b.IX(b.Z_()).optional(),y:b.IX(b.Z_()).optional(),color:b.IX(b.Z_()).optional(),group:b.IX(b.Z_()).optional(),angle:b.IX(b.Z_()).optional(),radius:b.IX(b.Z_()).optional(),tooltip:b.IX(b.Z_()).optional(),size:b.IX(b.Z_()).optional()})),tT=b.Ry({visible:b.O7().default(!0).optional(),labelAutoHide:b.O7().default(!0).optional(),labelAutoHideGap:b.Rx().default(0).optional(),labelAutoRotate:b.O7().default(!0).optional(),labelAutoRotateAngleRange:b.IX(b.Rx()).default([0,-45,-90]).optional(),labelAutoLimit:b.O7().default(!0).optional(),labelAutoLimitLength:b.Rx().default(100).optional(),label:b.Ry({visible:b.O7().default(!0).optional(),labelColor:b.Z_().default("#797B85").optional(),labelFontSize:b.Rx().default(12).optional(),labelFontWeight:b.Rx().default(400).optional(),labelAngle:b.Rx().default(0).optional()}).optional(),line:b.Ry({visible:b.O7().default(!0).optional(),lineColor:b.Z_().default("rgba(54, 65, 89, 0.30)").optional(),lineWidth:b.Rx().default(1).optional()}).optional(),tick:b.Ry({visible:b.O7().default(!0).optional(),tickInside:b.O7().default(!1).optional(),tickColor:b.Z_().default("rgba(54, 65, 89, 0.30)").optional(),tickSize:b.Rx().default(4).optional()}).optional(),title:b.Ry({visible:b.O7().default(!1).optional(),titleText:b.Z_().default("").optional(),titleColor:b.Z_().default("#646A73").optional(),titleFontSize:b.Rx().default(12).optional(),titleFontWeight:b.Rx().default(400).optional()}).optional(),grid:b.Ry({visible:b.O7().default(!1).optional(),gridColor:b.Z_().default("rgba(54, 65, 89, 0.15)").optional(),gridWidth:b.Rx().default(.5).optional()}).optional()}),tZ=tT,tO=b.Ry({visible:b.O7().default(!0).optional(),min:b.Rx().optional(),max:b.Rx().optional(),nice:b.O7().default(!0).optional(),zero:b.O7().default(!0).optional(),log:b.O7().default(!1).optional(),logBase:b.Rx().default(10).optional(),inverse:b.O7().default(!1).optional(),label:b.Ry({visible:b.O7().default(!0).optional(),labelColor:b.Z_().default("#797B85").optional(),labelFontSize:b.Rx().default(12).optional(),labelFontWeight:b.Rx().default(400).optional(),labelAngle:b.Rx().default(0).optional()}).optional(),line:b.Ry({visible:b.O7().default(!0).optional(),lineColor:b.Z_().default("rgba(54, 65, 89, 0.30)").optional(),lineWidth:b.Rx().default(1).optional()}).optional(),tick:b.Ry({visible:b.O7().default(!0).optional(),tickInside:b.O7().default(!1).optional(),tickColor:b.Z_().default("rgba(54, 65, 89, 0.30)").optional(),tickSize:b.Rx().default(4).optional()}).optional(),title:b.Ry({visible:b.O7().default(!1).optional(),titleText:b.Z_().default("").optional(),titleColor:b.Z_().default("#646A73").optional(),titleFontSize:b.Rx().default(12).optional(),titleFontWeight:b.Rx().default(400).optional()}).optional(),grid:b.Ry({visible:b.O7().default(!1).optional(),gridColor:b.Z_().default("rgba(54, 65, 89, 0.15)").optional(),gridWidth:b.Rx().default(.5).optional()}).optional()}),tX=tO,tD=b.Ry({visible:b.O7().optional(),lineColor:b.Z_().optional(),labelColor:b.Z_().optional(),labelVisible:b.O7().optional(),labelBackgroundColor:b.Z_().optional()}),tw=b.Ry({visible:b.O7().optional(),rectColor:b.Z_().optional(),labelColor:b.Z_().optional(),labelVisible:b.O7().optional(),labelBackgroundColor:b.Z_().optional()}),tE=b.Rx().or(b.IX(b.Rx())).default([3,3,0,0]),tV=b.Z_().default("transparent").optional(),tH=b.Ry({colorScheme:b.IX(b.Z_()).optional(),colorMapping:b.IM(b.Z_(),b.Z_()).optional()}),tN=b.Ry({enable:b.O7().default(!0).optional()}),tG=b.Ry({enable:b.O7().default(!0).optional(),border:b.O7().default(!0).optional(),maxSize:b.Rx().default(1).optional(),shapeType:b.Km(["circle","cross","diamond","square","arrow","arrow2Left","arrow2Right","wedge","thinTriangle","triangle","triangleUp","triangleDown","triangleRight","triangleLeft","stroke","star","wye","rect","arrowLeft","arrowRight","rectRound","roundLine"]).default("rectRound").optional(),position:b.Km(["left","leftTop","leftBottom","lt","lb","top","topLeft","topRight","tl","tr","right","rightTop","rightBottom","rt","rb","bottom","bottomLeft","bottomRight","bl","br"]).default("bottom").optional(),labelFontSize:b.Rx().default(12).optional(),labelFontColor:b.Z_().default("#fff").optional(),labelFontWeight:b.Rx().or(b.Z_()).default(400).optional()}),tK=b.Ry({enable:b.O7().default(!0).optional()}),tj=b.Ry({borderColor:b.Z_().optional(),bodyFontSize:b.Rx().optional(),bodyFontColor:b.Z_().optional(),bodyBackgroundColor:b.Z_().optional(),hoverBodyBackgroundColor:b.Z_().optional(),headerFontSize:b.Rx().optional(),headerFontColor:b.Z_().optional(),headerBackgroundColor:b.Z_().optional(),hoverHeaderBackgroundColor:b.Z_().optional(),selectedBorderColor:b.Z_().optional()}),t$=tj,tY=b.Ry({backgroundColor:tV.optional(),label:tN.optional(),color:tH.optional(),tooltip:tK.optional(),legend:tG.optional(),xAxis:tT.optional(),yAxis:tX.optional(),crosshairLine:tD.optional()}),tU=b.Ry({backgroundColor:tV.optional(),label:tN.optional(),color:tH.optional(),tooltip:tK.optional(),legend:tG.optional(),xAxis:tT.optional(),yAxis:tX.optional(),crosshairRect:tw.optional(),stackCornerRadius:tE.optional()}),tq=tU,tJ=tU,tQ=b.Ry({backgroundColor:tV.optional(),label:tN.optional(),color:tH.optional(),tooltip:tK.optional(),legend:tG.optional(),xAxis:tO.optional(),yAxis:tZ.optional(),crosshairRect:tw.optional(),stackCornerRadius:tE.optional()}),t0=tQ,t1=tQ,t4=b.Ry({backgroundColor:tV.optional(),label:tN.optional(),color:tH.optional(),tooltip:tK.optional(),legend:tG.optional(),xAxis:tT.optional(),yAxis:tX.optional(),crosshairLine:tD.optional()}),t2=t4,t5=b.Ry({backgroundColor:tV.optional(),label:tN.optional(),color:tH.optional(),tooltip:tK.optional(),legend:tG.optional()}),t7=t5,t3=b.Ry({backgroundColor:tV.optional(),label:tN.optional(),color:tH.optional(),tooltip:tK.optional(),legend:tG.optional()}),t6=t3,t8=b.Ry({backgroundColor:tV.optional(),label:tN.optional(),color:tH.optional(),tooltip:tK.optional(),legend:tG.optional()}),t9=b.Ry({backgroundColor:tV.optional(),label:tN.optional(),color:tH.optional(),tooltip:tK.optional(),legend:tG.optional(),xAxis:tO.optional(),yAxis:tX.optional(),crosshairLine:tD.optional()}),ie=b.Ry({backgroundColor:tV.optional(),color:tH.optional(),tooltip:tK.optional(),label:tN.optional(),legend:tG.optional()}),io=b.Ry({table:tj.optional(),pivotTable:t$.optional(),line:tY.optional(),column:tU.optional(),columnParallel:tq.optional(),columnPercent:tJ.optional(),bar:tQ.optional(),barParallel:t0.optional(),barPercent:t1.optional(),area:t4.optional(),areaPercent:t2.optional(),rose:t5.optional(),roseParallel:t7.optional(),pie:t3.optional(),donut:t6.optional(),dualAxis:t8.optional(),scatter:t9.optional(),funnel:ie.optional()}),it=b.Ry({visible:b.O7().default(!0).optional(),min:b.Rx().optional(),max:b.Rx().optional(),nice:b.O7().default(!0).optional(),zero:b.O7().default(!0).optional(),inverse:b.O7().default(!1).optional(),log:b.O7().default(!1).optional(),logBase:b.Rx().default(10).optional(),labelAutoHide:b.O7().default(!0).optional(),labelAutoHideGap:b.Rx().default(4).optional(),labelAutoRotate:b.O7().default(!0).optional(),labelAutoRotateAngleRange:b.IX(b.Rx()).default([0,-45,-90]).optional(),labelAutoLimit:b.O7().default(!0).optional(),labelAutoLimitLength:b.Rx().default(100).optional(),label:b.Ry({visible:b.O7().default(!0).optional(),labelColor:b.Z_().default("#797B85").optional(),labelFontSize:b.Rx().default(12).optional(),labelFontWeight:b.Rx().default(400).optional(),labelAngle:b.Rx().default(0).optional()}).optional(),line:b.Ry({visible:b.O7().default(!0).optional(),lineColor:b.Z_().default("rgba(54, 65, 89, 0.30)").optional(),lineWidth:b.Rx().default(1).optional()}).optional(),tick:b.Ry({visible:b.O7().default(!0).optional(),tickInside:b.O7().default(!1).optional(),tickColor:b.Z_().default("rgba(54, 65, 89, 0.30)").optional(),tickSize:b.Rx().default(4).optional()}).optional(),title:b.Ry({visible:b.O7().default(!1).optional(),titleText:b.Z_().default("").optional(),titleColor:b.Z_().default("#646A73").optional(),titleFontSize:b.Rx().default(12).optional(),titleFontWeight:b.Rx().default(400).optional()}).optional(),grid:b.Ry({visible:b.O7().default(!1).optional(),gridColor:b.Z_().default("rgba(54, 65, 89, 0.15)").optional(),gridWidth:b.Rx().default(.5).optional()}).optional()}),ii=b.Ry({config:io.optional()}),il=b.IM(b.Z_(),ii).optional(),ia=b.Z_(),ir=b.G0([b.Z_(),b.Rx(),b.Ry({field:b.Z_(),operator:b.Km(["=","==","!=",">","<",">=","<=","between"]).optional(),op:b.Km(["=","==","!=",">","<",">=","<=","between"]).optional(),value:b.G0([b.Z_(),b.Rx(),b.IX(b.G0([b.Z_(),b.Rx()]))])}),b.Ry({field:b.Z_(),operator:b.Km(["in","not in"]).optional(),op:b.Km(["in","not in"]).optional(),value:b.G0([b.Z_(),b.Rx(),b.IX(b.G0([b.Z_(),b.Rx()]))])})]),id=b.IX(ir),is=b.Ry({selector:b.G0([ir,id]).optional(),barColor:b.Z_().optional(),barColorOpacity:b.Rx().optional(),barBorderColor:b.Z_().optional(),barBorderWidth:b.Rx().optional(),barBorderStyle:b.G0([b.i0("solid"),b.i0("dashed"),b.i0("dotted")]).optional(),barRadius:b.G0([b.Rx(),b.IX(b.Rx())]).optional()}),ip=b.Ry({selector:b.G0([ir,id]).optional(),pointSize:b.Rx().optional(),pointColor:b.Z_().optional(),pointColorOpacity:b.Rx().optional(),pointBorderColor:b.Z_().optional(),pointBorderWidth:b.Rx().optional(),pointBorderStyle:b.G0([b.Km(["solid","dashed","dotted"])]).optional()}),iu=b.Ry({selector:b.G0([ir,id]).optional(),lineSmooth:b.O7().default(!0).optional(),lineColor:b.Z_().optional(),lineColorOpacity:b.Rx().optional(),lineWidth:b.Rx().optional(),lineStyle:b.G0([b.Km(["solid","dashed","dotted"])]).optional()}),ic=b.Ry({selector:b.G0([ir,id]).optional(),areaColor:b.Z_().optional(),areaColorOpacity:b.Rx().optional()}),ig=b.Ry({barStyle:is.or(b.IX(is)).optional(),pointStyle:ip.or(b.IX(ip)).optional(),lineStyle:iu.or(b.IX(iu)).optional(),areaStyle:ic.or(b.IX(ic)).optional()}),ib=b.Ry({selector:b.G0([ir,id]),text:b.Z_().or(b.IX(b.Z_())).optional(),textColor:b.Z_().default("#ffffff").optional(),textFontSize:b.Rx().default(12).optional(),textFontWeight:b.Rx().default(400).optional(),textAlign:b.Km(["left","right","center"]).default("center").optional(),textBaseline:b.Km(["top","middle","bottom"]).default("middle").optional(),backgroundVisible:b.O7().default(!0).optional(),backgroundColor:b.Z_().default("#212121").optional(),backgroundBorderColor:b.Z_().optional(),backgroundBorderWidth:b.Rx().default(1).optional(),backgroundBorderRadius:b.Rx().default(4).optional(),backgroundPadding:b.Rx().optional(),offsetY:b.Rx().default(0).optional(),offsetX:b.Rx().default(0).optional()}),ih=b.Ry({selector:b.G0([ir,id]).optional(),xValue:b.G0([b.Rx(),b.Z_(),b.IX(b.G0([b.Rx(),b.Z_()]))]).optional(),text:b.Z_().or(b.IX(b.Z_())).optional(),textPosition:b.Km(["outsideStart","outsideEnd","outsideMiddle","insideStart","insideMiddle","insideEnd"]).default("insideEnd").optional(),textColor:b.Z_().default("#ffffff").optional(),textFontSize:b.Rx().default(12).optional(),textFontWeight:b.Rx().default(400).optional(),textAlign:b.Km(["left","right","center"]).default("right").optional(),textBaseline:b.Km(["top","middle","bottom"]).default("top").optional(),lineVisible:b.O7().optional(),lineColor:b.Z_().optional(),lineWidth:b.Rx().optional(),lineStyle:b.G0([b.i0("solid"),b.i0("dashed"),b.i0("dotted")]).optional(),backgroundVisible:b.O7().default(!0).optional(),backgroundColor:b.Z_().default("#212121").optional(),backgroundBorderColor:b.Z_().optional(),backgroundBorderWidth:b.Rx().default(1).optional(),backgroundBorderRadius:b.Rx().default(4).optional(),backgroundPadding:b.Rx().optional()}),im=b.Ry({selector:b.G0([ir,id]).optional(),yValue:b.G0([b.Rx(),b.Z_(),b.IX(b.G0([b.Rx(),b.Z_()]))]).optional(),text:b.Z_().or(b.IX(b.Z_())).optional(),textPosition:b.Km(["outsideStart","outsideEnd","outsideMiddle","insideStart","insideMiddle","insideEnd"]).default("insideMiddle").optional(),textColor:b.Z_().default("#ffffff").optional(),textFontSize:b.Rx().default(12).optional(),textFontWeight:b.Rx().default(400).optional(),textAlign:b.Km(["left","right","center"]).default("center").optional(),textBaseline:b.Km(["top","middle","bottom"]).default("bottom").optional(),lineVisible:b.O7().optional(),lineColor:b.Z_().optional(),lineWidth:b.Rx().optional(),lineStyle:b.G0([b.i0("solid"),b.i0("dashed"),b.i0("dotted")]).optional(),backgroundVisible:b.O7().default(!0).optional(),backgroundColor:b.Z_().default("#212121").optional(),backgroundBorderColor:b.Z_().optional(),backgroundBorderWidth:b.Rx().default(1).optional(),backgroundBorderRadius:b.Rx().default(4).optional(),backgroundPadding:b.Rx().optional()}),iy=b.Ry({selector:b.G0([ir,id]),textPosition:b.Km(["top","topRight","topLeft","bottom","bottomLeft","bottomRight","left","right"]).default("top").optional(),text:b.Z_().or(b.IX(b.Z_())).optional(),textColor:b.Z_().default("#ffffff").optional(),textFontSize:b.Rx().default(12).optional(),textFontWeight:b.Rx().default(400).optional(),textAlign:b.Km(["left","right","center"]).default("center").optional(),textBaseline:b.Km(["top","middle","bottom"]).default("middle").optional(),backgroundVisible:b.O7().default(!0).optional(),backgroundColor:b.Z_().default("#212121").optional(),backgroundBorderColor:b.Z_().optional(),backgroundBorderWidth:b.Rx().default(1).optional(),backgroundBorderRadius:b.Rx().default(4).optional(),backgroundPadding:b.Rx().optional(),areaColor:b.Z_().default("red").optional(),areaColorOpacity:b.Rx().default(.5).optional(),areaBorderColor:b.Rx().optional(),areaBorderWidth:b.Rx().default(2).optional(),areaBorderRadius:b.Rx().default(4).optional(),outerPadding:b.Rx().optional()}),ix=b.Ry({annotationPoint:ib.or(b.IX(ib)).optional(),annotationVerticalLine:ih.or(b.IX(ih)).optional(),annotationHorizontalLine:im.or(b.IX(im)).optional(),annotationArea:iy.or(b.IX(iy)).optional()}),iC=b.Km(["zh-CN","en-US"]).default("zh-CN"),iR=b.Ry({chartType:b.i0("table"),dataset:tR.optional(),dimensions:tk.optional(),measures:t_.optional(),backgroundColor:tV.optional(),theme:ia.optional(),locale:iC.optional()}),iv=b.Ry({chartType:b.i0("pivotTable"),dataset:tR.optional(),dimensions:tk.optional(),measures:tP.optional(),backgroundColor:tV.optional(),theme:ia.optional(),locale:iC.optional()}),iA=b.Ry({chartType:b.i0("line"),dataset:tR.optional(),dimensions:tk.optional(),measures:t_.optional(),backgroundColor:tV.optional(),color:tH.optional(),label:tN.optional(),legend:tG.optional(),tooltip:tK.optional(),xAxis:tT.optional(),yAxis:tX.optional(),crosshairLine:tD.optional(),theme:ia.optional(),pointStyle:ip.optional(),lineStyle:iu.optional(),annotationPoint:b.IX(ib).or(ib).optional(),annotationVerticalLine:b.IX(ih).or(ih).optional(),annotationHorizontalLine:b.IX(im).or(im).optional(),annotationArea:b.IX(iy).or(iy).optional(),locale:iC.optional()}),ik=b.Ry({chartType:b.i0("column"),dataset:tR.optional(),dimensions:tk.optional(),measures:t_.optional(),backgroundColor:tV.optional(),color:tH.optional(),label:tN.optional(),legend:tG.optional(),tooltip:tK.optional(),xAxis:tT.optional(),yAxis:tX.optional(),crosshairRect:tw.optional(),stackCornerRadius:tE.optional(),theme:ia.optional(),barStyle:is.optional(),annotationPoint:b.IX(ib).or(ib).optional(),annotationVerticalLine:b.IX(ih).or(ih).optional(),annotationHorizontalLine:b.IX(im).or(im).optional(),annotationArea:b.IX(iy).or(iy).optional(),locale:iC.optional()}),iS=b.Ry({chartType:b.i0("columnParallel"),dataset:tR.optional(),dimensions:tk.optional(),measures:t_.optional(),backgroundColor:tV.optional(),color:tH.optional(),label:tN.optional(),legend:tG.optional(),tooltip:tK.optional(),xAxis:tT.optional(),yAxis:tX.optional(),crosshairRect:tw.optional(),stackCornerRadius:tE.optional(),theme:ia.optional(),barStyle:is.optional(),annotationPoint:b.IX(ib).or(ib).optional(),annotationVerticalLine:b.IX(ih).or(ih).optional(),annotationHorizontalLine:b.IX(im).or(im).optional(),annotationArea:b.IX(iy).or(iy).optional(),locale:iC.optional()}),iF=b.Ry({chartType:b.i0("columnPercent"),dataset:tR.optional(),dimensions:tk.optional(),measures:t_.optional(),backgroundColor:tV.optional(),color:tH.optional(),label:tN.optional(),legend:tG.optional(),tooltip:tK.optional(),xAxis:tT.optional(),yAxis:tX.optional(),crosshairRect:tw.optional(),stackCornerRadius:tE.optional(),theme:ia.optional(),barStyle:is.optional(),annotationPoint:b.IX(ib).or(ib).optional(),annotationVerticalLine:b.IX(ih).or(ih).optional(),annotationHorizontalLine:b.IX(im).or(im).optional(),annotationArea:b.IX(iy).or(iy).optional(),locale:iC.optional()}),iz=b.Ry({chartType:b.i0("bar"),dataset:tR.optional(),dimensions:tk.optional(),measures:t_.optional(),backgroundColor:tV.optional(),color:tH.optional(),label:tN.optional(),legend:tG.optional(),tooltip:tK.optional(),xAxis:tO.optional(),yAxis:tZ.optional(),crosshairRect:tw.optional(),stackCornerRadius:tE.optional(),theme:ia.optional(),barStyle:is.optional(),annotationPoint:b.IX(ib).or(ib).optional(),annotationVerticalLine:b.IX(ih).or(ih).optional(),annotationHorizontalLine:b.IX(im).or(im).optional(),annotationArea:b.IX(iy).or(iy).optional(),locale:iC.optional()}),iI=b.Ry({chartType:b.i0("barParallel"),dataset:tR.optional(),dimensions:tk.optional(),measures:t_.optional(),backgroundColor:tV.optional(),color:tH.optional(),label:tN.optional(),legend:tG.optional(),tooltip:tK.optional(),xAxis:tO.optional(),yAxis:tZ.optional(),crosshairRect:tw.optional(),stackCornerRadius:tE.optional(),theme:ia.optional(),barStyle:is.optional(),annotationPoint:b.IX(ib).or(ib).optional(),annotationVerticalLine:b.IX(ih).or(ih).optional(),annotationHorizontalLine:b.IX(im).or(im).optional(),annotationArea:b.IX(iy).or(iy).optional(),locale:iC.optional()}),iP=b.Ry({chartType:b.i0("barPercent"),dataset:tR.optional(),dimensions:tk.optional(),measures:t_.optional(),backgroundColor:tV.optional(),color:tH.optional(),label:tN.optional(),legend:tG.optional(),tooltip:tK.optional(),xAxis:tO.optional(),yAxis:tZ.optional(),crosshairRect:tw.optional(),stackCornerRadius:tE.optional(),theme:ia.optional(),barStyle:is.optional(),annotationPoint:b.IX(ib).or(ib).optional(),annotationVerticalLine:b.IX(ih).or(ih).optional(),annotationHorizontalLine:b.IX(im).or(im).optional(),annotationArea:b.IX(iy).or(iy).optional(),locale:iC.optional()}),i_=b.Ry({chartType:b.i0("area"),dataset:tR.optional(),dimensions:tk.optional(),measures:t_.optional(),backgroundColor:tV.optional(),color:tH.optional(),label:tN.optional(),legend:tG.optional(),tooltip:tK.optional(),xAxis:tT.optional(),yAxis:tX.optional(),crosshairLine:tD.optional(),theme:ia.optional(),pointStyle:ip.optional(),lineStyle:iu.optional(),areaStyle:ic.optional(),annotationPoint:b.IX(ib).or(ib).optional(),annotationVerticalLine:b.IX(ih).or(ih).optional(),annotationHorizontalLine:b.IX(im).or(im).optional(),annotationArea:b.IX(iy).or(iy).optional(),locale:iC.optional()}),iB=b.Ry({chartType:b.i0("areaPercent"),dataset:tR.optional(),dimensions:tk.optional(),measures:t_.optional(),backgroundColor:tV.optional(),color:tH.optional(),label:tN.optional(),legend:tG.optional(),tooltip:tK.optional(),xAxis:tT.optional(),yAxis:tX.optional(),crosshairLine:tD.optional(),theme:ia.optional(),pointStyle:ip.optional(),lineStyle:iu.optional(),areaStyle:ic.optional(),annotationPoint:b.IX(ib).or(ib).optional(),annotationVerticalLine:b.IX(ih).or(ih).optional(),annotationHorizontalLine:b.IX(im).or(im).optional(),annotationArea:b.IX(iy).or(iy).optional(),locale:iC.optional()}),iM=b.Ry({chartType:b.i0("rose"),dataset:tR.optional(),dimensions:tk.optional(),measures:t_.optional(),backgroundColor:tV.optional(),color:tH.optional(),label:tN.optional(),legend:tG.optional(),tooltip:tK.optional(),theme:ia.optional(),locale:iC.optional()}),iW=b.Ry({chartType:b.i0("roseParallel"),dataset:tR.optional(),dimensions:tk.optional(),measures:t_.optional(),backgroundColor:tV.optional(),color:tH.optional(),label:tN.optional(),legend:tG.optional(),tooltip:tK.optional(),theme:ia.optional(),locale:iC.optional()}),iL=b.Ry({chartType:b.i0("pie"),dataset:tR.optional(),dimensions:tk.optional(),measures:t_.optional(),backgroundColor:tV.optional(),color:tH.optional(),label:tN.optional(),legend:tG.optional(),tooltip:tK.optional(),theme:ia.optional(),locale:iC.optional()}),iT=b.Ry({chartType:b.i0("donut"),dataset:tR.optional(),dimensions:tk.optional(),measures:t_.optional(),backgroundColor:tV.optional(),color:tH.optional(),label:tN.optional(),legend:tG.optional(),tooltip:tK.optional(),theme:ia.optional(),locale:iC.optional()}),iZ=b.Ry({chartType:b.i0("scatter"),dataset:tR.optional(),dimensions:tk.optional(),measures:t_.optional(),backgroundColor:tV.optional(),color:tH.optional(),label:tN.optional(),legend:tG.optional(),tooltip:tK.optional(),xAxis:tO.optional(),yAxis:tX.optional(),crosshairLine:tD.optional(),theme:ia.optional(),pointStyle:ip.optional(),annotationPoint:b.IX(ib).or(ib).optional(),annotationVerticalLine:b.IX(ih).or(ih).optional(),annotationHorizontalLine:b.IX(im).or(im).optional(),annotationArea:b.IX(iy).or(iy).optional(),locale:iC.optional()}),iO=b.Ry({chartType:b.i0("funnel"),dataset:tR.optional(),dimensions:tk.optional(),measures:t_.optional(),backgroundColor:tV.optional(),color:tH.optional(),label:tN.optional(),legend:tG.optional(),tooltip:tK.optional(),theme:ia.optional(),locale:iC.optional()}),iX=b.VK("chartType",[iR,iv,iA,ik,iS,iF,iz,iI,iP,i_,iB,iL,iM,iW,iZ,iT,iO]),iD=b.Ry({chartType:tx,dataset:tR,datasetReshapeInfo:tW,dimensions:tS,measures:t_,encoding:tL,config:io,theme:ia,markStyle:ig,customTheme:ii,annotation:ix,locale:iC})}}]);
//# sourceMappingURL=5199.52675059.js.map