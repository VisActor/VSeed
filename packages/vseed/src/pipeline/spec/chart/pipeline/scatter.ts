import type { SpecPipeline } from 'src/types'
import {
  yLinear,
  backgroundColor,
  tooltipScatter,
  discreteLegend,
  color,
  initPivot,
  datasetPivot,
  pivotDiscreteLegend,
  pivotIndicators,
  pivotAdapter,
  pivotIndicatorsAsRow,
  pivotGridStyle,
  pivotColumnDimensions,
  pivotRowDimensions,
  annotationPoint,
  annotationVerticalLine,
  annotationHorizontalLine,
  annotationArea,
  pointStyle,
  verticalCrosshairLine,
  xLinear,
  horizontalCrosshairLine,
  pointStateHover,
  initScatter,
  progressive,
  datasetScatter,
  linearColor,
  colorAdapter,
  colorPointStyleFill,
  colorLegend,
  pivotColorLegend,
  labelScatter,
  scatterSize,
  linearRegressionLine,
  lowessRegressionLine,
  polynomialRegressionLine,
  logisticRegressionLine,
} from '../pipes'

const scatter: SpecPipeline = [
  initScatter,
  colorAdapter(color, linearColor),
  backgroundColor,
  datasetScatter,
  progressive,
  xLinear,
  yLinear,
  scatterSize,
  labelScatter,
  tooltipScatter,
  colorAdapter(discreteLegend, colorLegend),
  verticalCrosshairLine,
  horizontalCrosshairLine,
  colorPointStyleFill(pointStyle),
  pointStateHover,
  annotationPoint,
  annotationVerticalLine,
  annotationHorizontalLine,
  annotationArea,
  linearRegressionLine,
  lowessRegressionLine,
  polynomialRegressionLine,
  logisticRegressionLine,
]

const pivotScatter: SpecPipeline = [
  initPivot,
  pivotGridStyle,
  pivotIndicatorsAsRow,
  datasetPivot,
  pivotIndicators([
    initScatter,
    colorAdapter(color, linearColor),
    backgroundColor,
    datasetScatter,
    progressive,
    xLinear,
    yLinear,
    scatterSize,
    labelScatter,
    tooltipScatter,
    verticalCrosshairLine,
    horizontalCrosshairLine,
    colorPointStyleFill(pointStyle),
    pointStateHover,
    annotationPoint,
    annotationVerticalLine,
    annotationHorizontalLine,
    annotationArea,
    linearRegressionLine,
    lowessRegressionLine,
  ]),
  pivotRowDimensions,
  pivotColumnDimensions,
  colorAdapter(pivotDiscreteLegend, pivotColorLegend),
]

export const scatterSpecPipeline: SpecPipeline = [pivotAdapter(scatter, pivotScatter)]
