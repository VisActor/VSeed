"use strict";(self.rspackChunkwebsite=self.rspackChunkwebsite||[]).push([["4080"],{5267(s,e,n){n.r(e),n.d(e,{default:()=>l});var r=n(78525),i=n(158);function a(s){let e={a:"a",code:"code",h1:"h1",h2:"h2",p:"p",pre:"pre",span:"span",...(0,i.R)(),...s.components};return(0,r.jsxs)(r.Fragment,{children:[(0,r.jsxs)(e.h1,{id:"发布",children:[(0,r.jsx)(e.a,{className:"rp-header-anchor","aria-hidden":"true",href:"#发布",children:"#"}),"发布"]}),"\n",(0,r.jsxs)(e.h2,{id:"生成-changeset",children:[(0,r.jsx)(e.a,{className:"rp-header-anchor","aria-hidden":"true",href:"#生成-changeset",children:"#"}),"生成 changeset"]}),"\n",(0,r.jsx)(e.p,{children:"要生成新的 changesets，请在仓库的根目录中执行 pnpm changeset。 .changeset 目录中生成的 markdown 文件应被提交到存储库。"}),"\n",(0,r.jsx)(r.Fragment,{children:(0,r.jsx)(e.pre,{className:"shiki css-variables",style:{backgroundColor:"var(--shiki-background)",color:"var(--shiki-foreground)"},tabIndex:"0",lang:"bash",lineNumbers:!0,children:(0,r.jsx)(e.code,{children:(0,r.jsxs)(e.span,{className:"line",children:[(0,r.jsx)(e.span,{style:{color:"var(--shiki-token-function)"},children:"pnpm"}),(0,r.jsx)(e.span,{style:{color:"var(--shiki-token-string)"},children:" changeset"})]})})})}),"\n",(0,r.jsx)(e.p,{children:"生成changeset后执行 git commit"}),"\n",(0,r.jsx)(r.Fragment,{children:(0,r.jsx)(e.pre,{className:"shiki css-variables",style:{backgroundColor:"var(--shiki-background)",color:"var(--shiki-foreground)"},tabIndex:"0",lang:"bash",lineNumbers:!0,children:(0,r.jsxs)(e.code,{children:[(0,r.jsxs)(e.span,{className:"line",children:[(0,r.jsx)(e.span,{style:{color:"var(--shiki-token-function)"},children:"git"}),(0,r.jsx)(e.span,{style:{color:"var(--shiki-token-string)"},children:" add"}),(0,r.jsx)(e.span,{style:{color:"var(--shiki-token-string)"},children:" ."})]}),"\n",(0,r.jsxs)(e.span,{className:"line",children:[(0,r.jsx)(e.span,{style:{color:"var(--shiki-token-function)"},children:"git"}),(0,r.jsx)(e.span,{style:{color:"var(--shiki-token-string)"},children:" commit"}),(0,r.jsx)(e.span,{style:{color:"var(--shiki-token-string)"},children:" -m"}),(0,r.jsx)(e.span,{style:{color:"var(--shiki-token-string-expression)"},children:' "chore: commit message"'})]})]})})}),"\n",(0,r.jsx)(e.p,{children:"上述过程可多次重复, 每一次的changeset内容都会被累加至最终的版本发布."}),"\n",(0,r.jsxs)(e.h2,{id:"更新版本",children:[(0,r.jsx)(e.a,{className:"rp-header-anchor","aria-hidden":"true",href:"#更新版本",children:"#"}),"更新版本"]}),"\n",(0,r.jsx)(e.p,{children:"执行如下命令更新版本, 并更新ChangeLog。"}),"\n",(0,r.jsx)(r.Fragment,{children:(0,r.jsx)(e.pre,{className:"shiki css-variables",style:{backgroundColor:"var(--shiki-background)",color:"var(--shiki-foreground)"},tabIndex:"0",lang:"bash",lineNumbers:!0,children:(0,r.jsx)(e.code,{children:(0,r.jsxs)(e.span,{className:"line",children:[(0,r.jsx)(e.span,{style:{color:"var(--shiki-token-function)"},children:"pnpm"}),(0,r.jsx)(e.span,{style:{color:"var(--shiki-token-string)"},children:" changeset"}),(0,r.jsx)(e.span,{style:{color:"var(--shiki-token-string)"},children:" version"})]})})})}),"\n",(0,r.jsx)(e.p,{children:"更新依赖和lock file"}),"\n",(0,r.jsx)(r.Fragment,{children:(0,r.jsx)(e.pre,{className:"shiki css-variables",style:{backgroundColor:"var(--shiki-background)",color:"var(--shiki-foreground)"},tabIndex:"0",lang:"bash",lineNumbers:!0,children:(0,r.jsx)(e.code,{children:(0,r.jsxs)(e.span,{className:"line",children:[(0,r.jsx)(e.span,{style:{color:"var(--shiki-token-function)"},children:"pnpm"}),(0,r.jsx)(e.span,{style:{color:"var(--shiki-token-string)"},children:" install"})]})})})}),"\n",(0,r.jsx)(e.p,{children:"提交更改"}),"\n",(0,r.jsx)(r.Fragment,{children:(0,r.jsx)(e.pre,{className:"shiki css-variables",style:{backgroundColor:"var(--shiki-background)",color:"var(--shiki-foreground)"},tabIndex:"0",lang:"bash",lineNumbers:!0,children:(0,r.jsxs)(e.code,{children:[(0,r.jsxs)(e.span,{className:"line",children:[(0,r.jsx)(e.span,{style:{color:"var(--shiki-token-function)"},children:"git"}),(0,r.jsx)(e.span,{style:{color:"var(--shiki-token-string)"},children:" add"}),(0,r.jsx)(e.span,{style:{color:"var(--shiki-token-string)"},children:" ."})]}),"\n",(0,r.jsxs)(e.span,{className:"line",children:[(0,r.jsx)(e.span,{style:{color:"var(--shiki-token-function)"},children:"git"}),(0,r.jsx)(e.span,{style:{color:"var(--shiki-token-string)"},children:" commit"}),(0,r.jsx)(e.span,{style:{color:"var(--shiki-token-string)"},children:" -m"}),(0,r.jsx)(e.span,{style:{color:"var(--shiki-token-string-expression)"},children:' "chore: release message"'})]}),"\n",(0,r.jsxs)(e.span,{className:"line",children:[(0,r.jsx)(e.span,{style:{color:"var(--shiki-token-function)"},children:"git"}),(0,r.jsx)(e.span,{style:{color:"var(--shiki-token-string)"},children:" push"})]})]})})}),"\n",(0,r.jsx)(e.p,{children:"PR合入至main分支后, 会自动触发 changesets workflow, 进行打包与发布工作."})]})}function l(){let s=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},{wrapper:e}={...(0,i.R)(),...s.components};return e?(0,r.jsx)(e,{...s,children:(0,r.jsx)(a,{...s})}):a(s)}l.__RSPRESS_PAGE_META={},l.__RSPRESS_PAGE_META["zh-CN%2Fvseed%2Fdevelopment%2FdevProgress%2Fpublish.md"]={toc:[{id:"生成-changeset",text:"生成 changeset",depth:2},{id:"更新版本",text:"更新版本",depth:2}],title:"发布",headingTitle:"发布",frontmatter:{title:"发布"}}}}]);
//# sourceMappingURL=4080.86dcee96.js.map